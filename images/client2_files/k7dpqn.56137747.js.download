(this.$WP=this.$WP||[]).push(["k7dpqn",(e,s)=>{var t,i,o,r,n,a,c,l,d,u,v,p,w,m,C={tripId:0},S={__key:0xf914dff39338,id:"f914dff393388ab2",loc:{},definitions:[]},f={Home:"HomeFeed",Profile:"ProfileFeed",Attractions:"AttractionList",Attraction_Review:"AttractionDetail",Attraction_Products:"AttractionList",AttractionProductReview:"AttractionProductReview",Hotels:"HotelList",SmartDeals:"HotelList",HotelHighlight:"HotelList",HotelsList:"HotelList",HotelsNear:"HotelList",Vacation_Packages:"HotelList",Hotel_Review:"HotelDetail",Restaurants:"RestaurantList",Restaurant_Review:"RestaurantDetail",ShowUserReviews:"ShowUserReview",ShowUserReviewsHotels:"ShowUserReview",ShowUserReviewsRestaurants:"ShowUserReview",ShowUserReviewsAttractions:"ShowUserReview",Recent:"Recent",Forums:"Forums",ShowTopic:"Forums",ShowForum:"Forums",Trips:"Trips",Map:"Map",MySaves:"MySaves",LastMinute:"HotelList",LocalMaps:"Map",LocalMapsRedesign:"Map",VacationRentalReview:"VacationRentalDetail"},k=e=>e&&f[e]?f[e].toUpperCase():void 0,R=e=>e&&(k(e)||k(e.replace(/^Mobile/u,""))),h=e=>"gaiTrip"===e?"unknown":e,U=({source:e,pageAsContext:s,saveObject:t,trackingContext:i,withSaveSession:c,withOrganizeSession:l})=>{var{page:u}=n(),{sessionUuid:w,sessionOrder:m,incrementOrder:C}=o.useContext(d),{sessionUuid:f,sessionOrder:k,incrementOrder:U}=o.useContext(v),O=o.useContext(a).impressionId||"",x=i||s&&u||void 0,{id:H,type:g}=t||{},T=h(g),{tripId:L}=o.useContext(p),M=o.useMemo(()=>({detailId:H?`${H}`:void 0,saveType:T,tripId:L}),[H,T,L]),A=o.useMemo(()=>c?{sessionType:"SAVE",sessionUuid:w,sessionOrder:m}:l?{sessionType:"ORGANIZE",sessionUuid:f,sessionOrder:k}:null,[k,f,m,w,l,c]),[,P]=r(S);return[o.useCallback((s,t)=>{c?C():l&&U();var i,o=M;t&&(o={detailId:`${t.id}`,saveType:t.type});var r=window.location.pathname,n="Unknown"===x?r.match(/^\/([a-zA-Z0-9_]+)/)?.[1]||"Home":x;return P({interaction:{[e]:(i={elementClick:s.elementClick&&{puid:O,...o,context:n,...A,...s.elementClick},filterClick:s.filterClick&&{puid:O,...s.filterClick},modalSuccess:s.modalSuccess&&{puid:O,...M,context:n,...A,...s.modalSuccess},overflowClick:s.overflowClick&&{puid:O,...s.overflowClick,...A},overflowSuccess:s.overflowSuccess&&{puid:O,...A,...M,...s.overflowSuccess},linkReferenceClick:s.linkReferenceClick&&{puid:O,...s.linkReferenceClick}},["elementClick","modalSuccess"].forEach(e=>{i[e]&&i[e].context&&(i[e].context=R(i[e].context)||null),i[e]&&i[e].saveType&&(i[e].saveType=i[e].saveType.toUpperCase()),i[e]&&i[e].action&&(i[e].action=i[e].action.toUpperCase())}),["elementClick","filterClick","modalSuccess","overflowClick","overflowSuccess"].forEach(e=>{i[e]&&i[e].element&&(i[e].element=i[e].element.toUpperCase())}),["modalSuccess"].forEach(e=>{i[e]&&i[e].fields&&(i[e].fields=i[e].fields.map(e=>e.toUpperCase()))}),i)}})},[c,l,O,M,x,A,P,e,C,U]),O]},O=({children:e,source:s,pageAsContext:o,saveObject:r,trackingContext:n,withSaveSession:a,withOrganizeSession:c})=>{var[l,d]=U({source:s,pageAsContext:o,saveObject:r,trackingContext:n,withSaveSession:a,withOrganizeSession:c});return t(i,{children:e(l,d)})},x=()=>{var[e,s]=o.useState({sessionUuid:c(),sessionOrder:0});return o.useMemo(()=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder,incrementOrder:()=>s(e=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder+1})),resetSession:()=>s({sessionUuid:c(),sessionOrder:0})}),[e])},H=({children:e})=>{var s=m();return t(d.Provider,{value:s,children:e})},g=({children:e})=>{var s=m();return t(v.Provider,{value:s,children:e})};return[()=>{l={sessionUuid:c(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},d=o.createContext(l),u={sessionUuid:c(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},v=o.createContext(u),p=o.createContext(C),O.defaultProps={pageAsContext:!1,saveObject:void 0,trackingContext:void 0},w=O,m=x,e({LogInteractionMutation:S,OrganizeSessionProvider:g,OrganizeSessionTrackingContext:v,SaveSessionProvider:H,SaveSessionTrackingContext:d,SponsorshipTrackingContext:p,TripInteraction:w,getInteractionsContext:R,useTripInteraction:U})},[e=>(t=e.jsx,i=e.Fragment),e=>o=e,e=>r=e.useMutation,e=>n=e.useRoute,e=>a=e.TripTrackingImpression,e=>c=e.uuid]]},["21h32l","o4yt4q","mqwhqn","fgwvq1","665v5s","eww825"]]);
