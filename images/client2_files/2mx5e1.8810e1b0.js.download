(this.$WP=this.$WP||[]).push(["2mx5e1",(e,t)=>{var a,i,r,n,s,o,l,d,c,p,u,m,_,v,g,h,y,b,f,T,D,P,C,I,w,S,N,k,x,A,M,E,L,B,j,G,O,R,W,F,q,z,V,$,H,Q,Y,U,Z,J,X,K,ee,et,ea,ei,er,en,es,eo,el,ed,ec,ep,eu,em,e_,ev,eg,eh,ey,eb,ef,eT,eD,eP,eC,eI,ew,eS,eN,ek,ex,eA,eM,eE,eL,eB,ej,eG,eO,eR,eW,eF,eq,ez,eV,e$,eH,eQ,eY,eU,eZ,eJ,eX,eK,e0,e1,e2,e5,e3,e4,e6,e9,e7,e8,te=({title:e,subtitle:t,align:r="left",...n})=>a("section",{className:ez(eV(n),{FTXhb:"left"===r,hioxQ:"center"===r}),children:[i(ea,{elementType:"p",variant:"title-02",marginBottom:t?"spacing-03":"spacing-06",dataAttributes:{"data-automation":"gai_page_title"},children:e}),t&&i(ea,{elementType:"p",variant:"body-01",color:"placeholderText",marginBottom:"spacing-03",dataAttributes:{"data-automation":"gai_page_subtitle"},children:t})]}),tt=({icon:e,text:t})=>a("div",{className:"QuCzs f u",children:[i(e,{marginRight:"spacing-02"}),t]}),ta=["January","February","March","April","May","June","July","August","September","October","November","December"],ti={container:"pbuTL",chips:"iYIuc f K",spinner:"f j"},tr={__key:0xad94abb6d510,id:"ad94abb6d510cb4e",loc:{},definitions:[]};function tn(){var{state:e,dispatch:t}=tA(),o=W(),{isLoading:l,interestTags:d,hasError:c}=function(e){var[{data:t,fetching:a,error:i}]=er({query:tr,variables:{request:{locationIds:[e??0]}},pause:!e});return{isLoading:a,interestTags:t?.Trips_getInterestTagsForLocation?.locationInterestTags?.[0]?.tags?.filter(Boolean).slice(0,12)||[],hasError:!!i}}(e.userPrompts.location?.locationId),p=n(()=>!l&&c?eY.map(t=>({...t,selected:e.userPrompts.activities.includes(t.value),dataAttributes:{"data-automation":`gai_activities_prompt_${t.value}_chip`}})):d?.map(t=>({label:t.name,value:t.name,selected:e.userPrompts.activities.includes(t.name),dataAttributes:{"data-automation":`gai_activities_prompt_${t.name}_chip`}}))||[],[l,d,c,e.userPrompts.activities]),u=n(()=>p.map(e=>e.value),[p]),m=e=>{t({type:"setOtherActivities",otherActivities:e})},_=e=>{t({type:"setDynamicActivities",dynamicActivities:e})},v=s(()=>{o("SelectActivities",{dynamicActivities:p.map(e=>e.value).join(", ")})},[o,p]),g=Z(()=>{v(),_(u)});return a("div",{className:ti.container,children:[l?i("div",{className:ti.spinner,children:i(K,{variant:"medium"})}):i("div",{className:ti.chips,ref:g,children:i(eW,{id:"trips-activities",display:"chip",onChange:e=>{t({type:"setActivities",activities:e})},values:p})}),i(eF,{maxLength:50,characterCountType:"max",value:e.userPrompts.otherActivities,marginY:"spacing-05",helperText:"Separate each entry with a comma",placeholder:"Nightlife, Spas, Shopping",onChange:e=>m(e.target.value),label:a(r,{children:[a(ea,{elementType:"span",variant:"title-05",children:["Other"," "]}),i(ea,{elementType:"span",variant:"body-01",color:"placeholderText",children:"(optional)"})]}),"data-automation":"gai_activities_prompt_other_activities_input"})]})}var ts=e=>e?`${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getDate().toString().padStart(2,"0")}`:"MM/DD",to=({label:e,endDate:t,startDate:r,maxRangeDays:n,onDateRangeSelect:s})=>{var[d]=o(new Date),[c]=o(new Date),p=l(null),[u,m]=o(),_=Q();return a("div",{className:"VsaVk e",children:[e&&i(ea,{elementType:"p",variant:"title-05",marginBottom:"spacing-03",children:e}),a("div",{className:"rQoro z u Pa PW Pn PI Gi Cj",ref:p,children:[i(eb,{size:24}),a(ea,{elementType:"span",variant:"input-03",marginLeft:"spacing-02",children:[ts(r)," - ",ts(t)]})]}),i(ef,{maxRangeDays:n,fromMonth:d,monthRange:12,disableBefore:c,startDate:r,endDate:t,numberOfMonths:"TABLET"===_||"MOBILE"===_?1:2,layoutStyle:"paginated",onDateSelect:e=>{u&&e>=u?e&&u&&(s(new Date(Math.min(u.getTime(),e.getTime())),new Date(Math.max(u.getTime(),e.getTime()))),m(void 0)):m(e)}})]})},tl=({label:e,...t})=>a(r,{children:[i(ea,{elementType:"p",variant:"title-05",marginBottom:"spacing-03",children:e}),i("div",{className:"iiDCT Pi PW Pv PI R4",children:i(eT,{...t})}),i("div",{className:"Wi",children:i(ea,{elementType:"p",variant:"supporting-02",marginTop:"spacing-03",children:"7 days maximum"})})]}),td={carousel:"EBGdZ",scrollContainer:"UQrin _t",items:"SXRWH",item:"hgfpx Fg I _u",scrollButton:"UMOKA",buttonWrapper:"CcMGf t e j",back:"RithP",forward:"YIrSH"},tc={aspectRatio:"1:1",sizeHint:{mobile:"50vw",tablet:"20vw"}},tp=({icon:e,label:t,disabled:a,onClick:r,dataAttributes:n})=>i("span",{className:td.scrollButton,children:i(C,{icon:e,variant:"primary-border","aria-label":t,disabled:a,onClick:r,...n})}),tu=({children:e})=>{var{localize:t}=N(),[r,{canGoBack:n,canGoForward:s,goBack:o,goForward:l,checkScrollPosition:u}]=eu({waypointSelector:"[data-carousel-waypoint]"}),m=s||n;return d(()=>{u()},[u,e]),i(em.Provider,{value:tc,children:a("div",{className:td.carousel,children:[i("div",{className:td.scrollContainer,ref:r,children:i("ul",{className:td.items,children:c.map(e,e=>a("li",{className:td.item,children:[e,i("div",{"data-carousel-waypoint":!0})]},p(e)?e.key:void 0))})}),m&&n&&i("div",{className:U(td.buttonWrapper,td.back),children:i(tp,{icon:ej,label:t.string("common_Previous"),disabled:!n,onClick:o,dataAttributes:{"data-automation":"gai_dates_prompt_month_picker_previous_button"}})}),m&&s&&i("div",{className:U(td.buttonWrapper,td.forward),children:i(tp,{icon:eG,label:t.string("common_Next"),disabled:!s,onClick:l,dataAttributes:{"data-automation":"gai_dates_prompt_month_picker_next_button"}})})]})})},tm=({month:e,disabled:t,onSelect:n})=>{var s=new Date().getMonth(),o=eH.map((e,t)=>({...e,index:t})),l=[...o.slice(s),...o.slice(0,s)];return a(r,{children:[a(ea,{elementType:"p",variant:"title-05",marginBottom:"spacing-03",children:[i(ea,{elementType:"span",variant:"title-05",children:i(S,{id:"trips_gai_trip_prompts_month_selector_what_month"})})," ",i(ea,{elementType:"span",variant:"body-01",color:"placeholderText",children:i(S,{id:"trips_gai_trip_prompts_optional"})})]}),i("div",{children:i(eX,{children:l.map(r=>{var s=e===r.value;return a("button",{className:U("jERBr f e u j _S V Re Gi Cj",{nDTnD:s}),onClick:()=>{n(r.value,r.index)},"aria-pressed":s,"aria-disabled":t,type:"button",disabled:t,"data-automation":`gai_dates_prompt_month_picker_${r.value}`,children:[i(eb,{}),i(ea,{marginTop:"spacing-02",elementType:"span",variant:"input-01",children:r.label})]},r.value)})})})]})},t_={daysContainer:"rUhXx"},tv=()=>{var{localize:e}=N(),{state:t,dispatch:l}=tA(),d=W(),{userPrompts:c}=t,p=n(()=>[{state:"DATES",label:e.string("trips_v2_dates_modal_calendar_dates_title"),dataTestid:"Gai.selectDatesModeBtn",dataAutomation:"gai_dates_prompt_tab_dates"},{state:"DAYS",label:e.string("trips_gai_trip_prompts_dates_number_days"),dataTestid:"Gai.selectDaysModeBtn",dataAutomation:"gai_dates_prompt_tab_days"}],[e]),[u,m]=o(c.inexactDates?p[1].state:p[0].state),_=Z(s(()=>{d("SelectDatesDays")},[d])),v=s(e=>{l({type:"setInexactDates",inexactDates:e===p[1].state}),m(e)},[l,p]);return i("div",{ref:_,children:i(ey,{states:p,onStateChange:v,activeState:u,children:u===p[0].state?i(eZ,{startDate:c?.dates?.startDate,endDate:c?.dates?.endDate,onDateRangeSelect:(e,t)=>{l({type:"setDates",dates:{startDate:e,endDate:t}}),e&&t&&(l({type:"setDays",days:O(e,t)}),l({type:"setDates",dates:{month:ta[e.getMonth()]}}))},maxRangeDays:7}):a(r,{children:[i("div",{className:t_.daysContainer,children:i(eJ,{rangeMin:1,rangeMax:7,currentStepValue:c?.days,onStepChange:e=>{if(l({type:"setDays",days:e}),c.dates?.startDate&&c.dates?.endDate){var t=new Date(c.dates.startDate);t.setDate(t.getDate()+(e-1)),l({type:"setDates",dates:{startDate:c.dates.startDate,endDate:t}})}},label:e.string("trips_gai_trip_prompts_dates_how_m_days"),secondaryText:e.string("trips_gai_trip_prompts_dates_number_days"),minusLabel:"decrease",plusLabel:"increase",dataAttributes:{minusButton:{"data-automation":"gai_dates_prompt_days_minus_button"},plusButton:{"data-automation":"gai_dates_prompt_days_plus_button"}}})}),i(eK,{month:c?.dates?.month,onSelect:(e,t)=>{if(l({type:"setDates",dates:{month:e}}),c.dates?.startDate&&c.dates?.endDate){var a=new Date,i=new Date(c.dates.startDate);i.setMonth(t),i.setFullYear(a.getFullYear()),t<i.getMonth()&&i.setMonth(t+1,0),i<a&&i.setFullYear(a.getFullYear()+1);var r=new Date(i);r.setDate(i.getDate()+(c.days-1)),l({type:"setDates",dates:{startDate:i,endDate:r}})}}})]})})})},tg={popularDestinationsSection:"DdpgC",popularDestinationsGrid:"CfwNA A",popularDestinationItem:"Re o",skeleton:"znqNa w"},th=({text:e,image:t,onClick:r,dataAttributes:n})=>i(eh,{onClick:r,className:"npmng _R w",...n,children:a("div",{className:"eeTSx H0",children:[i(ev,{theme:"image",children:i(eg,{source:t,aspectRatio:"1:1",sizeHint:e_().sizeHint})}),i("div",{className:"sLKIf _U s l",children:i(ea,{variant:"title-04",color:"onDarkText",lineClamp:4,children:e})})]})}),ty={__key:0xc3f1b0db9f4e,id:"c3f1b0db9f4eb247",loc:{},definitions:[]},tb={__key:0x9e560ebc1c11,id:"9e560ebc1c119280",loc:{},definitions:[]},tf=e=>Math.floor(Math.random()*e.length),tT=(e,t)=>{for(var a=[],i=[],r=new Map;a.length<t&&i.length<e.length;){var n=tf(e),s=!i.includes(n),o=e[n],l=o.locationV2?.names?.longOnlyHierarchyTypeaheadV2,d=l&&r.get(l)||[];i.push(n),l&&s&&d.length<2&&(a.push(e[n]),r.set(l,[...d,o]))}return a};function tD({popularDestinations:e,topPhotosMap:t,isLoading:r,onSelect:n}){var s=Q();return e&&e.length>0&&t.size>0||r?a("div",{className:tg.popularDestinationsSection,children:[i(ea,{variant:"MOBILE"===s?"title-04":"title-03",marginBottom:"spacing-03",children:i(S,{id:"trips_v2_gai_where_step_popular_destinations_heading"})}),i("div",{className:tg.popularDestinationsGrid,children:r?[...Array(6).keys()].map(e=>i("div",{className:tg.skeleton,children:i(ee,{width:"100%",height:"100%",display:"inline-block"})},e)):e?.map(e=>i("div",{className:tg.popularDestinationItem,children:i(e0,{text:e?.name,image:t.get(Number(e.locationId)),onClick:t=>{t.preventDefault();var{locationId:a,name:i}=e||{};a&&i&&n({locationId:a,locationName:i})},dataAttributes:{"data-automation":`gai_popular_destination_${e?.locationId}_card`}})},e?.locationId))})]}):null}var tP={__key:0xa60ccb3a8215,id:"a60ccb3a82155018",loc:{},definitions:[]},tC=()=>{var e=en();return s(t=>e.mutation(tP,{locationIds:[t]}).toPromise().then(()=>!0).catch(()=>!1),[e])};function tI(){var{state:e,dispatch:t,next:r}=tA(),o=W(),l=F(),c=function(){var[{data:e,fetching:t}]=er({query:ty}),a=n(()=>e?.popularDestinations?tT(e.popularDestinations.filter(Boolean),6):null,[e?.popularDestinations]),[{data:i,fetching:r}]=er({query:tb,pause:!a||0===a.length,variables:{request:a?.filter(e=>!!e?.locationId).map(e=>({locationId:Number(e?.locationId),length:1}))||[]}});return{popularDestinations:a,topPhotosMap:n(()=>i?.PrimaryMedia_getTopPhotos?.reduce((e,t)=>(e.set(Number(t?.locationId),t?.photos?.[0]?.photo?.photoSizes),e),new Map)||new Map,[i]),isLoading:t||r}}(),p=e1(),u=e.userPrompts.location?.locationName,m=s(e=>a=>{a&&(t({type:"setLocation",location:a}),l("SelectDestination",{locationId:a.locationId,destinationEntered:a.locationName,isRecommended:e}),a.locationId&&p(a.locationId),r())},[t,l,r,p]);d(()=>{c.popularDestinations&&o("SelectDestination",{recommendedGeos:c.popularDestinations.map(e=>e?.locationId)})},[o,c.popularDestinations]);var _=s(e=>{e&&o("ErrorUnsupportedDestination",{customData:{destinationEntered:e,placement:"LocationScreen"}})},[o]);return a("div",{children:[i("div",{className:"aWQwA M_",children:i(ep,{onSelect:m(!1),initialQuery:u,onLocationNotFound:_})}),i(tD,{onSelect:m(!0),...c})]})}function tw({options:e,value:t,onChange:r}){var n=e=>{r(e)};return i("div",{className:"IGuso",children:e.map(e=>a("button",{onClick:()=>n(e.value),className:U("UrjmR z e Pj PX Pw PJ Gi _S",{DAcuW:e.value===t}),"aria-label":`Select ${e.label}`,"aria-pressed":e.value===t,type:"button","data-automation":`gai_travelers_prompt_${e.value}_button`.toLowerCase(),children:[i("div",{className:"WECWG Cj",children:i(e.icon,{size:34,"aria-hidden":"true"})}),i("div",{children:i(ea,{variant:"title-04",children:e.label})})]},e.value))})}var tS={container:"aGrmb",includeChildren:"TDaNS",button:"nIRrZ",selectedButton:"RdpBL",travelingWithChildren:"swANc K",tooltipContainer:"eagNX _T",tipContent:"GDSNZ"};function tN(){var{state:e,dispatch:t}=tA(),r=W(),o=F(),l=e=>{t({type:"setTravelers",travelerType:e})},d=e=>{t({type:"setIncludeChildren",includeChildren:e})},c=s(()=>{r("SelectTravelers")},[r]),p=s(()=>{o("SelectChildrenTooltip")},[o]),u=Z(c),m=n(()=>i("div",{className:tS.tipContent,children:i(S,{id:"trips_gai_modal_prompt_traveler_children_info"})}),[]);return a("div",{className:tS.container,ref:u,children:[i(tw,{onChange:e=>{("SOLO"===e||"SPOUSE"===e)&&d(!1),l(e)},options:eU,value:e.userPrompts.travelerType}),"FAMILY"===e.userPrompts.travelerType||"FRIENDS"===e.userPrompts.travelerType?a("div",{className:tS.travelingWithChildren,children:[a(ea,{variant:"title-02",children:[i(S,{id:"trips_gai_modal_prompt_traveler_children"}),i("span",{className:tS.tooltipContainer,children:i(eR,{triggeringElement:i(eO,{size:16}),content:m,variant:"bottom-caret",alignment:"left",onShowTooltip:p,fitToContent:"expand"})})]}),a("div",{className:tS.includeChildren,children:[i(eh,{className:U(tS.button,{[tS.selectedButton]:e.userPrompts.includeChildren}),onClick:()=>d(!0),"aria-label":"Yes","data-automation":"gai_travelers_prompt_children_yes_button",children:i(ea,{variant:"button-01",children:i(S,{id:"trips_gai_modal_prompt_traveler_children_yes"})})}),i(eh,{className:U(tS.button,{[tS.selectedButton]:!e.userPrompts.includeChildren}),onClick:()=>d(!1),"aria-label":"No","data-automation":"gai_travelers_prompt_children_no_button",children:i(ea,{variant:"button-01",children:i(S,{id:"trips_gai_modal_prompt_traveler_children_no"})})})]})]}):null]})}function tk(e,t){switch(t.type){case"next":if(e.step===e2.length-1)return e;return{...e,validationError:void 0,step:e.step+1};case"previous":if(0===e.step)return e;return{...e,validationError:void 0,step:e.step-1};case"setStep":return{...e,validationError:void 0,step:t.step};case"reset":return e3;case"setActivities":return{...e,validationError:void 0,userPrompts:{...e.userPrompts,activities:t.activities}};case"setDates":return{...e,validationError:void 0,userPrompts:{...e.userPrompts,dates:{...e.userPrompts.dates,...t.dates}}};case"setDays":return{...e,userPrompts:{...e.userPrompts,days:t.days}};case"setIncludeChildren":return{...e,userPrompts:{...e.userPrompts,includeChildren:t.includeChildren}};case"setInexactDates":return{...e,validationError:void 0,userPrompts:{...e.userPrompts,inexactDates:t.inexactDates}};case"setIsValidating":return{...e,isValidating:e.isValidating};case"setLocation":return{...e,validationError:void 0,userPrompts:{...e.userPrompts,location:t.location,activities:[]},dynamicActivities:[]};case"setOtherActivities":return{...e,validationError:void 0,userPrompts:{...e.userPrompts,otherActivities:t.otherActivities}};case"setTravelers":return{...e,userPrompts:{...e.userPrompts,travelerType:t.travelerType}};case"setValidationError":return{...e,validationError:t.validationError};case"setDynamicActivities":return{...e,dynamicActivities:t.dynamicActivities};default:return e}}var tx=({initialLocation:e,children:t,initialStep:a})=>{var[r,o]=u(tk,e3),l=ec(),c=W(),{localize:p}=N(),m=s(async e=>{var{moderate:t}=e2[Math.max(0,e.step)];if(!e2[Math.max(0,e.step)].moderate)return null;var a=t?.(e);if(!a)return null;try{var i=await l(a);return i&&c("ProfanyActivityBlocker",{text:a}),i?p.string("trips_gai_trip_prompts_moderation_error"):null}catch(e){return Promise.reject(e)}},[l,c,p]),_=s(()=>o({type:"next"}),[]),v=s((e=0)=>o({type:"setStep",step:e}),[]),g=s(()=>o({type:"previous"}),[]),h=s(()=>o({type:"reset"}),[]),y=s(e=>o({type:"setIsValidating",isValidating:e}),[]),b=s(e=>o({type:"setLocation",location:e}),[]),f=s(e=>o({type:"setValidationError",validationError:e}),[]),T=e2[Math.max(0,r.step)],D=r.step<e2.length-1,P=r.step>0,C=(r.step+1)/e2.length*100;d(()=>{b(e)},[b,e]),d(()=>{v(a)},[v,a]);var I=n(()=>({currentStep:T,dispatch:o,moderate:m,next:_,previous:g,progress:C,reset:h,setIsValidating:y,setLocation:b,setValidationError:f,showNext:D,showPrevious:P,state:r}),[T,m,_,g,C,h,y,b,f,D,P,r]);return i(e4.Provider,{value:I,children:t})},tA=()=>{var e=_(e4);if(!e)throw Error("useGaiTripPrompts must be used within a GaiTripPromptsProvider");return e},tM={screen:"yWeHB",locationScreen:"udhXu",error:"LakkH"};function tE(){var{currentStep:e,state:t}=tA(),r=e.Component,n=s(e=>{e?.scrollIntoView({behavior:"smooth",block:"start"})},[]);return a("div",{className:U({[tM.screen]:"default"===e.screenVariant,[tM.locationScreen]:"location"===e.screenVariant}),children:[i(e$,{title:e?.title,subtitle:e?.subtitle,align:e?.titleAlign,marginBottom:"spacing-05"}),t.validationError?i("div",{ref:n,className:tM.error,children:i(eq,{variant:"warning",children:i("span",{"data-invalid-input":"true","aria-live":"assertive",children:t.validationError})})}):null,i(r,{})]})}var tL={__key:0xcee736ea9542,id:"cee736ea95426067",loc:{},definitions:[]},tB={__key:0x8e4bdab4e964,id:"8e4bdab4e964fd76",loc:{},definitions:[]},tj={container:"LmIjA Mm Na MA NB u j",invisible:"wGhIz",visible:"IXFXy"},tG=({onLoginSuccess:e,onLoginFailure:t})=>{var[r,n]=o(!1),d=W(),c=Z(s(()=>{d("SignInModal")},[d])),p=l(null);return a("div",{className:tj.container,ref:c,children:[i("div",{className:U(tj.invisible,{[tj.visible]:r}),children:i(X,{flow:"CORE_COMBINED",flowOrigin:"login",pid:40612,forceLogin:!0,onLoginSuccess:e,onLoginFailure:t,onReady:()=>n(!0),forwardedRef:p,extraQueryParams:{contextualMessage:"trips_v2_login_gai_modal_title"}})}),i("div",{className:U(tj.invisible,{[tj.visible]:!r}),children:i(K,{variant:"large"})})]})};function tO({onTryLaterClick:e}){return a("div",{className:"LHvoR f e u c _Z j",children:[i(ea,{elementType:"p",variant:"title-02",marginBottom:"spacing-02",children:i(S,{id:"trips_error_smal_snag"})}),i(ea,{elementType:"p",variant:"body-01",marginBottom:"spacing-04",children:i(S,{id:"trips_error_slight_delay"})}),i(P,{variant:"primary",size:"medium",onClick:e,children:i(S,{id:"trips_error_try_again_later"})})]})}var tR={poster:"/img2/trips/loading-gai-preview.jpg",video:[{src:"https://site-assets-cdn.trips-prd.tamg.cloud/assets/trip_advisor_load_animation_cards_sparkles.mp4",type:"video/mp4"}]},tW={poster:"/img2/trips/loading-gai-preview-dark.jpg",video:[{src:"https://site-assets-cdn.trips-prd.tamg.cloud/assets/trip_advisor_load_animation_cards_sparkles_dark.mp4",type:"video/mp4"},{src:"https://site-assets-cdn.trips-prd.tamg.cloud/assets/trip_advisor_load_animation_cards_sparkles_dark.webm",type:"video/webm"}]};function tF({duration:e,locationName:t}){var{theme:r}=ei(),l=n(()=>[`${t} is a great choice! We're gathering popular things to do, restaurants, and more...`,"Next up: We're combing through traveler reviews and tips to find recommendations just for you.",`Last leg! We're whipping it all up into an easy ${e}-day plan. (Friendly reminder: AI isn't always perfect, but it'll help you hit the ground running.)`],[e,t]),[c,p]=o(0);d(()=>{var e=setInterval(()=>{c<l.length-1&&(p(e=>e+1),c===l.length-2&&clearInterval(e))},4e3);return()=>clearInterval(e)},[l.length,c]);var u=W();return a("div",{className:"hxpVB c f e u",ref:Z(s(()=>{u("TripLoadingItinerary")},[u])),"data-automation":"gai_modal_loading_screen",children:[i("video",{disablePictureInPicture:!0,muted:!0,loop:!0,height:260,width:260,autoPlay:!0,playsInline:!0,poster:"LIGHT"===r?tR.poster:tW.poster,children:"LIGHT"===r?tR.video.map(e=>i("source",{src:e.src,type:e.type},e.src)):tW.video.map(e=>i("source",{src:e.src,type:e.type},e.src))}),i("div",{className:"GUqgV",children:i(ea,{variant:"body-01",children:l[c]})})]})}var tq=({primaryAction:e,showBack:t=!1,onBack:r=()=>{}})=>{var{localize:n}=N();return i("div",{className:"oURUk",children:a("div",{className:"TVKqF f",children:[t&&i(I,{onClick:r,children:n.string("mobile_back_8e0")}),i("div",{className:"ciMnF f NB",children:e})]})})},tz={__key:56623040765752,id:"337f943b1f38a391",loc:{},definitions:[]},tV={content:"QzsBG c z",buttons:"aqTjP f u j",loadingContentWrapper:"RxiZg f e u Ml Nl MK NN"};function t$({onLeave:e,onCancel:t,trip:s}){var o="MOBILE"===Q(),l=n(()=>(s?.days||[]).flatMap(e=>e.items).map(e=>{var t=e.tripItem?.object?.object;if(!t)return null;var a=eo(t);return a?{...a,id:a.id.toString()}:null}).filter(Boolean),[s]),[{fetching:d,data:c}]=er({query:tz,variables:{saveObjects:l},requestPolicy:"network-only",pause:!l});d||(c?.Trips_isSaved||[]).some(e=>!e)||e();var p=a("div",{className:tV.loadingContentWrapper,children:[i(ea,{variant:o?"title-04":"title-03",marginBottom:"spacing-03",children:i(S,{id:"trips_gai_modal_warning_fetching_status"})}),i(K,{variant:"large"})]});return i(es,{overrideContentStyling:!0,mobileContainerStyle:"inset",onClose:t,children:i("div",{className:tV.content,children:d?p:a(r,{children:[i(ea,{variant:o?"title-04":"title-03",marginBottom:"spacing-03",children:i(S,{id:"trips_gai_modal_warning_title_v2"})}),i(ea,{variant:"body-01",marginBottom:"spacing-04",children:i(S,{id:"trips_gai_modal_warning_body"})}),a("div",{className:tV.buttons,children:[i(P,{fullWidth:o,variant:"secondary",onClick:e,children:i(S,{id:"trips_gai_modal_warning_leave"})}),i(P,{fullWidth:o,onClick:t,children:i(S,{id:"trips_gai_modal_warning_go_back"})})]})]})})})}var tH={__key:0xb17369a3c529,id:"b17369a3c5291928",loc:{},definitions:[]},tQ=e=>"number"==typeof e,tY=e=>!!e&&("free"===e||"outage"===e),tU=([e,t],a,i)=>null!==a&&tQ(i)?!a||i>t?"full":i>=e?"limited":"free":"outage";function tZ(e,t,a){var[{fetching:i,data:r,error:n},s]=er({query:tH,pause:a,requestPolicy:"network-only",variables:{key:e}}),o=r?.Trips_getQueueStats?.availability,l=r?.Trips_getQueueStats?.averageProcessingTimeInMillis;return{refetch:s,status:void 0===o?null:tU(t,o,l),waitingTime:l,fetching:i,error:n}}var tJ=(e,t)=>"limited"!==tU(t,e?.data?.Trips_getQueueStats?.availability??null,e?.data?.Trips_getQueueStats?.averageProcessingTimeInMillis)||!!e?.error;function tX(){return i("div",{className:"f u j _Z",children:i(et,{})})}var tK=e=>{var t=Math.round(e/1e3),a=Math.floor(t/60),i=15*Math.round(t%60/15);return i>=60&&(a++,i=0),[a,i]},t0=(e,t)=>{var a=1===e?`${e} minute`:`${e} minutes`,i=1===t?`${t} second`:`${t} seconds`;return 0===e?i:0===t?a:`${a} ${i}`};function t1({waitingTime:e,onCancel:t}){var r=q(),n=z(),[o,l]=tK(e),d=s(()=>{r("WaitInLineModal",{CapacityType:"Limited",ScreenType:"InFlow",InitialWaitTime:[o,l]})},[r,o,l]),c=s(()=>{n("ComebackLaterClick",{ScreenType:"InFlow",CapacityType:"Limited"}),t()},[n,t]);return i("div",{className:"f u j _Z",ref:J(d),children:a("div",{className:"mOHOu f e u c",children:[i(et,{}),i(ea,{variant:"title-02",children:t0(o,l)}),i(ea,{variant:"body-01",children:"Please, don’t close or refresh this page, or you’ll lose your place in line."}),i(P,{variant:"secondary",onClick:c,children:"Come back later"})]})})}var t2=e=>"full"===e?"Full":"limited"===e?"Limited":"Outage",t5=e=>"entry"===e?"Entry":"InFlow";function t3({waitingTime:e,onCancel:t,onContinue:r,status:o,screenType:l}){var d=q(),c=z(),[p,u]=tK(e??0),m=t0(p,u),_=s(()=>{d("CapacityModal",{CapacityType:t2(o),ScreenType:t5(l),DescriptionWaitTime:m})},[d,m,l,o]),v=s(()=>{c("ComebackLaterClick",{CapacityType:t2(o),ScreenType:t5(l),DescriptionWaitTime:m}),t()},[c,m,t,l,o]),g=s(()=>{c("WaitInLineClick",{CapacityType:"Limited",ScreenType:t5(l),DescriptionWaitTime:m}),r()},[c,m,r,l]);ed("beforeunload",s(()=>{c("BrowserExit",{CapacityType:t2(o),ScreenType:t5(l)})},[c,o,l]));var h=J(_),y=n(()=>p>=59?`Our community of travelers is eager to explore, so there’s a long wait time.`:`Our community of travelers is eager to explore, so there’s a wait time of approximately ${m}.`,[p,m]);return i("div",{ref:h,className:"f u j _Z",children:a("div",{className:"aQQoJ f e u c",children:[i(ea,{variant:"title-02",children:"We’re at capacity"}),i(ea,{variant:"body-01",children:y}),"limited"===o&&i(P,{onClick:g,children:"Keep going"}),i(P,{variant:"secondary",onClick:v,children:"Come back later"})]})})}function t4({onClose:e,onTripGenerated:t,tripId:c,flowId:p}){var{cancel:u,generate:m,testStatus:_,tripId:v}=function(e){var[t,a]=o(),i=en(),r=l(!0),n=l(),d=s(()=>{r.current=!1,n.current&&clearTimeout(n.current)},[]),c=s(e=>new Promise((t,s)=>{var o=0;a(e);var l=e=>{o<10?(o+=1,n.current=setTimeout(()=>d(),5e3)):s(e)},d=()=>{r.current&&i.query(tB,{request:{tripId:e}},{requestPolicy:"network-only"}).toPromise().then(e=>{e.data?.Trips_getGeneratedTripStatus?.status==="COMPLETE"||e.data?.Trips_getGeneratedTripStatus?.status==="READY"?t(e.data?.Trips_getGeneratedTripStatus?.tripId):e.data?.Trips_getGeneratedTripStatus?.status==="ERROR"?s(e.data?.Trips_getGeneratedTripStatus?.error):e.error?l(e.error):n.current=setTimeout(()=>d(),5e3)}).catch(e=>{l(e)})};d()}),[i]);return{generate:s(t=>{r.current=!0;var a={};if(t.userPrompts.inexactDates){var n=t.userPrompts.dates?.month?function(e){var t=new Date;if(!e)return new Date(t.getFullYear(),t.getMonth()+1,1);var a=eH.findIndex(t=>t.value===e),i=t.getFullYear();return a>=t.getMonth()?new Date(i,a,1):new Date(i+1,a,1)}(t.userPrompts.dates.month):void 0;a={approximateDate:{numberOfDays:t.userPrompts.days,month:n&&n.getMonth()+1,year:n?.getFullYear()}}}else a={exactDate:{startDate:t.userPrompts.dates?.startDate?.toISOString()||"",endDate:t.userPrompts.dates?.endDate?.toISOString()||""}};return new Promise((r,n)=>{i.mutation(tL,{request:{locationIds:t.userPrompts.location?.locationId?[t.userPrompts.location.locationId]:[],includesLocationIds:[],interestTags:t.userPrompts.activities,additionalInterests:t.userPrompts.otherActivities?.trim(),travelingWith:t.userPrompts.travelerType,includeChildren:t.userPrompts.includeChildren,tripDate:a,useQueueProcessing:!0,trackingToken:e}}).toPromise().then(e=>{var t=e.data?.Trips_createGeneratedTrip?.tripId??null;if(!t)throw Error("Could not generate trip");return t}).then(e=>c(e)).then(e=>r(e)).catch(e=>{n(e)})})},[i,e,c]),testStatus:c,tripId:t,cancel:d}}(p),{currentStep:g,moderate:h,next:y,previous:b,progress:f,reset:T,setIsValidating:D,setValidationError:C,showNext:I,showPrevious:w,state:x}=tA(),{localize:j}=N(),[O,z]=o(c),{status:V,lastUpdated:U}=A(O),{trip:Z,fetching:J}=M(O,U,V),X=l(null),K=k(),ee="MOBILE"===Q(),[et,ea]=o(!1),[ei,er]=o(!1),[es,eo]=o(!1),[ed,ec]=o(),[ep,eu]=o(!1),[em,e_]=o(!1),[ev,eg]=o(!1),[eh,ey]=o(!1),[eb,ef]=o(!1),[eT,eD]=o(!1),{showPlacesToStay:eP,savePlacesToStay:eC,placesToStay:eI}=G(),{refetch:ew,status:eS,waitingTime:eN,fetching:ek}=tZ("entry",[18e4,3e5],!K||eb),{status:ex,waitingTime:eA,fetching:eM,error:eE}=tZ("preflight",[2e4,3e5],!eb),{status:eL,waitingTime:eB,fetching:ej,error:eG,timedOut:eO}=function(e,t){var[a,i]=o(!1),[r]=el({query:tH,pollIntervals:e8,isResultComplete:t=>(a||i(!0),tJ(t,e)),pause:t});d(()=>{i(!1)},[t]);var{fetching:n,data:s,error:l}=r,c=s?.Trips_getQueueStats?.availability,p=s?.Trips_getQueueStats?.averageProcessingTimeInMillis,u=a&&!n&&!t&&!tJ(r,e),m=void 0===c?null:tU(e,c,p);return{status:t?null:m,waitingTime:p,fetching:n,timedOut:u,error:l}}([2e4,3e5],!ei),eR=F(),eW=$(),eF=W(),eq=q(),{isValidating:ez}=x,[eV,e$]=o({}),eQ="LOADING"===V,eY="COMPLETE"===V&&!Z,eU=s(async()=>{D(!0);var e=g.validate?.(x),t=await h(x).catch(()=>(eo(!0),j.string("trips_gai_modal_internal_error")));return(D(!1),e)?(C(e),!1):!t||(C(t),!1)},[g,h,D,C,x,j]),eZ=s((e,t,a)=>{e$(i=>({...i,[e]:{...i[e],helpful:t,answers:a}}))},[]),eJ=s(()=>{eF("TripDetailsFeedbackOverall",{tripId:O,...eV})},[eF,O,eV]),eX=s(()=>{em?e_(!1):es?eo(!1):b()},[es,b,em]),eK=s(()=>{if(Z&&!eT)eW("TripDetailsExitItinerary",{tripId:O}),eg(!0);else{var t=g.type;em&&(t="login"),ed&&(t="loading"),eR("ExitModal",{flowCompleted:!I,loadingScreen:t}),T(),e(),u()}},[u,g.type,ed,e,T,I,O,em,eR,eW,Z,eT]),e0=s(()=>{eW("TripDetailsCancelledExit",{tripId:O}),eg(!1)},[eW,O]),e1=s(()=>{eJ(),eW("TripDetailsConfirmExit",{tripId:O}),eR("ExitModal",{flowCompleted:!0,loadingScreen:ed?"loading":"preview"}),T(),e()},[T,ed,e,eW,eR,eJ,O]),e2=s(async()=>{if(await eU()){var e=g.getTrackingData?.(x);e&&eR(e.itemName,e.customData),y()}},[y,eU,eR,g,x]),e3=s(async()=>{eo(!1),ec(!0),eR("TripSubmitoCreateItinerary",{locationId:x.userPrompts.location?.locationId?.toString()||"",locationName:x.userPrompts.location?.locationName||"",isDated:x.userPrompts.inexactDates?null:`${ts(x.userPrompts.dates?.startDate)} - ${ts(x.userPrompts.dates?.endDate)}`,isDays:x.userPrompts.inexactDates?`${x.userPrompts.days} - ${x.userPrompts.dates?.month}`:null,travelerType:x.userPrompts.travelerType,includeChildren:x.userPrompts.includeChildren,activities:x.userPrompts.activities.join(", "),otherActivities:x.userPrompts.otherActivities,signedInPrior:eh});try{var e=m(x),a=new Promise(e=>{setTimeout(e,e6)}),[i]=await Promise.all([e,a]);if(ec(!1),null===i){eo(!0);return}z(i),t?.(i)}catch(e){console.error(e),ec(!1),eo(!0),eF("LoadingError",{eventTimestamp:Date.now(),ErrorCode:e?.name||String(e)})}},[m,eh,x,eR,eF,t]);d(()=>{var e=!eM&&tY(ex),t=!ej&&tY(eL);void 0===ed&&(e||t)&&e3()},[e3,ex,eM,ej,eL,ed]);var e4=s(async()=>{if(v)try{ec(!0),_(v);var e=await _(v);if(ec(!1),null===e){eo(!0);return}z(e),t?.(e)}catch(e){console.error(e),ec(!1),eo(!0),eF("LoadingError",{eventTimestamp:Date.now(),ErrorCode:e?.name||String(e)})}else eb?ew():ef(!0)},[v,_,ew,eb,eF,t]);d(()=>{!es&&(eG||eO||eY||eE)&&eo(!0)},[es,eG,eO,eY,eE]);var te=s(e=>(t,a,i,r,n)=>{(eJ(),"CREATED"===a)?(eu(!0),eW("TripDetailsCreateTrip",{tripId:O,saveType:e,tripCreationMethod:"GAI",title:Z?.title,geo:Z?.geoName,days:Z?.days?.map(e=>({day:e.title,dayNarration:e.description,items:e?.items?.map((e,t)=>({itemId:e.id,itemNarration:e.gaiNarration,SaveCreationMethod:"GAI",GAIItemOrder:t+1,bookableExperienceId:E(e)}))}))})):eR("TripDetailsSavetoExisting",{saveType:e,sourceTripId:O,destinationTripId:i,destinationTripTitle:r,itemId:n})},[eW,eR,eJ,Z?.days,Z?.geoName,Z?.title,O]),tt=s((e,t)=>{"name"===e?eR("TripDetailsEditTrip",{tripId:O,title:t}):"privacy"===e&&eR("TripDetailsPrivacyClick",{tripId:O,isPublic:"PUBLIC"===t})},[O,eR]),ta=s(async()=>{if(await eU()){var e=g.getTrackingData?.(x);e&&eR(e.itemName,e.customData),K?(ey(!0),e4()):e_(!0)}},[g,e4,eR,x,K,eU]),ti=s(()=>{eo(!1),ta()},[ta]),tr=s(async e=>{eR("SigninModal",{provider:e?.loginProvider}),eR("SignUpNow",{userId:e?.userId}),eR("SuccessfulSignUp",{isNewMember:e?.hasCreatedMember}),e_(!1),e4()},[e4,eR]),tn=n(()=>I?i(P,{variant:"primary",size:"medium",onClick:e2,fullWidth:!0,disabled:ez,dataAttributes:{"data-automation":"gai_modal_next_button"},children:i(S,{id:"trips_gai_modal_next"})}):em?null:i(P,{"aria-label":j.string("trips_gai_modal_loading"),fullWidth:!0,loading:ez,onClick:es?ti:ta,size:"medium",variant:"primary",dataAttributes:{"data-automation":"gai_modal_submit_or_retry_button"},children:es?j.string("trips_gai_modal_retry"):j.string("trips_general_submit")}),[e2,ti,ta,es,ez,em,I,j]);d(()=>{ea(tY(eS))},[eS]),d(()=>{("outage"===eS||"outage"===ex)&&eq("ContinueWithOutage",{CapacityType:"Outage",ScreenType:"outage"===ex?"InFlow":"Entry"})},[eS,ex,eq]);var to=n(()=>Z?j.string("trips_gai_modal_title_geo_itinerary",{geoName:Z?.geoName??""}):x.step>Number(e5.location)&&x.userPrompts?.location?.locationName?j.string("trips_gai_modal_title_geo_itinerary",{geoName:x.userPrompts.location.locationName??""}):"",[j,x,Z]),tl=!ed&&!es&&!em,td=ed&&!O||O&&!Z,tc=0;O&&Z||(tc=td?100:f);var tp=s(()=>{eb?er(!0):ea(!0)},[eb]),tu=!et&&eS&&!tY(eS),tm=!ei&&ex&&!tY(ex),t_=!ej&&eL&&!tY(eL),tv=tl&&O&&Z,tg=!em&&!tu&&!tm&&!t_&&!eO&&!ek&&!ej&&!td&&!tv&&!eQ,th=!O&&!td&&w&&!eO&&!ei&&!tm&&!t_,ty=n(()=>i(Y,{hideProgressBar:!!Z,onClose:eK,progress:tc,showPoweredByAI:!Z,title:to}),[Z,eK,tc,to]),tb=s(e=>{var t=H(K);if(eT&&t)return i(P,{variant:"gai",href:R({tripId:t,tab:ep?"Itinerary":void 0,showHotelPicksTooltip:ep&&eP}),disabled:ez,dataAttributes:{"data-automation":"trips_gai_preview_trip_view_itinerary_button"},children:i(S,{id:"trips_gai_modal_view_trip"})});var a=te("ITINERARY");return i(L,{onSave:e=>{a(void 0,e),eD(!0)},tripId:O??0,placesToStay:eC?eI:void 0,tripTitle:O&&Z?j.string("trips_gai_modal_save_trip_title_v2",{sLocation:Z.geoName,duration:Z.days.length,travelingWith:Z.travelingWith||"",includeChildren:Z.includeChildren?"Y":""}):void 0,onItemClick:(e,t)=>{eR("TripDetailsSavetoExisting",{saveType:"ITINERARY",sourceTripId:O,destinationTripId:e,destinationTripTitle:t})},onCreateTripInputChange:tt,position:e})},[eC,K,eT,te,O,eP,eI,Z,j,tt,ep,ez,eR]),tf=n(()=>es||eG||eO||eY?i(tO,{onTryLaterClick:eG?ti:eK}):ek||eM?i(tX,{}):tu?i(t3,{status:eS,waitingTime:eN,onCancel:eK,onContinue:tp,screenType:"entry"}):tm?i(t3,{status:ex,waitingTime:eA,onCancel:eK,onContinue:tp,screenType:"inFlow"}):t_?i(t3,{status:eL,waitingTime:eB,onCancel:eK,onContinue:tp,screenType:"inFlow"}):em?i(tG,{onLoginSuccess:tr}):ej?eB?i(t1,{onCancel:eK,waitingTime:eB}):i(tX,{}):td?i(tF,{duration:x.userPrompts.days,locationName:x.userPrompts.location?.locationName||""}):tl&&!O?i(tE,{}):tv?i(B,{loading:J||eQ,tripId:O,trip:Z,scrollContainerRef:X,onSaveFeedbackItem:eZ,modalHeader:ty,onClose:eK,saveOrViewTripCta:tb,onIndividualSaveComplete:te("ITEM")}):null,[te,eS,J,ek,tr,tp,eK,ti,es,tv,tb,ej,eG,eB,eQ,eZ,eN,tl,em,x.userPrompts.days,x.userPrompts.location?.locationName,Z,O,ex,eA,eO,tu,tm,eM,td,eY,ty,t_,eL]);return a(r,{children:[ee&&tv?null:ty,i(e9,{ref:X,children:tf}),tg?i(e7,{onBack:eX,showBack:th,primaryAction:tn}):null,ev?i(t$,{trip:Z,onCancel:e0,onLeave:e1}):null]})}function t6({onClose:e,presetLocation:t,initialStep:a,tripId:r,flowId:n,onTripGenerated:s}){return i(w,{modalBaseCustomClass:"Ma f e",children:i(V,{flowId:n,children:i(tx,{initialLocation:t,initialStep:a,children:i(x,{children:i(j,{children:i(t4,{onClose:e,tripId:r,onTripGenerated:s,flowId:n})})})})})})}var t9="TripBuilder",t7=e=>{var[,t,a]=e.split("/"),i=t===t9,r=i&&a&&!isNaN(+a)?+a:null;return[i,r]},t8=()=>"";function ae(e,t,a,r,n){var[d,c]=o(),p=l(!1),[u,m]=o(),_=D(),{fragment:v}=g(),P=h(),{enabled:C}=f(),{open:I,close:w}=b(()=>i(t6,{onClose:S,presetLocation:e,tripId:d,flowId:u,initialStep:t,onTripGenerated:n}),{onOpen:()=>{p.current=!0,m(T())},onClose:()=>{p.current=!1,m(void 0)}});y(()=>{if(r&&C){var[e,t]=t7(v);e&&(t&&c(t),p.current||I(),P(t8(),"IN_PLACE"))}},[C,p,v]);var S=s(()=>{w(),a?.(),c(void 0)},[a,w]);return{open:s(()=>{I(),_({itemType:"GenerateTrip",itemName:"TripEntryClick",actionType:"click",customData:{entryPoint:"Trips Home"}})},[_,I]),close:S}}return e("useGaiTripModal",ae),[()=>{e$=te,eH=[{value:"January",label:i(S,{id:"trips_gai_trip_prompts_january"},"trips_gai_trip_prompts_january")},{value:"February",label:i(S,{id:"trips_gai_trip_prompts_february"},"trips_gai_trip_prompts_february")},{value:"March",label:i(S,{id:"trips_gai_trip_prompts_march"},"trips_gai_trip_prompts_march")},{value:"April",label:i(S,{id:"trips_gai_trip_prompts_april"},"trips_gai_trip_prompts_april")},{value:"May",label:i(S,{id:"trips_gai_trip_prompts_may"},"trips_gai_trip_prompts_may")},{value:"June",label:i(S,{id:"trips_gai_trip_prompts_june"},"trips_gai_trip_prompts_june")},{value:"July",label:i(S,{id:"trips_gai_trip_prompts_july"},"trips_gai_trip_prompts_july")},{value:"August",label:i(S,{id:"trips_gai_trip_prompts_august"},"trips_gai_trip_prompts_august")},{value:"September",label:i(S,{id:"trips_gai_trip_prompts_september"},"trips_gai_trip_prompts_september")},{value:"October",label:i(S,{id:"trips_gai_trip_prompts_october"},"trips_gai_trip_prompts_october")},{value:"November",label:i(S,{id:"trips_gai_trip_prompts_november"},"trips_gai_trip_prompts_november")},{value:"December",label:i(S,{id:"trips_gai_trip_prompts_december"},"trips_gai_trip_prompts_december")}],Object.entries(eQ={"must-see-attractions":{label:"Must-see Attractions",icon:eD},"hidden-gems":{label:"Hidden Gems",icon:eI},museums:{label:"Museums",icon:ew},history:{label:"History",icon:ek},culture:{label:"Culture",icon:eB},"great-food":{label:"Great Food",icon:ex},outdoors:{label:"Outdoors",icon:eS},"wine-beer":{label:"Wine & Beer",icon:eL},"arts-theatre":{label:"Arts & Theatre",icon:eM},"adventure-sports":{label:"Adventure and Sports",icon:eA}}).map(([e,{label:t,icon:a}])=>({label:i(tt,{icon:a,text:t}),value:e})),eY=Object.values(eQ).map(({label:e})=>({label:e,value:e})),eU=[{label:"Going solo",value:"SOLO",icon:eC},{label:"Partner",value:"SPOUSE",icon:eN},{label:"Friends",value:"FRIENDS",icon:eE},{label:"Family",value:"FAMILY",icon:eP}],eZ=to,eJ=tl,eX=tu,eK=tm,e0=th,e1=tC,e5=(e2=[{title:i(S,{id:"trips_gai_trip_prompts_location_title"}),type:"location",titleAlign:"center",validate:e=>{if(!e.userPrompts.location?.locationId)return i(S,{id:"trips_gai_trip_prompts_location_error"})},getTrackingData:e=>({itemName:"SelectDestination",customData:{locationId:e.userPrompts.location?.locationId?.toString()||"",locationName:e.userPrompts.location?.locationName||""}}),Component:tI,screenVariant:"location"},{title:i(S,{id:"trips_gai_trip_prompts_dates_title"}),type:"dates",subtitle:i(S,{id:"trips_gai_trip_prompts_dates_subtitle"}),validate:e=>{if(1===e.step&&!e.userPrompts.inexactDates&&(!e.userPrompts.dates?.startDate||!e.userPrompts.dates?.endDate))return i(S,{id:"trips_gai_trip_prompts_dates_error"})},getTrackingData:e=>({itemName:"SelectDatesDays",customData:{isDated:e.userPrompts.inexactDates?null:`${ts(e.userPrompts.dates?.startDate)} - ${ts(e.userPrompts.dates?.endDate)}`,numDays:e.userPrompts.inexactDates?e.userPrompts.days:null,month:e.userPrompts.inexactDates&&e.userPrompts.dates?.month||null}}),Component:tv,screenVariant:"default"},{title:i(S,{id:"trips_gai_trip_prompts_traveler_title"}),type:"travelers",subtitle:i(S,{id:"trips_gai_trip_prompts_traveler_subtitle"}),Component:tN,getTrackingData:e=>({itemName:"SelectTravelers",customData:{travelerType:e.userPrompts.travelerType,includeChildren:e.userPrompts.includeChildren}}),screenVariant:"default"},{title:i(S,{id:"trips_gai_trip_prompts_activities_title"}),type:"activities",subtitle:i(S,{id:"trips_gai_trip_prompts_activities_subtitle"}),validate:e=>{if(0===e.userPrompts.activities.length&&!e.userPrompts.otherActivities?.trim())return i(S,{id:"trips_gai_trip_prompts_activities_error"})},moderate:e=>e.userPrompts.otherActivities?.trim(),getTrackingData:e=>({itemName:"SelectActivities",customData:{activities:e.userPrompts.activities.join(", "),otherActivities:e.userPrompts.otherActivities,dynamicActivities:e.dynamicActivities.join(", ")}}),Component:tn,screenVariant:"default"}]).reduce((e,t,a)=>({...e,[t.type]:a}),{}),e3={isValidating:!1,step:0,userPrompts:{activities:[],dates:void 0,days:3,includeChildren:!1,inexactDates:!1,location:void 0,otherActivities:"",travelerType:eU[0].value},validationError:void 0,dynamicActivities:[]},e4=m(void 0),e6=12e3,e9=v((e,t)=>i("div",{className:"bmQZU _T H _Z",children:i("div",{ref:t,className:"tjrNS _Z",children:i("div",{className:"pZfbv z",children:e.children})})})),e7=tq,e8=Array(20).fill(15e3),e({slashDelimitedTripBuilderFragment:`/${t9}/`,useGaiTripModal:ae})},[e=>(a=e.jsxs,i=e.jsx,r=e.Fragment),e=>(n=e.useMemo,s=e.useCallback,o=e.useState,l=e.useRef,d=e.useEffect,c=e.Children,p=e.isValidElement,u=e.useReducer,m=e.createContext,_=e.useContext,v=e.forwardRef),e=>(g=e.useRoute,h=e.useNavigateToFragment),e=>y=e.useClientSideLayoutEffect,e=>b=e.useVDOMPortal,e=>f=e.useTripGaiFeature,e=>T=e.uuid,e=>D=e.useInteractionLogger,e=>(P=e.default,C=e.CircularButton,I=e.BorderlessButton),e=>w=e.default,e=>(S=e.default,N=e.useLocalize),e=>k=e.useUserId,e=>x=e.ToastProvider,e=>(A=e.useGetGeneratedTripStatus,M=e.useGetGeneratedTrip,E=e.getBookableExperienceId,L=e.SaveToTripButton,B=e.GaiTripPreview),e=>(j=e.PlacesToStayProvider,G=e.usePlacesToStayContext),e=>(O=e.toDurationInDays,R=e.buildPublicTripShareUrl),e=>(W=e.usePromptsImpressionLogger,F=e.usePromptsInteractionLogger,q=e.useWaitTimeImpressionLogger,z=e.useWaitTimeInteractionLogger,V=e.GaiTrackingProvider,$=e.usePreviewInteractionLogger),e=>H=e.getMostRecentlyAddedToTrip,e=>Q=e.useViewportCategory,e=>Y=e.default,e=>U=e.default,e=>(Z=e.useOnVisible,J=e.useVisibleEffect),e=>X=e.AuthGate,e=>(K=e.Spinner,ee=e.Skeleton,et=e.OllieSpinner),e=>ea=e.default,e=>ei=e.useTheme,e=>(er=e.useQuery,en=e.useClient),e=>es=e.ModalContainer,e=>eo=e.getSATDModalSaveObject,e=>el=e.usePollingQuery,e=>ed=e.useWindow,e=>ec=e.useModerateText,e=>ep=e.default,e=>(eu=e.useAutoscrollingList,em=e.ShelfContext,e_=e.useShelfContext),e=>ev=e.LinkStyle,e=>eg=e.default,e=>eh=e.default,e=>ey=e.default,e=>eb=e.default,e=>ef=e.default,e=>eT=e.default,e=>eD=e.default,e=>eP=e.default,e=>eC=e.default,e=>eI=e.default,e=>ew=e.default,e=>eS=e.default,e=>eN=e.default,e=>ek=e.default,e=>ex=e.default,e=>eA=e.default,e=>eM=e.default,e=>eE=e.default,e=>eL=e.default,e=>eB=e.default,e=>ej=e.default,e=>eG=e.default,e=>eO=e.default,e=>eR=e.HoverTooltip,e=>eW=e.SelectList,e=>eF=e.TextInput,e=>eq=e.InlineAlert,e=>(ez=e.default,eV=e.margin)]]},["21h32l","o4yt4q","fgwvq1","mb2nze","4euaes","9pm8i6","eww825","sa2a6q","jppfwt","d8oes5","7thqz4","52far5","tr3542","a85j32","aj74qn","iyqcwg","ibebqy","uw9rn6","ys6v1o","6ri7kh","fkji80","3btuy0","hxluky","qndsds","essqvy","u9jlwp","mqwhqn","i3sz5h","xznza0","fbuhsy","ltllz9","mat2n7","7s4pzp","7yaz66","lr6tb6","34bu7w","6g4avl","qko6mu","00mpxl","l6h0jh","gmrl4q","s1ymgp","x55bmb","lzos1d","vwspdx","mim557","u9ykn9","fug67i","0792wk","o3mm96","nm5bm4","5zxkkr","yw8i09","q6pt2j","a55je0","a6i9w3","6qmqhw","zq967r","xm2jzo","kq4525","u3aiot","lt9m20","gw8uw6"]]);
