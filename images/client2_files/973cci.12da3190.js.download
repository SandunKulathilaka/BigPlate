(this.$WP=this.$WP||[]).push(["973cci",(e,t)=>{function n(e){var[t,n]=o(!1);return a(()=>{var t=x(e,()=>n(!0));return()=>t()},[e]),t}var o,a,r,c,i,d,s,u,l,f,b,C,g,p,h,E,v,I="TATrkConsent",T="forceConsentOptOut",A={expires:365},N={UNINITIALIZED:"uninitialized",CONSENT_PENDING:"pending",CONSENT_CATEGORIES_RECEIVED:"received",TIMED_OUT:"timeout"},O={TARGETING:"targeting",PERFORMANCE:"performance",FUNCTIONAL:"functional",SOCIAL_MEDIA:"social media",ALL:"all",ESSENTIAL:"essential",ADVERTISING:"targeting",ANALYTICS:"performance"},m={targeting:"ADV",performance:"ANA",functional:"FUNCTIONAL","social media":"SOCIAL_MEDIA",all:"ALL"},S=e=>{var t=[],n=[];if(void 0!==e){if(e.all||e.targeting&&e.performance)return'{"out":"","in":"ALL"}';var{all:o,...a}=m;Object.keys(a).forEach(o=>{if(o!==O.ESSENTIAL){var a=m[o];!0===e[o]?t.push(a):n.push(a)}})}return JSON.stringify({out:n.join(),in:t.join()})};function D(){return"1"===i.get(T)}function y(){var e=s.get("WP.consentCountry");return e?.countryCode&&e?.stateCode?e:null}function L(e,t){var n=e.findIndex(e=>e===t);e.splice(n,1)}var R={at:"01b5a903-761a-4668-9e6f-c4f14344adf9",be:"2ec0cacd-54bc-4e0a-9b19-2bcf7e252575",ca:"acea4da1-0a91-4e4c-b616-d992acb32ee7",ch:"d3b84a78-ccce-457f-b04f-777af3e32a19",cl:"ec09cd2e-1ea8-4544-aa95-e0683745e2ca",co:"95e8019c-73ae-449f-96f6-b0b56aadd803","co.id":"280d04e8-990d-4dc0-b774-a2719e48e33c","co.il":"c6c60c32-9d64-40eb-861e-f7ed2ece8077","co.kr":"54883430-df32-4105-b41a-31f3e8d95295","co.nz":"fca3c39a-1025-4d23-a80e-4ab100fdf76a","co.uk":"4bcba976-4fb1-49a3-8650-6c00aa6f06e7","co.za":"8468feec-ded3-4062-be06-942986f21025",com:"750167a5-efc5-4aad-aea3-3ff22bb51bc7","com.ar":"8a6da335-dc05-4fa2-8c7f-2742ee45c002","com.au":"84c0239b-7771-4c7f-86aa-e09c1cd0eec4","com.br":"ab064859-00dd-4d51-9274-69ce29ddbf08","com.eg":"6ea50ce6-b412-4476-8fa0-7aea570c9794","com.gr":"9eaca89c-e2df-453e-9f5a-41c7f86a02a1","com.hk":"4575e517-5f2c-4a50-b449-793ffd302bf8","com.mx":"607a98a6-2f34-4851-ae90-c15d732934a5","com.my":"419a8677-639b-4547-9b32-2e2b318bad8a","com.pe":"8c0b9c9d-07e6-40e9-83e1-b1180e6a4d8d","com.ph":"87283425-28c1-4dc8-bae7-4f86951023da","com.sg":"9fe57a6f-5e68-4d34-ba5a-1ca344c25b5d","com.tr":"2b1f5f5c-f8c6-4430-9e91-7dba46d6cf65","com.tw":"f8800d50-e931-41a2-81ae-edbde4a1f9be","com.ve":"5c1e43c8-d6bb-4327-a97e-2a719e512b86",de:"c941549a-a68c-4db6-a619-8fae34658837",dk:"d5f1db05-1f19-4994-894e-3ad4f594f4d2",es:"a0667abd-9fe7-4a0e-8564-237c3f90a8a3",fr:"76c066fc-a7fa-43c0-98d3-fbac953b526b",ie:"32ae072e-d1c7-4401-b97d-67c9e2da61a0",in:"98d7ae31-406c-413a-bef7-c7d410cdb6f6",it:"689aeea5-8acd-453d-b2d5-340d41baa5aa",jp:"3af3c4bc-f4fe-44f0-a32d-734ca23835ad",nl:"201121d3-074f-4c9d-bdbe-6346a78caf61",pt:"9aafd5c7-30b5-425c-8976-670ce7eefd2e",ru:"4cb9f6f0-c91d-4b88-914a-38c4349831d6",se:"31b7f752-37a0-495f-8dc2-134b2b936b71"},G=0,_=[],w=[],P={name:"opt-out",country:"US",state:"MA"};function U(){return{[O.PERFORMANCE]:globalThis.OnetrustActiveGroups.includes("C0002"),[O.FUNCTIONAL]:globalThis.OnetrustActiveGroups.includes("C0003"),[O.TARGETING]:globalThis.OnetrustActiveGroups.includes("C0004"),[O.SOCIAL_MEDIA]:globalThis.OnetrustActiveGroups.includes("C0005")}}function k(){try{var e=globalThis.Optanon.GetDomainData().ConsentModel.Name,{country:t,state:n}=globalThis.Optanon.getGeolocationData();if("opt-in"===e||"opt-out"===e)return{name:e,country:t,state:n};return console.error(`Invalid consent model "${e}". Defaulting to "opt-out"`),P}catch(e){return console.error('Could not determine consent model. Defaulting to "opt-out"',e),P}}function M(e){var t;e&&Object.entries(e).forEach(([e,t])=>{v.set(e,!!t)}),t=S(e),i.set(I,btoa(t),A),_.forEach(e=>e()),_.length=0}var F=(e,t)=>{if(E===N.UNINITIALIZED){var n=window?.location?.hostname||"",o=y();if(o&&(globalThis.OneTrust={geolocationResponse:o}),D()){E=N.CONSENT_CATEGORIES_RECEIVED,M({[O.PERFORMANCE]:!1,[O.FUNCTIONAL]:!1,[O.TARGETING]:!1,[O.SOCIAL_MEDIA]:!1}),w.forEach(e=>e()),w.length=0;return}if(E===N.UNINITIALIZED){E=N.CONSENT_PENDING;var a=setTimeout(()=>{E=N.TIMED_OUT,M()},5e3);(function({hostname:e,onConsentStatus:t,onConsentChanged:n,onInit:o}){if("undefined"==typeof window||!globalThis.document)throw Error("Attempted to load OneTrust during SSR");var a=!!i.get("OptanonAlertBoxClosed");globalThis.OptanonWrapper=()=>{G++;var{name:e}=k();if(1===G&&(o(),globalThis.Optanon?.OnConsentChanged?.(()=>{n?.(U())})),"opt-in"!==e||1!==G||a){if("opt-out"===e&&1===G||"opt-in"===e&&2===G&&!a||"opt-in"===e&&1===G&&a){t(U());return}location.reload()}};var r=e.split("tripadvisor.").pop();return d("https://cdn.cookielaw.org/scripttemplates/otSDKStub.js","WP",{charset:"UTF-8","data-domain-script":e.endsWith("tripadvisor-preview.com")||e.startsWith("localhost")?`${R.com}-test`:R[r]||R.com,"data-document-language":"true","data-ignore-ga":"true"})})({hostname:n,onConsentStatus:e=>{E=N.CONSENT_CATEGORIES_RECEIVED,M(e)},onConsentChanged:t,onInit:()=>{e&&globalThis.Optanon?.setDataSubjectId?.(e),w.forEach(e=>e()),w.length=0}}).then(()=>{clearTimeout(a)})}}};function j(e){if("function"!=typeof e)throw Error(`Invalid argument. Expected a function - got ${typeof e}`);var t=()=>{E!==N.TIMED_OUT&&e()};return E===N.CONSENT_CATEGORIES_RECEIVED?e():_.push(t),()=>L(_,t)}function x(e,t,n){if(!Object.values(O).includes(e))throw Error(`"${e}" is not a known consent category. Supported values are: ${Object.values(O).join(", ")}`);if("function"!=typeof t)throw Error('Invalid argument. "onConsent" should be a function');if(!["function","undefined"].includes(typeof n))throw Error('Invalid argument. "onDeclined" should be a function');var o=()=>{v.get(e)||v.get(O.ALL)?t():n&&n()};if(e===O.ESSENTIAL)return t(),()=>{};switch(E){case N.TIMED_OUT:n&&n();break;case N.CONSENT_CATEGORIES_RECEIVED:o();break;default:_.push(o)}return()=>L(_,o)}function V(){globalThis.Optanon?.ToggleInfoDisplay?.()}function q(){var[e,t]=o(void 0);return a(()=>{var e,n=(e=()=>{t(k())},globalThis.Optanon?e():w.push(e),()=>L(w,e));return()=>n()},[]),e?{isPending:!1,...e}:{isPending:!0,country:void 0,state:void 0,name:void 0}}var W=({children:e})=>{var[t,n]=o(!1);return a(()=>{var e=()=>n(!0);return x(O.ALL,e,e)},[]),t?e:null},J=({children:e,category:t=O.ALL,deferOnly:n=!1})=>{var[r,c]=o(!1);return a(()=>{var e=()=>{c(!0)},o=n?j(e):x(t,e);return()=>o()},[t,n]),r&&e},$=e=>{var{isWebview:t}=u(),n=l();a(()=>{t||F(n,e)},[t,n,e])},z=["OTAdditionalConsentString","eupubconsent-v2","OptanonConsent","OptanonAlertBoxClosed"],B={"Italy (GDPR)":{countryCode:"IT",stateCode:"01"},"France (GDPR CNIL)":{countryCode:"FR",stateCode:"01"},"Brazil (LGPD)":{countryCode:"BR",stateCode:"01"},"US California (CCPA)":{countryCode:"US",stateCode:"CA"},"US Virginia (VCDPA)":{countryCode:"US",stateCode:"VA"},"Canada (No privacy law)":{countryCode:"CA",stateCode:"01"},None:null},Z=({override:e,isOptedOut:t})=>{var o={[O.TARGETING]:n(O.TARGETING),[O.PERFORMANCE]:n(O.PERFORMANCE),[O.FUNCTIONAL]:n(O.FUNCTIONAL),[O.SOCIAL_MEDIA]:n(O.SOCIAL_MEDIA)},{name:a,isPending:r,...c}=q();return t?b("div",{style:{display:"flex",flexDirection:"column"},children:[b("div",{children:['OneTrust is currently disabled because "',T,'" cookie is set.'," ",f("button",{type:"button",onClick:()=>{i.remove(T),location.reload()},children:"Clear cookie"})]}),f("i",{children:"Note: This will cause the page to reload"})]}):b("div",{style:{display:"flex",flexDirection:"column"},children:[b("div",{children:[f("b",{children:"Consent status: "}),JSON.stringify(o)]}),b("div",{children:[f("b",{children:"Consent model: "}),r?"Loading...":a]}),b("div",{children:[f("b",{children:"User geo: "}),r?"Loading...":JSON.stringify(c)]}),b("div",{children:[f("b",{children:"User geo override: "}),f("select",{value:JSON.stringify(e),onChange:e=>{(t=JSON.parse(e.target.value))?s.set("WP.consentCountry",t):s.remove("WP.consentCountry"),i.remove(I);var t,n=location.hostname,o=n.match(/\.tripadvisor\..*/u)?.[0];z.forEach(e=>{i.remove(e,o?{domain:o}:void 0)}),location.reload()},children:Object.entries(B).map(([e,t])=>f("option",{value:JSON.stringify(t),children:e},e))})]}),f("i",{children:"Note: Setting/clearing the geo override will clear consent cookies and reload the page"}),f("br",{}),f("div",{children:f("button",{type:"button",onClick:()=>{i.set(T,"1"),location.reload()},children:"Force consent opt out"})}),f("i",{children:"Note: Forcing consent opt out will disable OneTrust and reload the page"})]})};function K(){var[e,t]=o(null),[n,c]=o(!1);a(()=>{t(y()),c(D())},[]);var i=r(()=>f(Z,{override:e,isOptedOut:n}),[e,n]),d=null;n?d="off":e&&(d=e.countryCode),C("Consent",i,d)}function Y(e){var t=g(),{userAgentCategory:n}=u();return c(o=>{t({actionType:"interact",actionSubType:"consentChanged",userAgent:n,pageUid:e,team:"Other",eventTimestampMs:Date.now(),customData:JSON.stringify({ta_consent:{...o,[O.ESSENTIAL]:!0}})})},[t,n,e])}var H={button:"EeuOZ D s l"},Q=()=>{var{name:e,country:t,state:n}=q();return"opt-out"===e&&"US"===t&&"CA"===n?f("button",{id:"ot-sdk-btn",className:h("ot-sdk-show-settings",H.button),children:f(p,{id:"cookie_consent_footer_prompt"})}):null};return e({enqueue:j,requestConsent:x,showConsentPreferences:V,useConsent:n,useConsentDebugPane:K,useConsentLogger:Y,useConsentModel:q}),[()=>{E=N.UNINITIALIZED,v=new Map,e({AfterConsent:W,CategoriesEnum:O,ConsentGate:J,DoNotSellButton:Q,enqueue:j,requestConsent:x,showConsentPreferences:V,useConsent:n,useConsentDebugPane:K,useConsentFramework:$,useConsentLogger:Y,useConsentModel:q})},[e=>(o=e.useState,a=e.useEffect,r=e.useMemo,c=e.useCallback),e=>i=e.default,e=>d=e.importScript,e=>s=e.default,e=>u=e.useUserAgent,e=>l=e.useUserId,e=>(f=e.jsx,b=e.jsxs),e=>C=e.useDebugPane,e=>g=e.useInteractionV3Logger,e=>p=e.default,e=>h=e.default]]},["o4yt4q","5gpqhx","q7wvkq","9b9b10","nnprhg","52far5","21h32l","uvk21c","mtbtnn","7thqz4","fkji80"]]);
