(this.$WP=this.$WP||[]).push(["9enknt",(e,s)=>{var t,r,i,o,c,a,n,l,p,d,u,h,_,v,g,m,b,f,P,y,j,w,z,I,S,k,R,T,q,x=e=>{var{localize:s}=_();return t(k,{...e,localize:s})},C={social_action:"hqtxV _T M _S",icon:"tCmOp",text:"gWJYL",active:"Drwfi",share_list_item:"yDrwH S4 H3 Pd PU Pq PG _S"},B={__key:0xdbbe5f6318b1,id:"dbbe5f6318b16222",loc:{},definitions:[]},N=(e,s)=>{var t=s in I,[{data:r,fetching:i,error:o}]=S({query:B,variables:{socialObjects:[{objectId:String(e),objectType:z[s]}]},pause:!t},{createRepost:t=>String(t.refId)===String(e)&&t.refType===z[s]?"invalidateAndRefetch":"validate"});return!i&&!o&&r&&r.socialStatistics&&r.socialStatistics.length&&r.socialStatistics[0]||null},L=e=>{if(e&&e.blockStatus){var{blockStatus:s}=e;if(s&&(s.isBlocking||s.isBlockingYou))return!1}return!0},M=e=>{var s,{localize:o}=_(),p=c(),{feedSectionItem:d}=e.repostPreviewProps,j=`${e.originalRepostReference?.id||d.object.id||d.object.mediaBatchId||d.object.postId}`,w=e.originalRepostReference?.type||d.object.__typename,z=T(j,w),I=z?z.isReposted:e.socialStatistics&&e.socialStatistics.isReposted,[S,k]=a(!1),{styleAsShareListItem:x,openRepostModalAsLocal:B}=e,N=n(void 0),M=(e,s,t)=>{N.current&&N.current(e,s,t)},O=()=>!!(L(e.actor)&&(!e.repostPreviewProps||L(e.repostPreviewProps.actor)))||("function"==typeof N.current&&N.current(w,"no_permission"),!1),{loggedInUserId:U,...W}=e;return s=!e.repostPreviewProps.member&&U?t(u,{query:m,variables:{userIds:[{id:e.loggedInUserId}]},children:({data:s})=>{var{memberProfiles:r=null}=s||{},i=r?r[0]:null,o={...e.repostPreviewProps};return o.member=i,W.repostPreviewProps=o,t(y,{children:t(l,{children:S&&t(q,{...W,modalName:p,repostCallback:M})})})}}):t(y,{children:t(l,{children:S&&t(q,{...W,modalName:p,repostCallback:M})})}),r(i,{children:[t(b,{pid:40434,children:s=>t(g,{name:p,local:B,children:i=>t(P,{children:c=>r("span",{onClick:t=>{!I&&(k(!0),e.onClick&&e.onClick(),v.isNativeWebview()?j&&w&&v.postToBridge("repost",1,{objectId:j,type:w}):(c(t,"repost"),s().then(O).then(e=>{e&&i()})))},className:h(x?C.share_list_item:C.social_action,{[C.active]:I}),children:[t(f,{name:"repost",className:C.icon}),t("span",{className:`ui_link ${C.text} socialCTA`,children:I?o("reposted"):x?o("social_repost_on_tripadvisor"):o("social_repost")})]})})})}),s,t(R,{children:e=>{N.current=e}})]})};return[()=>{k=class extends o{createToast(e,s,r){switch(s){case"success":return{node:this.successToastMessage[e],cta:t(j,{href:r?`/Profile/${r}`:"/Profile",to:{page:"Profile",username:r},children:this.props.localize("view_repost")})};case"error":return{node:this.props.localize("repost_failure_message")};case"rate_limited":return{node:this.props.localize("repost_rate_limited_v2")};case"no_permission":return{node:this.props.localize("social_no_permission")};default:return{node:""}}}render(){return t(w,{children:e=>this.props.children((s,t,r)=>{e(this.createToast(s,t,r))})})}constructor(...e){var s,t;super(...e),s="successToastMessage",t={Review:this.props.localize.string("success_repost_review"),Photo:this.props.localize.string("success_repost_photo"),Video:this.props.localize.string("success_repost_video"),ForumPost:this.props.localize.string("success_repost_forum"),LinkPost:this.props.localize.string("success_repost_link"),Trip:this.props.localize.string("success_repost_trip"),MediaBatch:this.props.localize.string("success_repost_photos")},s in this?Object.defineProperty(this,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[s]=t}},R=x,T=N,q=p(()=>s("jbseom")),e({RepostAction:d(e=>({loggedInUserId:e.auth.loggedInUserId}))(M),useUpdatedRepostStats:T})},[e=>(t=e.jsx,r=e.jsxs,i=e.Fragment),e=>(o=e.Component,c=e.useId,a=e.useState,n=e.useRef,l=e.Suspense,p=e.lazy),e=>d=e.connect,e=>u=e.Query,e=>h=e.default,e=>_=e.useLocalize,e=>v=e.NativeBridge,e=>g=e.Opener,e=>m=e.ProfileQueryWithUserId,e=>b=e.SocialLoginGate,e=>f=e.Icon,e=>P=e.InteractionLogger,e=>y=e.ErrorBoundary,e=>j=e.Link,e=>w=e.Toaster,e=>(z=e.SocialObjectTypeMap,I=e.RepostedObjectTypeMap),e=>S=e.useInvalidatableQuery]]},["21h32l","o4yt4q","2mj4nv","mqwhqn","fkji80","7thqz4","0of6qq","80hn7v","jz56j2","0506zk","ybxsmg","yc8qq2","83pm0d","bvvaww","iw69pc","nev0g8","fbuhsy"]]);
