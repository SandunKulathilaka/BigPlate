(this.$WP=this.$WP||[]).push(["6z5q2p",(e,t)=>{function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s,a,i,n,o,l,d,u,h,c,g=(e,t)=>{var r=Object.keys(e);if(r.length>50){r.sort();var s={};r.forEach(e=>{var r=t[e]||"",a=s[r]||[];a.push(e),s[r]=a}),r=[];var a=e=>{r.push(e);var t=s[e];t&&t.length>0&&t.forEach(a)};a(""),r.shift()}var i={},n=0,o=[i];return r.forEach(r=>{if(n>=50){i={},o.push(i),n=0;for(var s=t[r];s;s=t[s])i[s]={url:e[s]},n+=1}i[r]={url:e[r]},n+=1}),o},p=e=>fetch("/data/1.0/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"}).then(e=>e.json()),v=e=>e&&e.length>0?1===e.length?p(e[0]):Promise.all(e.map(p)).then(e=>Object.assign({},...e.filter(e=>!!e))):Promise.resolve({}),f=/\{(\w+):[^}]*\}/;function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=/\{([^}]+):[^}]*\}/,S=(e,t,r)=>({get:s=>{var a=r.getState(),i=a.api.requests[e];if(!i)return{loading:!1,data:null,error:`No request found for ${t}`};var n=s?t.replace(m,`${s}`):t,o=i.result.includes(n);if(!i.loading&&!o)return{loading:!1,data:null,error:`No request found for ${t}`};var l=a.api.responses[n];return{loading:i.loading,data:l?l.data:null,error:l?l.error:null}},select:t=>`{${e}:${t}}`}),y=(e,t)=>r=>{var s=S(e.getId(r),r,t);return e.stager(r),s};function C(e){var t="function"==typeof e?{data:e,actions:null}:e,r=null;return e=>{var s=i((e,t)=>{if(null===r)throw Error("Container rendered before staging");return r(e,t)},t.actions)(e);return s.stage=(e,s,a)=>{r=t.data(e,s,a)},s.load=e=>{new u(a(),s,e).reload()},s}}function w(e){var t=n(e),r=$WP.yieldImport(e);function s(t){r&&$WP.require(r)?t($WP.require(r).default):e().then(e=>t(e.default))}return Object.assign(t,{stage(...e){s(t=>t.stage(...e))},load(...e){s(t=>t.load(...e))}})}var O=e=>{var t,r;class s extends o{componentDidMount(){this.setState({mounted:!0}),e.load()}render(){return this.state.mounted?d(e,{...this.props}):null}constructor(e){super(e),this.state={mounted:!1}}}return r="loadOnMount",(t="displayName")in s?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s},j=(e,t,r)=>({get:s=>({loading:!!e,data:t||null,error:r||null}),select:e=>"{:}"});return e({bind:C,boundLazy:w}),[()=>{h=class{constructor(){r(this,"stagedCalls",{}),r(this,"dependencies",{}),r(this,"stager",e=>{var t=this.getId(e);this.stagedCalls[t]=e;var r=e.match(f);return r&&r.length>=1?this.dependencies[t]=r[1]:delete this.dependencies[t],t}),r(this,"getId",e=>e.replace(/[\W]/g,"_")),r(this,"hasStagedCalls",()=>0!==Object.keys(this.stagedCalls).length),r(this,"filterStagedCalls",e=>{var t=!1,r={},s=Object.keys(this.stagedCalls);return s.forEach(s=>{if(e(s,this.stagedCalls[s])){t=!0,r[s]=!0;for(var a=this.dependencies[s];a&&!r[a];a=this.dependencies[a])r[a]=!0}}),s.forEach(e=>{r[e]||(delete this.stagedCalls[e],delete this.dependencies[e])}),t}),r(this,"resolve",()=>v(g(this.stagedCalls,this.dependencies)))}},e("ApiMonitor",u=class{watch(){var e=this.getState();l(e,this.previousState)||(this.previousState=e,this.reload())}stage(e){var t=new h;return this.root.stage&&this.root.stage(this.store.getState(),y(t,this.store),e),t}updateState(e){var t=this.stage(e);return!!t.hasStagedCalls()&&(this.store.dispatch(s.api.newApiRequests(t.stagedCalls)),!0)}reload(){var{param:e}=this,t=this.stage(e),r=this.store.getState().api.requests||{};return t.filterStagedCalls((e,t)=>!(r[e]&&r[e].url&&r[e].url===t))?(this.store.dispatch(s.api.newApiRequests(t.stagedCalls)),t.resolve().then(e=>(this.store.dispatch(s.api.newApiResponse(e)),!0))):Promise.resolve(!0)}getState(){return{...this.store.getState(),api:void 0,overlays:void 0}}constructor(e,t,r){b(this,"store",void 0),b(this,"root",void 0),b(this,"previousState",void 0),b(this,"param",void 0),this.store=e,this.root=t,this.previousState=this.getState(),this.param=r,e.subscribe(()=>this.watch())}}),c=O,e({ApiMonitor:u,LOADING_HANDLE:j(!0,null,null),bind:C,boundLazy:w,loadOnMount:c})},[e=>(s=e.actions,a=e.getStore),e=>i=e.connect,e=>(n=e.lazy,o=e.Component),e=>l=e.shallowEquals,e=>d=e.jsx]]},["45ddp0","2mj4nv","o4yt4q","t05m6z","21h32l"]]);
