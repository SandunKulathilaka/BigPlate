(this.$WP=this.$WP||[]).push(["5vopce",(e,i)=>{var t,o,a,r,c,n,l,s,d,u,h,b,m,p,v,j,g,_,f,k,w,N,C,I,O,S,y,L,R,V,P,$,z,E,B,x,H,A,M,U={avatar_wrap:"aewDk",section:"JlUuk Z",sidebar:"guBZL",member_block:"QzSaH k",member_block_left:"OGbVl",member_block_right:"mmwgu",closeButtonContainer:"ThpTg _Q",modal_info:"LzWEX",member_wrap:"WrlJe _Z",member_name:"HhNRC b S4 H3",event_date:"pawMH",caption:"S4 H3"},W=(e,i)=>e&&i&&e.socialReferences&&e.socialReferences.userReferences&&e.socialReferences.userReferences.find(e=>e.userId===i),q=({video:e,actor:i,deleteObject:r,untagObject:n,onClose:l,loggedInUserId:d,socialStatisticsBar:u,socialActionBar:b})=>{var p=e.object.orderedLocations,{localize:v}=c(),j=i&&!i.isMe?{FOLLOW:!0,UNTAG:!!W(e.object,d)}:{FOLLOW:!1,UNTAG:!!W(e.object,d)},g=e.object.publishedDate||e.object.uploadDate;return t(o,{children:[t("div",{className:`ui_column is-4 is-3-widescreen is-12-mobile ${U.modal_info}`,children:[t("div",{className:`${U.section} ${U.sidebar}`,children:[a("div",{className:U.member_block,children:a(h,{children:c=>t(o,{children:[t("div",{className:U.member_block_left,children:[a(s,{to:{page:"Profile",username:i.username},className:U.avatar_wrap,onClick:e=>c(e,"userClick",{userId:i.userId}),children:a(z,{photo:i.avatar,display:"inline",withBorder:!0,onClick:e=>c(e,"userClick",{userId:i.userId})})}),t("span",{className:U.member_wrap,children:[a(s,{to:{page:"Profile",username:i.username},className:S(U.member_name,{verified:i.isVerified}),onClick:e=>c(e,"userClick",{userId:i.userId}),children:i.displayName}),a("span",{className:U.event_date,children:a($,{dateStr:g})})]})]}),a("div",{className:U.member_block_right,children:a(E,{sectionObject:e.object,sectionActor:i,deleteObject:r,untagObject:n,overrideItems:j})})]})})}),e.object.caption&&a("div",{className:U.caption,children:a(m,{text:e.object.caption,socialReferences:e.object.socialReferences})}),u,b]}),p&&p[0]&&a(P,{pois:p,showSavesIcon:!0})]}),t(o,{children:[a("div",{className:U.closeButtonContainer,children:a(R,{size:"small",variant:"clear","aria-label":v.string("common_Close"),icon:V,onClick:e=>{l&&l(e)}})}),a(y,{keyName:"Escape",callback:()=>{l&&l()}}),a(L,{})]})]})},D={video_wrap:"UCYYH",video:"raQPE",video_not_available:"IQOhz w f u j",video_not_available_icon:"qqnrr",inlineView:"ZJjcm",modalView:"qzdqW M0 H2",header:"bGJWZ"};function F(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var T=e=>{var{statuses:i}=e?.object;return!!i&&0!==i.length&&!i.includes("UPLOADING")},G=e=>{var{localize:i}=c();return a(B,{...e,localize:i})},Z={video_not_available_message:"WuRHY S4 H3",title_description:"nNxlD",caption:"pdrqA",ctaLine:"JIuwi",cta:"ZQaNv"},J="VideoFullscreenFromFeedDate",Q=e=>{var{localize:i}=c(),{member:o,actor:r,video:s,isSingleObject:d,isEmbedded:u,viewportCategory:g,isOpen:_,navigate:f,route:k,actorForUrl:w,clusterId:N,maxVideoHeight:C,sponsorship:I,socialStatisticsBar:O,socialActionBar:S}=e,{object:y}=s,L=T(s)?void 0:a(j.Content,{children:a("div",{className:Z.video_not_available_message,children:i("upload_video_processing_copy")})},"topNote"),R=a(p,{objectEventType:"onVideo",object:s.object,member:o,actor:r,deleteObject:e.deleteObject,untagObject:e.untagObject,loggedInUserId:e.loggedInUserId,isEmbedded:u}),V=()=>t("div",{className:Z.ctaLine,children:[a("span",{className:Z.cta,children:i("common_Read_more")}),a(b,{name:"caret-down"})]}),P=_?void 0:(e,i)=>{e&&(v.set(J,Date.now()),f({...k,modal:`Video_${s.object.id}`,username:w&&w.username||s.object.userProfile.username}),i())},$=l(k),z=[a(j.Content,{fullWidth:!0,children:a(A,{actor:r,video:s,isOpen:_,deleteObject:e.deleteObject,untagObject:e.untagObject,onClick:P,trackingModule:$,onClose:()=>f(k,{reset:!0}),maxVideoHeight:C,socialStatisticsBar:O,socialActionBar:S})},"video"),a(j.Content,{children:y.caption&&a("div",{className:Z.title_description,children:a(h,{children:e=>a("div",{className:Z.caption,onClick:i=>e(i,"feedClick"),children:"MOBILE"===g&&y.caption.length>160?a(n,{numLinesToShow:3,cta:V(),ctaNewline:!0,children:a(m,{text:y.caption,socialReferences:y.socialReferences,useSpan:!0,onLinkReferenceClick:(i,t)=>{e(i,"linkReferenceClick",{authorUserId:r.userId,url:t})}})}):a(m,{text:y.caption,socialReferences:y.socialReferences,useSpan:!0,onLinkReferenceClick:(i,t)=>{e(i,"linkReferenceClick",{authorUserId:r.userId,url:t})}})})})})},"caption")];return a(j,{isSingleObject:d,topNote:L,header:R,content:z,socialStatisticsBar:O,socialActionBar:S,pois:s.object.orderedLocations,clusterId:N,sponsorship:I})},Y=e=>a(d,{children:({route:{modal:i,...t},navigate:o})=>e.video.object&&a(Q,{navigate:o,route:t,isOpen:!e.isEmbedded&&i&&i===`Video_${e.video.object.id}`,...e},`vs_${e.video.object.id}`)});return[()=>{q.defaultProps={onClose:void 0,loggedInUserId:"",untagObject:null},x=q,H=k(()=>i("qrifaa")),B=class extends g{componentDidMount(){this.computeStyles()}render(){var{actor:e,video:i,isOpen:r,deleteObject:c,untagObject:n,loggedInUserId:l,onClick:s,trackingModule:m,onClose:p,maxVideoHeight:v,preload:j,autoplayWhenVisible:g,usePoster:f,socialStatisticsBar:k,socialActionBar:S}=this.props,{realAspectRatio:y,videoFullscreen:L}=this.state,{object:R}=i;if(!R||!e.isMe&&!R.statuses.includes("PUBLISHED")&&!R.statuses.includes("PENDING"))return null;var V=y||R.sources&&R.sources.length>0&&R.sources[0].aspectRatio,P=V&&this.state.containerWidth?`${Math.min(v||450,Math.ceil(this.state.containerWidth/V))}px`:"350px",$=T(i),z=i.object.sources.findIndex(e=>e.url.toLowerCase().indexOf("mp4")>-1);z=z>-1?z:i.object.sources.length-1;var E=L?{opacity:1}:{};return t(o,{children:[a(w,{callback:this.computeStyles}),a(N,{rootMargin:400,onVisible:this.loadVideoPlayer,children:o=>a("div",{className:`${D.video_wrap} ${r?D.modalView:D.inlineView}`,ref:e=>{this.contentNode.current=e,"object"==typeof o&&o&&(o.current=e)},children:t("div",{className:`${D.video} ${r?"ui_columns":""}`,style:E,children:[r&&a("div",{className:`${D.header} ui_column is-4 is-offset-8 is-3-widescreen is-offset-9-widescreen is-12-mobile`,children:a(C,{branding:"TA_WHITE"})}),t("div",{className:r?`${D.video_wrap} ui_column is-8 is-9-widescreen is-12-mobile`:"",children:[a(d,{children:e=>e.route&&e.route.modal===`Video_${i.object.id}`?a(u,{openGraphInfo:{type:"video.other",title:null!=i.object.userProfile&&null!=i.object.userProfile.displayName?this.props.localize.string("social_opengraph_video_title",{username:i.object.userProfile.displayName}):"",description:null!=i.object.caption?`${i.object.caption}`:"",url:i.object.route.url,image:{url:null!=i.object.posterSizes[0]?`${i.object.posterSizes[0].url}`:"",width:null!=i.object.posterSizes[0]?i.object.posterSizes[0].width:0,height:null!=i.object.posterSizes[0]?i.object.posterSizes[0].height:0},video:{url:`${i.object.sources[z].url}`,width:i.object.sources[z].width,height:i.object.sources[z].height}}}):null}),$&&a(h,{children:e=>a("div",{style:{height:r?"100%":P},children:a(O,{children:a(_,{fallback:a(I,{}),children:this.state.loadVideoPlayer?a(H,{source:i.object.sources[0].url,width:"100%",height:r?"100%":P,preload:j,trackingModule:m,mediaId:i.object.id,fullscreenOnLandscape:!0,autoplayWhenVisible:g,poster:f?i.object.posterSizes[0].url:void 0,onFullscreenChange:e=>{this.setState({videoFullscreen:e})},onLoaded:(e,i)=>{this.setState({realAspectRatio:e/i})},onClick:s,onClickTracking:i=>e(i,"feedClick")},`player_${R.id}`):a(I,{})})})})}),!$&&a("div",{className:D.video_not_available,style:{height:r?"100%":P},children:a(b,{name:"video-fill",className:D.video_not_available_icon})})]}),r&&a(x,{video:i,actor:e,deleteObject:c,untagObject:n,loggedInUserId:l,onClose:p,socialStatisticsBar:k,socialActionBar:S})]})},`vw_${R.id}`)})]})}constructor(e){super(e),F(this,"computeStyles",()=>{if(this.contentNode&&this.contentNode.current){var e=this.contentNode.current.getBoundingClientRect().width;this.setState({containerWidth:e})}}),F(this,"loadVideoPlayer",()=>this.setState({loadVideoPlayer:!0})),F(this,"contentNode",void 0),this.state={containerWidth:null,realAspectRatio:null,videoFullscreen:!1,loadVideoPlayer:!1},this.contentNode=f()}},F(B,"defaultProps",{maxVideoHeight:450,preload:"auto",autoplayWhenVisible:!0,usePoster:!1}),A=r(e=>({loggedInUserId:e.auth.loggedInUserId}))(G),Y.defaultProps={isSingleObject:!1,isEmbedded:!1,member:null,actor:null,actorForUrl:void 0,deleteObject:null,untagObject:null,clusterId:void 0,maxVideoHeight:450},M=r(e=>({viewportCategory:e.meta.device.viewportCategory}))(Y),e({FULLSCREEN_FROM_FEED_DATE_LOCAL_STORAGE_KEY:J,VideoPlayerAndSidebar:A,VideoSidebar:x,default:M})},[e=>(t=e.jsxs,o=e.Fragment,a=e.jsx),e=>r=e.connect,e=>c=e.useLocalize,e=>n=e.ReadMore,e=>l=e.getVideoTrackingModule,e=>(s=e.Link,d=e.RouteConsumer,u=e.HeadProperties),e=>h=e.InteractionLogger,e=>b=e.Icon,e=>m=e.Linkify,e=>p=e.MemberEventOnObjectBlock,e=>v=e.default,e=>j=e.CardSection,e=>(g=e.Component,_=e.Suspense,f=e.createRef,k=e.lazy),e=>w=e.default,e=>N=e.HasBeenVisible,e=>C=e.BrandedHeader,e=>I=e.VideoPlayerLoadingSkeleton,e=>O=e.ErrorBoundary,e=>S=e.default,e=>y=e.default,e=>L=e.BlockScroll,e=>R=e.CircularButton,e=>V=e.default,e=>P=e.POIObjectList,e=>$=e.ContentDisplayDate,e=>z=e.Avatar,e=>E=e.SectionOverflowMenu]]},["21h32l","2mj4nv","7thqz4","wgun1f","7l6raj","bvvaww","yc8qq2","ybxsmg","noxsm3","j16vpf","tp1g68","8621lr","o4yt4q","d6vj30","w0dpwq","cnyhjq","2kokoi","83pm0d","fkji80","gttbjc","uzmmz7","jppfwt","qkjm8h","mqxvgj","tqlciu","dl4tf4","shzb6i"]]);
