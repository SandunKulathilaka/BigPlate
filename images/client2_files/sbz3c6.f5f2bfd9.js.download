(this.$WP=this.$WP||[]).push(["sbz3c6",(e,r)=>{var t,n,o,s,a,i,_,E,d,u,g,v,l,O={OFF:"Evergreen_Off",ON:"Evergreen_On"},S={CONTROL:"Control_No Ads",V1:"Creative_V1",V2:"Creative_V2"},c="recoEvergreenPromo.footerAd.hasBeenClosed",A="recoEvergreenPromo.modalAd.hasBeenDisplayed",I="recoEvergreenPromo.interstitial.hasBeenDisplayed",f=({skipImpression:e=!1,pause:r,experiment:t})=>{var{page:n}=o(),s=r?void 0:t.Master?.key,a=r?void 0:t[n]?.key,i=[];s&&i.push(s),a&&i.push(a);var _=r||!s||0===i.length,E=v({experimentKeys:i,skipImpression:e},_);return{skipServiceCalls:_,pageExperimentKey:a,bucket:E,fetching:!_&&null===E}},p=({skipImpression:e}={skipImpression:!1})=>{var{geoId:r}=s(),{countryGeoId:t,fetching:n}=a(),{featuredGeoId:o,fetching:u}=i(),{fetching:g,locationDetails:v}=_({geoId:o,pause:u}),{skipServiceCalls:O,pageExperimentKey:S,bucket:c,fetching:A}=f({skipImpression:e,pause:n||u||t===E||r===E||!!d.get(Number(r)),experiment:l}),I=c?.[l?.Master?.key||""],p=O?void 0:c?.[S||""];return{pageVariant:p,masterVariant:I,enabled:!O&&!!p&&!!I,fetching:!O&&null==c||n||u||g||A,featuredGeoId:o,locationDetails:v}},R=({skipImpression:e}={skipImpression:!1})=>{var r=o(),{geoId:a}=s(),i=p({skipImpression:e}),[_,E]=t(!0);n(()=>{E(!("undefined"==typeof document?"":document.referrer).includes("tripadvisor"))},[]);var d=u(I),v=u(A),l=u(c),f=i.fetching||v.fetching||l.fetching,R=i.enabled&&!v.isPresentInStorage,h=i.enabled&&!l.isPresentInStorage,{masterVariant:m,pageVariant:T,locationDetails:N}=i,P=String(N?.name?`evergreen_transition_expertise_${N.name}`:"evergreen_transition_expertise").toLowerCase();return{enabled:i.enabled,fetching:f,delayShow:_,pageVariant:T,masterVariant:m,creativeVariant:P,locationDetails:N,geoId:a,medium:g(r.page),isModalEnabled:R,isFooterEnabled:h,featuredGeoId:i.featuredGeoId,interstitialWasDisplayed:d.isPresentInStorage,modalWasDisplayed:v.isPresentInStorage,footerWasDisplayed:l.isPresentInStorage,shouldFooterBeVisible:h&&T!==S.CONTROL&&m!==O.OFF}},h=()=>{var{fetching:e,isModalEnabled:r,isFooterEnabled:t}=R({skipImpression:!0});return{enabled:r||t,fetching:e}};return[()=>{l={Master:{key:"nvt_reco_acq_evergreen_1671223501",variants:{ON:O.ON,OFF:O.OFF}},Home:{key:"nvt_reco_acq_evergreen_home_1671224434",variants:{Control:S.CONTROL,V1:S.V1,V2:S.V2}},Tourism:{key:"nvt_reco_acq_evergreen_tourism_1671632286",variants:{Control:S.CONTROL,V1:S.V1,V2:S.V2}},Hotels:{key:"nvt_reco_acq_evergreen_hotels_1674223803",variants:{Control:S.CONTROL,V1:S.V1,V2:S.V2}}},e({FOOTER_HAS_BEEN_CLOSED_STORAGE_KEY:c,FOOTER_HAS_BEEN_DISPLAYED_STORAGE_KEY:"recoEvergreenPromo.footerAd.hasBeenDisplayed",MASTER_EXPERIMENT_VARIANTS:O,MODAL_HAS_BEEN_DISPLAYED_STORAGE_KEY:A,PAGE_EXPERIMENT_VARIANTS:S,RECO_INTERSTITIAL_HAS_BEEN_DISPLAYED_STORAGE_KEY:I,TRACKING_ITEM_NAME:"RecoEvergreenModal",useEvergreenAd:R,useRecoBannerGuard:h})},[e=>(t=e.useState,n=e.useEffect),e=>o=e.useRoute,e=>(s=e.useRouteInfo,a=e.useCountryGeoId,i=e.useFeaturedGeoId,_=e.useLocationDetails,E=e.US_GEO_ID,d=e.SUPPRESSED_GEOS_MAP,u=e.useStorageKeyStatus,g=e.getMedium),e=>v=e.default]]},["o4yt4q","fgwvq1","b3ve7j","gugp1d"]]);
