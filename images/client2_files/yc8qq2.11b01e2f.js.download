(this.$WP=this.$WP||[]).push(["yc8qq2",(e,a)=>{var r,n,s,c,t,i,l,o,d,u,h,C,m,v,k,g,f,w,p,b,T,y,I,R,x,D,F,M,S,E,H,U,P,j,O,L,N,A,$,q,_={__key:0x639b7000624a,id:"639b7000624a40b2",loc:{},definitions:[]};function G(e,{customData:a,actionSubType:r,page:n,geoId:s}){e({team:"Flights",actionType:"click",actionSubType:r,page:n,customData:JSON.stringify(a),geoId:s?Number(s):null})}var B="interactionData",V=e=>{var a=h.get(B);a&&(e({interactions:a,clientRequestTimestamp:new Date().getTime()}),h.remove(B))},W=e=>{var a=h.get(B);a||(a=[]);var r={eventTimestampMsClient:new Date().getTime(),interaction:e};a.push(r),h.set(B,a)},J=e=>{if(!e)return!1;var{target:a,currentTarget:r}=e;if(a&&r&&a instanceof HTMLElement){var n=a,s=!1;do{if(n instanceof HTMLElement&&n.dataset.encodedUrl){var c=u(n.dataset.encodedUrl),t=document.createElement("a");t.href=c,n.parentElement instanceof HTMLElement&&(t.style.display="none",n.parentElement.appendChild(t)),n=t}if(n instanceof HTMLAnchorElement){var i=n;if(window&&window.location&&window.location.hostname&&window.location.hostname===i.hostname)return!0}s=n===r||s,n=n.parentElement}while(n&&!s)}return!1},K=(e,a,r)=>{W(a),J(e)||V(r)},z=(e,a)=>{var{children:n}=a;return r(g.Consumer,{children:a=>r(f.Consumer,{children:s=>r(w.Consumer,{children:r=>n((n,c,t)=>{var i=t||{},l={};switch(c){case"delete":case"linkedPoiScroll":case"overflowMenuClick":case"report":case"seeAll":case"shelfScroll":case"untag":case"untagConfirm":case"untagCancel":l[c]={feedSectionId:s};break;case"linkedPhotoClick":l[c]={feedSectionId:s},Object.assign(l[c],i);break;case"linkedPoiClick":l[c]={feedSectionId:s,placement:"HEADER"},Object.assign(l[c],i);break;case"feedClick":case"helpful":case"repost":case"share":case"unhelpful":case"follow":case"unfollow":case"userClick":case"save":case"trip_save":case"dismiss":case"userReferenceClick":case"linkReferenceClick":case"linkedSnippetClick":case"batchGalleryClick":case"batchGalleryScroll":l[c]={feedSectionId:s,itemId:r.itemId?.toString()},Object.assign(l[c],i);break;case"showMore":l[c]={mixerImpressionId:a},Object.assign(l[c],i);break;default:console.error(`Unknown mixer interaction type: ${c||"undefined"}`)}K(n,{mixer:l},e)})})})})},Q=(e,a)=>{var{children:n}=a;return r(b.Consumer,{children:a=>r(R.Consumer,{children:r=>n((n,s,c)=>{var t={};t["unfollow"===s?"unFollow":s]={...a,...c||{},...r},K(n,{home:t},e)})})})},X=(e,a)=>{var{children:n}=a;return r(T.Consumer,{children:a=>r(R.Consumer,{children:r=>n((n,s,c)=>{var t={};t["unfollow"===s?"unFollow":s]={...a,...c||{},...r},K(n,{profile:t},e)})})})},Y=(e,a)=>{var{children:n,loggedInUserId:s}=a;return r(I.Consumer,{children:a=>n((r,n,c)=>{var t={};t["feedClick"===n?"ugcClick":n]={...a,...c||{},...s?{actorUserId:s}:{}},K(r,{ugcDetail:t},e)})})},Z=(e,a)=>{var{children:n}=a;return r(x.Consumer,{children:a=>n((r,n,s)=>{var c={};c[n]={...s||{},...a},K(r,{onboarding:c},e)})})},ee=(e,a)=>{var{children:n}=a;return r(S.Consumer,{children:a=>n((r,n,s)=>{var c=s||{},t={};switch(n){case"follow":case"unfollow":t[n]={},Object.assign(t[n],c),Object.assign(t[n],a);break;default:console.error(`Unknown or not set up inbox interactionType: ${n||"undefined"}`)}K(r,{inbox:t},e)})})},ea=(e,a)=>{var{children:n}=a;return r(y.Consumer,{children:a=>n((r,n,s)=>{var c=s||{},t={};switch(n){case"follow":case"unfollow":t[n]={},Object.assign(t[n],c),Object.assign(t[n],a);break;default:console.error(`Unknown or not set up search interactionType: ${n||"undefined"}`)}K(r,{search:t},e)})})},er=(e,a,n)=>{var{children:s}=a;return r(D.Consumer,{children:a=>s((r,s,c)=>{var t={};t[s]={...c||{},...a};var i={};i[n]=t,K(r,i,e)})})},en=({interactionMutationFunction:e,props:a,namespace:s})=>{var{children:o}=a,d=t(F),u=i(d),h=i([]),C=l((e,a,r)=>{h.current.push({event:e,interactionType:a,additionalVariables:r})},[]),m=l((a,r,n,c)=>{var t={};t[r]={...n||{},impressionKey:c};var i={};i[s]=t,K(a,i,e)},[e,s]);return c(()=>{if(h.current.length>0&&u.current!==d){var e=u.current;h.current.forEach(({event:a,interactionType:r,additionalVariables:n})=>{m(a,r,n,e)}),h.current=[],u.current=d}},[d,m]),r(n,{children:o(C)})},es=(e,a,n,s)=>{var{children:c}=n;return r(j.Consumer,{children:t=>r(O.Consumer,{children:i=>r(L.Consumer,{children:r=>c((c,l,o)=>{var d=o||{},u={};switch(l){case"filter":case"clearAllFilters":case"sortDropdown":case"removeFilter":case"newSortResults":case"filterHamburger":case"sort":u[l]={...d,...t};break;case"staticPhotoClick":u[l]={...d,searchId:t?.searchId||""};break;case"firstClick":case"viewDealClick":case"viewDealPersistClick":case"viewDealFATableClick":case"viewDealRightRail":case"secondClickBreadCrumb":case"secondClickTabDetails":case"secondClickTabReviews":case"seatMapClick":case"airlineReviewExpand":case"airlineReviewClick":case"airlineReadAllReviewsClick":case"viewDealsExpand":case"amenitiesHover":case"segmentFilter":case"flyScoreHover":case"brandedFareHover":case"selfTransferHover":case"comboFareHover":u[l]={...d,...i,...t};break;case"savingsTipClick":case"savingsTipExpand":u[l]={...d,...r,searchId:t?.searchId||""};break;default:console.error(`Unknown or not set up search interactionType: ${l||"undefined"}`)}var h={};h[s]=u,K(c,h,e),G(a,{customData:u[l],actionSubType:l,geoId:n.route.geo,page:n.route.page})})})})})},ec=(e,a,n)=>{var{children:s}=a;return r(N.Consumer,{children:a=>r(O.Consumer,{children:c=>r(U.Consumer,{children:t=>r(P.Consumer,{children:i=>r(A.Consumer,{children:r=>s((s,l,o)=>{var d=o||{},u={};switch(l){case"fareCardClick":u[l]={...d,...c};break;case"crossSiteClick":u[l]={...d,...a};break;case"googleOneTapClick":u[l]={...d,...r};break;case"cosChange":case"passengerNumberChange":case"childAgeChange":case"airportTypeaheadSelection":case"itineraryTypeTabChange":case"datepickerInteraction":case"checkNonstop":case"checkNearby":case"checkSubscription":case"stickyShown":case"findFlightsClick":u[l]={...d,...i};break;case"attractionsShelfSeeAllClick":case"attractionsShelfItemClick":case"attractionsShelfScroll":u[l]={...t,...d};break;default:console.error(`Unknown or not set up search interactionType: ${l||"undefined"}`)}var h={};h[n]=u,K(s,h,e)})})})})})})},et=(e,a)=>{var{children:n}=a;return r(H.Consumer,{children:a=>n((r,n,s)=>{var c={};c[n]={...s||{},...a},K(r,{contentUploader:c},e)})})},ei=(e,a)=>{var{children:n}=a;return r(E.Consumer,{children:a=>n((r,n,s)=>{var c={};c[n]={...s||{},...a},K(r,{globalNav:c},e)})})},el=(e,a,n)=>{var{children:s}=a;return r(M.Consumer,{children:a=>s((r,s,c)=>{var t={};t[s]={...c||{},...a};var i={};i[n]=t,K(r,i,e)})})},eo=(e,a)=>{var{children:n}=a;return r(g.Consumer,{children:a=>r(f.Consumer,{children:s=>r(w.Consumer,{children:r=>n((n,c,t)=>{var i=t||{},l={};switch(c){case"feedClick":case"howToRespondClick":case"makeFavoriteReviewClick":case"reportReviewClick":case"respondDirectMessageClick":case"respondReviewClick":l[c]={feedSectionId:s,itemId:r.itemId},Object.assign(l[c],i);break;case"listingPerformanceClick":case"adsPerformanceClick":l[c]={feedSectionId:s},Object.assign(l[c],i);break;case"ownersClick":case"managePhotosClick":case"restaurantReviewClick":case"managementCenterClick":case"adsManagerClick":l[c]={},Object.assign(l[c],i);break;case"showMore":l[c]={mixerImpressionId:a},Object.assign(l[c],i);break;default:console.error(`Unknown ownerNewsFeed interaction type: ${c}`)}K(n,{ownerNewsFeed:l},e)})})})})},ed=e=>{var a=d(_),s=C();return(c(()=>{e.isReadonlyMode||V(a)}),e.isReadonlyMode)?r(n,{children:e.children(()=>{})}):r(p.Consumer,{children:n=>"mixer"===n?z(a,e):"home"===n?Q(a,e):"profile"===n?X(a,e):"onboarding"===n?Z(a,e):"inbox"===n?ee(a,e):"search"===n?ea(a,e):"ugcDetail"===n?Y(a,e):"hotelReviewServlet"===n?er(a,e,n):"hotels"===n||"smartDeals"===n||"hotelHighlight"===n||"hotelsNear"===n||"hotelsList"===n||"lastMinute"===n?r(en,{interactionMutationFunction:a,props:e,namespace:n}):"flightsResults"===n?es(a,s,e,n):"flights"===n?ec(a,e,n):"globalNav"===n?ei(a,e):"contentUploader"===n?et(a,e):"ownerNewsFeed"===n?eo(a,e):"restaurants"===n?el(a,e,n):e.children(()=>{})})},eu={__key:38473830225338,id:"22fde2fbd5ba2a6b",loc:{},definitions:[]},eh="interactionDataV2",eC=e=>{var a=h.get(eh);a&&e({request:{clientRequestTimestampMs:Date.now(),request:a}}).finally(()=>{h.remove(eh)})},em=(e,a,r,n)=>{var s=h.get(eh);s||(s=[]);var c={pageUid:a,eventTimestampMs:Date.now(),...e},t=[];r&&t.push({key:"user_id",value:r}),n&&t.push({key:"session_id",value:n}),0!==t.length&&(c={opaqueIds:t,...c}),s.push(c),h.set(eh,s)},ev=e=>{if(!e)return!1;var{target:a,currentTarget:r}=e;if(a&&r&&a instanceof HTMLElement){var n=a,s=!1;do{if(n instanceof HTMLElement&&n.dataset.encodedUrl){var c=u(n.dataset.encodedUrl),t=document.createElement("a");t.href=c,n.parentElement instanceof HTMLElement&&(t.style.display="none",n.parentElement.appendChild(t)),n=t}if(n instanceof HTMLAnchorElement){var i=n;if(window&&window.location&&window.location.hostname&&window.location.hostname===i.hostname)return!0}s=n===r||s,n=n.parentElement}while(n&&!s)}return!1},ek=(e,a,r,n,s,c)=>{em(a,n,s,c),ev(e)||eC(r)},eg=(e,a,n,s,c,t)=>{var{children:i}=n;return r(j.Consumer,{children:l=>r(O.Consumer,{children:o=>r(L.Consumer,{children:r=>i((i,d,u)=>{var h=u||{},C={};switch(d){case"filter":case"clearAllFilters":case"sortDropdown":case"removeFilter":case"newSortResults":case"filterHamburger":case"sort":C[d]={...h,...l};break;case"staticPhotoClick":C[d]={...h,searchId:l?.searchId||""};break;case"firstClick":case"viewDealClick":case"viewDealPersistClick":case"viewDealFATableClick":case"viewDealRightRail":case"secondClickBreadCrumb":case"secondClickTabDetails":case"secondClickTabReviews":case"seatMapClick":case"airlineReviewExpand":case"airlineReviewClick":case"viewDealsExpand":case"amenitiesHover":case"segmentFilter":case"flyScoreHover":case"brandedFareHover":case"selfTransferHover":case"comboFareHover":C[d]={...h,...o,...l};break;case"savingsTipClick":case"savingsTipExpand":C[d]={...h,...r,searchId:l?.searchId||""};break;default:console.error(`Unknown or not set up search interactionType: ${d||"undefined"}`)}ek(i,{FlightsResults:{...C}},e,s,c,t),G(a,{customData:C[d],actionSubType:d,geoId:n.route.geo,page:n.route.page})})})})})},ef=e=>{var a=d(eu),s=v(),t=m(),i=k(),l=C();return(c(()=>{e.isReadonlyMode||eC(a)},[a,e]),e.isReadonlyMode)?r(n,{children:e.children(()=>{})}):r(p.Consumer,{children:r=>"flightsResults"===r?eg(a,l,e,s,i,t):e.children(()=>{})})},ew=({children:e})=>r($,{children:a=>e((e,r)=>{a(e,r)})}),ep=({children:e})=>r(p.Provider,{value:"flights",children:r($,{children:a=>e((e,r,n,s,c)=>{a(e,r,{fareCardImpressionId:n,pageviewId:s,sessionId:c})})})});return[()=>{g=s(null),f=s(null),w=s({itemId:""}),p=s(null),b=s(null),T=s(null),y=s(null),I=s(null),R=s(null),x=s(null),D=s(null),F=s(null),M=s(null),S=s(null),E=s(null),H=s(null),U=s(null),P=s(null),j=s(null),O=s(null),L=s(null),N=s(null),A=s(null),$=o(e=>({loggedInUserId:e.auth.loggedInUserId,isReadonlyMode:e.meta.readonlyMode,route:e.route}))(ed),q=o(e=>({loggedInUserId:e.auth.loggedInUserId,isReadonlyMode:e.meta.readonlyMode,route:e.route}))(ef),e({CrossSiteClickContext:N,CrossSiteClickInteractionLogger:ew,FareCardInteractionLogger:ep,FeedSectionIdContext:f,FlightsGoogleOneTapClickContext:A,FollowPlacementContext:s(null),FollowTabTypeContext:s(null),InboxTrackingContext:S,InteractionLogger:$,InteractionLoggerV2:q,ItemIdContext:w,ListPageTrackingContext:F,ProfileTrackingContext:T,RecommendedFolloweesImpressionIdContext:R,SearchTrackingContext:y,TrackingNamespaceContext:p,UgcDetailTrackingContext:I})},[e=>(r=e.jsx,n=e.Fragment),e=>(s=e.createContext,c=e.useEffect,t=e.useContext,i=e.useRef,l=e.useCallback),e=>o=e.connect,e=>d=e.useStatelessMutation,e=>u=e.default,e=>h=e.default,e=>C=e.default,e=>m=e.useSessionId,e=>v=e.usePageviewUid,e=>k=e.useUserId]]},["21h32l","o4yt4q","2mj4nv","fbuhsy","j8lyt5","9b9b10","r73jw8","al4vil","fgwvq1","52far5"]]);
