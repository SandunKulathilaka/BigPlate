(this.$WP=this.$WP||[]).push(["zx93be",(e,t)=>{var i,o,n,a,s,r,l,c,d,_,m,p,u,h,v,g,f,b,R,y,k,w,S,I,C,T,A,D,x,P,U,O,j,E,L,N,q,F,M,$,V,z,B,H,W,G,X,Y={posted_to_wrong_business:"WRONG_BUSINESS",edit_my_review:"EDIT",business_resolved_complaint:"RESOLVED",business_threatened_legal_action:"OWNER_THREAT",business_harassing_me:"HARASS",business_paid_me:"PAID_REMOVAL",changed_my_mind_about_review:"REMOVED",other:"OTHER"},Q=({deleteReviewReason:e,deleteReviewComment:t,onDeleteReviewReasonSelect:s,onDeleteReviewCommentChange:d})=>{var{localize:_}=a();return i("div",{style:{marginTop:"25px"},children:[i(r,{name:"deleteReviewReason",ariaLabelledBy:"userSelectionButtons",children:[o(l,{value:"posted_to_wrong_business",selected:e===Y.posted_to_wrong_business,onSelect:()=>{s(Y.posted_to_wrong_business)},label:o(n,{id:"FRAUD_posted_to_wrong_business"})}),o(l,{value:Y.edit_my_review,selected:e===Y.edit_my_review,onSelect:()=>{s(Y.edit_my_review)},label:o(n,{id:"FRAUD_edit_my_review"})}),o(l,{value:Y.business_resolved_complaint,selected:e===Y.business_resolved_complaint,onSelect:()=>{s(Y.business_resolved_complaint)},label:o(n,{id:"FRAUD_business_resolved_complaint"})}),o(l,{value:Y.business_threatened_legal_action,selected:e===Y.business_threatened_legal_action,onSelect:()=>{s(Y.business_threatened_legal_action)},label:o(n,{id:"FRAUD_business_threatened_legal_action"})}),o(l,{value:Y.business_harassing_me,selected:e===Y.business_harassing_me,onSelect:()=>{s(Y.business_harassing_me)},label:o(n,{id:"FRAUD_business_harassing_me"})}),o(l,{value:Y.business_paid_me,selected:e===Y.business_paid_me,onSelect:()=>{s(Y.business_paid_me)},label:o(n,{id:"FRAUD_business_paid_me"})}),o(l,{value:Y.changed_my_mind_about_review,selected:e===Y.changed_my_mind_about_review,onSelect:()=>{s(Y.changed_my_mind_about_review)},label:o(n,{id:"FRAUD_changed_my_mind_about_review"})}),o(l,{value:Y.other,selected:e===Y.other,onSelect:()=>{s(Y.other)},label:o(n,{id:"FRAUD_other"})})]}),o(c,{maxLength:500,value:t||"",state:""===t&&"OTHER"===e?"error":"enabled",placeholder:_.string("FRAUD_user_removed_comment"),errorText:_.string("FRAUD_field_required"),marginBottom:"spacing-05",onChange:e=>{d(e.target.value)},characterCountType:"max"})]})},K={deleteReview:{reason:null,comment:""},isDialogShow:!1,reviewID:"",setDeleteReviewReason:()=>{},setDeleteReviewComment:()=>{},setIsDialogShow:()=>{},setReviewID:()=>{}},J=e=>{var[t,i]=_({reason:null,comment:""}),[n,a]=_(!1),[s,r]=_("");return o(q.Provider,{value:{deleteReview:{reason:t.reason,comment:t.comment},isDialogShow:n,reviewID:s,setDeleteReviewReason:e=>{i(t=>({...t,reason:e}))},setDeleteReviewComment:e=>{i(t=>({...t,comment:e}))},setIsDialogShow:a,setReviewID:r},children:e.children})},Z=()=>m(q),ee=e=>({Review:()=>e.string("delete_confirmation_description_review_0"),Photo:()=>e.string("delete_confirmation_description_photo_0"),Video:()=>e.string("delete_confirmation_description_video_0"),ForumPost:()=>e.string("delete_confirmation_description_forum_post_0"),LinkPost:()=>e.string("delete_confirmation_description_link_post_0"),Trip:()=>e.string("trips_delete_trip_confirmation_text_v2"),Repost:()=>e.string("delete_confirmation_description_repost_0"),ApiLocationTopic:()=>e.string("aao_delete_question_msg_fffff375"),ApiTopicPosting:()=>e.string("aao_delete_answer_msg_fffff375"),MediaBatch:()=>e.string("delete_confirmation_description_post_0")}),et=e=>({Review:()=>e.string("delete_confirmation_header_review_0"),Photo:()=>e.string("delete_confirmation_header_photo_0"),Video:()=>e.string("delete_confirmation_header_video_0"),ForumPost:()=>e.string("delete_confirmation_header_forum_post_0"),LinkPost:()=>e.string("delete_confirmation_header_link_post_0"),Repost:()=>e.string("delete_confirmation_header_repost_1"),Trip:()=>e.string("trips_delete_trip_confirmation_header"),MediaBatch:()=>e.string("delete_confirmation_header_post_0")}),ei=e=>e.string("aao_delete_cancel_btn_fffff375"),eo=e=>e.string("inbox_swipe_delete"),en=({objectType:e,deleteObject:t,...i})=>{var{localize:n}=a(),r=Z(),l=r.deleteReview?.reason,c=r.deleteReview?.comment,{setDeleteReviewReason:d,setDeleteReviewComment:_}=r,m=et(n),p=ee(n);return o(s,{...i,header:m[e],description:p[e],cancel:()=>ei(n),confirm:()=>eo(n),onConfirm:()=>{t&&t()},onCancel:null,body:"Review"===e&&o(N,{deleteReviewReason:l,deleteReviewComment:c,onDeleteReviewReasonSelect:d,onDeleteReviewCommentChange:_}),confirmButtonDisabled:!l&&"Review"===e||"OTHER"===l&&!c&&"Review"===e})},ea=({untagObject:e,...t})=>{var{localize:i}=a(),n=i.string("social_untag_confirmation_message"),r=i.string("social_untag_yourself"),l=()=>i.string("aao_delete_cancel_btn_fffff375"),c=()=>i.string("social_remove_tag");return o(v,{children:i=>o(s,{...t,header:r,description:n,cancel:l,confirm:c,onConfirm:t=>{i(t,"untagConfirm"),e&&e()},onCancel:e=>{i(e,"untagCancel")}})})},es={__key:0x8080bddce4f8,id:"8080bddce4f849de",loc:{},definitions:[]},er={__key:0x5d829ca568ce,id:"5d829ca568ce8825",loc:{},definitions:[]};function el(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ec={Repost:"repostId",LinkPost:"postId"},ed=(e,t)=>e&&t&&e.socialReferences&&e.socialReferences.userReferences&&e.socialReferences.userReferences.find(e=>e.userId===t),e_={body_text:"jkpoq _R S4 H3"},em={social_action:"zMxkM f _T M _S",icon:"bohqm",text:"RAPNy",active:"DfGFq"},ep=e=>{var{localize:t}=a();return o(L,{...e,localize:t})},eu={__key:72000254103035,id:"417bdd91cdfb8801",loc:{},definitions:[]},eh={__key:0xcce971fd420e,id:"cce971fd420efd54",loc:{},definitions:[]},ev={__key:0xaa8ed1e6a11c,id:"aa8ed1e6a11c30f3",loc:{},definitions:[]},eg=e=>{var t=({variables:t})=>String(t.objectId)===String(e.objectId)&&t.objectType===e.objectType?"invalidateAndRefetch":"validate",[{data:i,fetching:o,error:n}]=P({query:ev,variables:{socialObjects:[{objectId:`${e.objectId}`,objectType:e.objectType}]}},{addLikeV2:t,deleteLikeV2:t});return!o&&!n&&i&&i.socialStatistics&&i.socialStatistics.length&&i.socialStatistics[0]||null},ef=(e,t)=>{var i,o;"Review"===e.__typename?i=`/RateUserReview?src=${encodeURIComponent(e.id)}&geo=${encodeURIComponent(e.location.parent.parentGeoId)}&uid=${encodeURIComponent(e.userId)}&rateValue=1&token=${encodeURIComponent(t)}`:("Video"===e.__typename?o=e.orderedLocations.length>0&&e.orderedLocations[0]?e.orderedLocations[0].locationId:"":{locationId:o}=e.location,i=`/VideoController?a=vt&ff=${encodeURIComponent(e.id)}&vote=5&detail=${encodeURIComponent(o)}&token=${encodeURIComponent(t)}`),fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin"})},eb=e=>{var t=!!x(),{localize:n}=a(),s=e.socialObject?e.socialObject:{objectType:D[e.item.__typename],objectId:String(e.item.id)},[r,l]=_(null),c=z(s),d=e.item&&e.item.socialStatistics&&e.item.socialStatistics.isLiked;h(()=>{l(null)},[c]);var m=S(d,(c||{}).isLiked);m=null===r?m:r;var[,p]=f(eu),[,u]=f(eh),g=()=>{m?l(!1):l(!0)},b=()=>{if(g(),m)return u(s).then(()=>!0);var{item:t}=e;return B.has(t.__typename)&&ef(t,e.csrfToken),p(s).then(()=>!0)},R=e=>t=>{t?.addLike?.statusType==="NO_PERMISSION"&&e({node:n("social_no_permission")})},k=e.item.__typename,P=e.item.id,U=n("social_Helpful");return o(T,{pid:40469,children:n=>{var a=m?"unhelpful":"helpful";return o(v,{children:s=>o(C,{children:r=>i("span",{className:w(em.social_action,{[em.active]:m}),onClick:i=>{e.onClick&&e.onClick(),s(i,a),A.isNativeWebview()&&A.isActionSupported("like",1)?P&&k&&A.postToBridge("like",1,{objectId:P,type:k,undo:m}):t?(g(),b().then(()=>R(r))):n()},children:[e.isDsIcon?o(I,{color:"primaryIcon",size:20,marginRight:"spacing-01"}):o(y,{name:"thumbs-up",className:em.icon}),o("span",{className:`ui_link ${em.text}`,children:U})]})})})}})},eR=({children:e,padRight:t})=>o("span",{className:w("CXSid f",{sugrq:t}),children:e}),ey=({object:e,displayStyle:t,bookmarkSize:i,onClick:n,preventInteractionPropagation:a,bookmarkTextStyle:s,trip:r})=>o("div",{className:`${em.social_action} RrxgI`,children:o(U,{object:e,preventInteractionPropagation:a,resaveTrip:r,children:(e,a)=>o(j,{active:a,bookmarkStyle:"flat",bookmarkSize:i||"20",lineHeight:20,bookmarkTextStyle:s,onClick:()=>{n&&n(),e()},children:e=>t.includes("text")?e:""})})}),ek=({object:e,active:t,displayStyle:i,bookmarkSize:n,onClick:s,preventInteractionPropagation:r,bookmarkTextStyle:l})=>{var{localize:c}=a();return o("div",{className:`${em.social_action} ndlyO`,children:o(O,{object:e,preventInteractionPropagation:r,active:t,children:e=>o(j,{active:t,bookmarkStyle:"flat",bookmarkSize:n||"20",lineHeight:20,bookmarkTextStyle:l,onClick:t=>{s&&s(t),e()},children:()=>i.includes("text")?c("save_all_items"):""})})})},ew=({className:e,children:t})=>o("div",{className:w("qIICj f _T Me z",e),children:t}),eS=({reason:e})=>"WRONG_BUSINESS"===e?o(n,{id:"Are_you_sure_change_attachment"}):"EDIT"===e?o(n,{id:"FRAUD_Acknowledgement1"}):"RESOLVED"===e?o(n,{id:"FRAUD_Acknowledgement2"}):"OWNER_THREAT"===e||"HARASS"===e||"PAID_REMOVAL"===e?o(n,{id:"FRAUD_Acknowledgement3"}):"REMOVED"===e?o(n,{id:"FRAUD_Acknowledgement2"}):"OTHER"===e?o(n,{id:"FRAUD_Acknowledgement2"}):null;return[()=>{N=Q,q=p(K),en.defaultProps={above:void 0,below:void 0,rightOf:void 0,leftOf:void 0,alignEdge:void 0,shiftX:0,shiftY:0,shiftArrow:0,fixed:!1,deleteObject:null},F=en,ea.defaultProps={above:void 0,below:void 0,rightOf:void 0,leftOf:void 0,alignEdge:void 0,shiftX:0,shiftY:0,shiftArrow:0,fixed:!1,untagObject:null},M=ea,e("UntagAction$1",E=class extends d.Component{render(){return this.props.children(this.untag.bind(this))}constructor(...e){super(...e),el(this,"context",void 0),el(this,"getId",e=>ec[e.__typename]?e[ec[e.__typename]]:e.id),el(this,"getType",e=>"TripComment"===e.__typename?"COMMENT":e.__typename.toUpperCase()),el(this,"untag",e=>{var t={updatePhoto:"Photo"===e.__typename,updateVideo:"Video"===e.__typename,updateRepost:"Repost"===e.__typename,updateLinkPost:"LinkPost"===e.__typename,updateTrip:"Trip"===e.__typename,updateTripComment:"TripComment"===e.__typename};this.context.mutation(es,{id:this.getId(e),type:this.getType(e)}).toPromise().then(()=>this.context.query(er,{idInt:this.getId(e),idLong:this.getId(e),...t},{requestPolicy:"network-only"}).toPromise()).then(()=>{this.forceUpdate()}).catch(e=>console.error(`Untag User Reference failed. Reason: ${e}`))})}}),el(E,"contextType",g),$=E,L=class extends u{render(){switch(this.props.actionType){case"Save":e="bookmark-fill",t=this.props.localize.string("social_Save"),n="save";break;case"Share":e="share",t=this.props.localize.string("link_share_share"),n="share"}var e,t,n,a="MOBILE"===this.props.viewportCategory;return o(R,{above:!0,alignEdge:a?"right":"left",shiftX:a?12:-28,shiftY:-8,shiftArrow:a?8:12,arrowType:"small",contents:()=>o("span",{className:e_.body_text,children:this.props.localize("social_Coming_soon")}),local:!0,children:(a,s)=>o(v,{children:r=>i("span",{className:em.social_action,ref:a,onClick:e=>{r(e,n),s(),this.setTracking(e,t)},children:[o(y,{name:e,className:em.icon}),o("span",{className:`ui_link ${em.text} socialCTA`,children:t})]})})})}constructor(e){var t,i;super(e),t="setTracking",i=(e,t)=>{this.state.tracked||(k(e,{module:`${t}Action_Disabled`,action:"CLICK"}),this.setState({tracked:!0}))},t in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i,this.state={tracked:!1}}},V=b(e=>({viewportCategory:e.meta.device.viewportCategory}))(ep),z=eg,B=new Set(["Review","Photo","Video"]),H=b(e=>({loggedInUserId:e.auth.loggedInUserId,csrfToken:e.auth.csrfToken}))(eb),eR.defaultProps={padRight:!1},W=eR,ey.defaultProps={onClick:void 0,preventInteractionPropagation:!1},G=ey,ek.defaultProps={onClick:void 0,preventInteractionPropagation:!1,placement:void 0},X=ek,ew.defaultProps={className:""},e({DeleteConfirmation:F,DeleteReviewReasonProvider:J,DisabledSocialAction:V,LikeAction:H,NestedSocialAction:W,ReturnRemovalMessage:eS,SaveAction:G,SaveAllAction:X,SocialActionBar:ew,UntagAction:$,UntagConfirmation:M,displayUntagIcon:ed,useDeleteReviewReasonContext:Z,useUpdatedLikeStats:z})},[e=>(i=e.jsxs,o=e.jsx),e=>(n=e.default,a=e.useLocalize),e=>s=e.ConfirmationPopover,e=>(r=e.RadioGroup,l=e.RadioButton),e=>c=e.TextArea,e=>(d=e,_=e.useState,m=e.useContext,p=e.createContext,u=e.Component,h=e.useEffect),e=>v=e.InteractionLogger,e=>(g=e.Context,f=e.useMutation),e=>b=e.connect,e=>R=e.default,e=>y=e.Icon,e=>k=e.trackClick,e=>w=e.default,e=>S=e.default,e=>I=e.default,e=>C=e.Toaster,e=>T=e.SocialLoginGate,e=>A=e.NativeBridge,e=>D=e.SocialObjectTypeMap,e=>x=e.useUserId,e=>P=e.useInvalidatableQuery,e=>(U=e.QueriedTripFlowSelector,O=e.TripFlowSelector),e=>j=e.BookmarkIcon]]},["21h32l","7thqz4","q97pgh","frf6ac","u3aiot","o4yt4q","yc8qq2","mqwhqn","2mj4nv","4q9l40","ybxsmg","4axon3","fkji80","fbyv8z","u47wjb","iw69pc","0506zk","0of6qq","nev0g8","52far5","fbuhsy","9rb8bq","hfpjvp"]]);
