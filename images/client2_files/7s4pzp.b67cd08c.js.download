(this.$WP=this.$WP||[]).push(["7s4pzp",(e,t)=>{var a,l,r,n,o,i,s,u,c,d,h,p,f,b,g,m,y,v,_,C,I,k,N,T,x,E,R={geoId:1},S=["GEO"],L=(e=5,t="",a=!1,l,r)=>{var[u,c]=n(t),[d,h]=n(t);o(()=>{t!==d&&(h(t),c(t))},[t,d]);var[p,f]=n(!1),{results:{results:b},fetching:g}=N({query:u,source:"",scope:R,searchMode:"LocationTypeahead",maxItems:e,locationTypes:S}),m="MOBILE"===_(),y=i(()=>b.filter(e=>w?.includes(e.trackingPlaceType)||D?.includes(e.locationId)||!w),[b]),v=T(s(e=>{r?.(e)},[r]),500);o(()=>{!g&&u.trim().length>1&&b.length&&!y.length&&v(u.trim())},[g,u,b,y,v]);var[C,I]=n(null),k=a&&null==C?0:C,x=null!=C&&y[C]?.searchText||u,E=s(()=>{f(!0),I(null)},[]),L=s(()=>{f(!1),I(null)},[]);return{displayedQuery:x,results:y,fetching:g,selectedIndex:k,onOpen:E,onClose:L,isOpen:p,onChange:s(e=>{c(e),I(null),e.length>=1?E():m||L()},[E,m,L]),onKeyDown:s(e=>{switch(e.keyCode){case 38:p?I(e=>null==e?y.length-1:e>0?e-1:null):E(),e.preventDefault();break;case 40:p?I(e=>null==e?0:e<y.length-1?e+1:null):E(),e.preventDefault();break;case 13:e.preventDefault();var t=null!=k?y[k]:void 0;c(e=>t?.searchText||e),t&&(l?.({locationId:t?.locationId,locationName:t?.searchText}),L());break;case 27:L(),e.preventDefault()}},[p,k,y,L,E,l]),query:u,setQuery:c}},O={results:"MQyyE",typeahead:"bZcAm Z0 Wh",backdrop:"xQgHw",open:"ygugZ",overlay:"gKaLh o",textInput:"yMHJN _G B- z _J Cj R0",button:"fZvfu _G _H B- _S t u j Cj",back:"RkyOn",clear:"nFOvN",start:"mXKdy",hasClearButton:"LyDHm",search:"HcijR",box:"DZJGf"},q=({placeholderText:e,maxItems:t=4,initialQuery:n,highlightFirstResult:o,onSelect:i,onStart:N,onLocationNotFound:T})=>{var{query:E,setQuery:R,fetching:S,displayedQuery:L,onChange:q,onOpen:w,onClose:D,onKeyDown:z,isOpen:B,selectedIndex:P,results:A}=x(t,n,o,i,T),{localize:M}=r(),j=_(),G=u(null),H=u(null),{os:K}=c(),U="MOBILE"===j,V=U&&"IOS"===K.family,Z="MOBILE"===j&&B,J=p(e=>{e||null==D||(H.current&&H.current.blur(),D())}),W=s(e=>q(e.currentTarget.value),[q]),Y=s(()=>{q(""),H.current&&H.current.focus()},[q]),F=s(()=>{N?.()},[N]),Q=s(()=>{Z&&H.current&&H.current.blur()},[Z]);I(Z),d(()=>{var e=H.current,t=G.current;B&&null!=e&&null!=t&&e.focus()},[B]);var $=s((e,t)=>{t.preventDefault(),R(t=>e?.searchText||t),e&&(i?.({locationId:e?.locationId,locationName:e?.searchText}),D())},[i,D,R]);h("focusin",e=>{B&&J.current instanceof Element&&e.target instanceof Element&&!J.current.contains(e.target)&&D()}),h("keydown",e=>{e instanceof KeyboardEvent&&(B||e.target===H.current)&&(z(e),H.current?.focus())});var X=u(null);d(()=>{B&&null!=X.current&&X.current.focus()},[B,P]);var ee=a("div",{ref:G,className:C(O.typeahead,O.box,{[O.open]:B}),onTouchMove:Q,"data-test-attribute":"gai-typeahead",children:[l("div",{role:"presentation",className:O.backdrop,onClick:D}),a("div",{className:O.overlay,ref:J,children:[V?l("div",{role:"presentation",onClick:w,children:l("input",{ref:H,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",required:!0,name:"q",disabled:!B,className:C(O.textInput,{[O.hasClearButton]:0!==E.length}),placeholder:e,title:M.string("common_Search"),"aria-label":M.string("common_Search"),"aria-controls":"typeahead_results","aria-autocomplete":"list",value:L,onChange:W})}):l("input",{ref:H,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",required:!0,name:"q",className:C(O.textInput,{[O.hasClearButton]:0!==E.length}),placeholder:e,title:M.string("common_Search"),"aria-label":M.string("common_Search"),"aria-controls":"typeahead_results","aria-autocomplete":"list",value:L,onChange:W,onClick:U||L?w:void 0}),N?l("button",{type:"button",className:C(O.button,O.start),title:"Start","aria-label":"Start",onClick:F,children:l(g,{})}):null,l("button",{type:"button",className:C(O.button,O.back),title:M.string("mobile_back_8e0"),"aria-label":M.string("mobile_back_8e0"),onClick:D,children:l(f,{})}),0!==E.length&&l("button",{type:"button",className:C(O.button,O.clear),title:M.string("mobile_search_filter_clear_26e8"),"aria-label":M.string("mobile_search_filter_clear_26e8"),onClick:Y,children:l(y,{})}),l("div",{className:C(O.button,O.search),children:l(m,{})}),B&&a("div",{id:"typeahead_results",role:"listbox","aria-labelledby":"typeahead_results_header",className:O.results,"data-test-attribute":"typeahead-results",children:[S||A.length||!L?null:l(v,{tabIndex:-1,role:"option","aria-selected":!1,heading:"",subheading:"That location isn't supported right now. Try a city/town, like Boston or Jakarta.",icon:b,selected:!1},"no-results"),A.map((e,t)=>l(v,{tabIndex:-1,role:"option","aria-selected":t===P,heading:e.title,highlightingInfo:e.highlightingInfo,subheading:e.subtitle,label:e.label,icon:e.icon,imageVariant:e.imageVariant,href:"",selected:t===P,onClick:t=>$(e,t),ref:t===P?X:void 0},e.locationId))]})]})]});return Z?l(k,{children:ee}):ee},w=["CITY","COUNTY","ISLAND","ISLAND_GROUP","MUNICIPALITY","NATIONAL_PARK","PARISH","PREFECTURE","PROVINCE","REGION","TERRITORY"],D=[],z=({placeholderText:e,...t})=>{var{localize:a}=r();return l(E,{placeholderText:a.string("trips_v2_gai_where_step_typeahead_placeholder"),...t})};return[()=>{x=L,E=q,e({default:z,supportedLocationIds:D,supportedPlaceTypes:w})},[e=>(a=e.jsxs,l=e.jsx),e=>r=e.useLocalize,e=>(n=e.useState,o=e.useEffect,i=e.useMemo,s=e.useCallback,u=e.useRef),e=>c=e.useUserAgent,e=>d=e.useClientSideLayoutEffect,e=>h=e.useWindow,e=>p=e.useVisibleEffect,e=>f=e.default,e=>b=e.default,e=>g=e.default,e=>m=e.default,e=>y=e.default,e=>v=e.default,e=>_=e.useViewportCategory,e=>C=e.default,e=>I=e.useBlockScroll,e=>k=e.default,e=>N=e.default,e=>T=e.useDebouncedCallback]]},["21h32l","7thqz4","o4yt4q","nnprhg","mb2nze","ltllz9","3btuy0","a6i9w3","y0uq31","6qmqhw","qx89h8","qkjm8h","7gmtsf","ys6v1o","fkji80","uzmmz7","d8oes5","7l5hpv","dsbyen"]]);
