(this.$WP=this.$WP||[]).push(["7l5hpv",(e,t)=>{var a,l,n,r,i,u,o,s,c,d,T,y,p,h,O,I,g,R,m,S,E,N,_,A,L,f,C=e=>{var t=`${p().toString(16).padStart(16,"0")}.ssid`;return e??t},v=(e,t,n,r,i,u,s)=>{var{page:c}=o(),[d,T]=a(""),[y,p]=a(r),O=h(),I=null!=i.geoId&&i.geoId>1?i.geoId:1,g=l(()=>{p(r);var t=String(Date.now());T(t),O({team:"Search",actionSubType:"Typeahead",actionType:"interact",itemName:"StartEvent",customData:JSON.stringify({typeaheadId:t,searchSessionId:e,uiOrigin:n,scope:String(I),page:c,beforeQuery:r,afterQuery:r,totalNum:u})})},[n,e,r,p,I,c,O,u]),R=l((a,l,i,o,T,p,h,g,R,m,S,E,N)=>{var _={typeaheadId:d,searchSessionId:e,resultsId:t,uiOrigin:n,scope:String(I),page:c,beforeQuery:y,afterQuery:r,totalNum:u,value:p,errors:s?[s]:null,fromHistory:l,selDepth:i+1,placeType:h||null,dataType:T,selectionUrl:g||null,selectionMethod:a,selectedDocumentId:p,durationResultsShown:o?Date.now()-o:-1,text:R};O({team:"Search",actionSubType:"Typeahead",actionType:"interact",itemName:"SelectEvent",customData:JSON.stringify("LOCATION"===T?{..._,locationId:m}:"QUERY_SUGGESTION"===T?{..._,routeParams:N,buCategory:E,querySuggestionType:S}:{..._})})},[n,e,t,r,y,I,d,u,s,O,c]);return{logTypeaheadOpened:g,logResultSelection:l((e,t,a,l,n)=>{R(e,t,l,n,a.trackingType,a.key,a.trackingPlaceType||null,a.url,a.searchText,a.locationId,a.suggestionType,a.buCategory,a.routeParameters)},[R]),logQuickLinkSelection:l((e,t,a,l)=>{R(e,!0,-1,t,"QUICK_LINK",`QUICK_LINK_${a}`,a,l)},[R]),logSearchAction:l(a=>{O({team:"Search",actionSubType:"Typeahead",actionType:"interact",itemName:"SearchEvent",customData:JSON.stringify({typeaheadId:d,searchSessionId:e,resultsId:t,uiOrigin:n,scope:String(I),page:c,beforeQuery:y,afterQuery:r,totalNum:u,errors:s?[s]:null,durationResultsShown:a?Date.now()-a:-1})})},[n,e,t,r,y,I,d,u,s,c,O]),startQuery:y,typeaheadId:d}},U={__key:0x84b17ed122fb,id:"84b17ed122fbdbd4",loc:{},definitions:[]},k=(e,t,a,l)=>{var n=null!=a.latitude&&null!=a.longitude,r=E(a.linkType);return`/Search?${new URLSearchParams({q:e,searchSessionId:t,searchNearby:n?"true":"",latitude:null!=a.latitude?String(a.latitude):"",longitude:null!=a.longitude?String(a.longitude):"",geo:n?"":String(a.geoId),...l&&null!=r?{ssrc:r}:{}}).toString()}`},b=(e,t)=>e.linkType?"VACATION_RENTALS"===e.linkType?t.details?.locationV2?.vacationRentalsRoute?.url:t.details?.isGeo===!0?t.details[`${e.linkType}_URL`]:null:null,P=["ACCOMMODATION","EATERY","ATTRACTION","CAR_RENTAL_OFFICE"],D=(e,t,a,l)=>{var n=[];if(!e||!e.Typeahead_autocomplete||!e.Typeahead_autocomplete.results)return{results:n,resultsId:""};var{results:r,resultsId:i}=e.Typeahead_autocomplete,u=Object.values(r.reduce((e,t)=>{if(t?.__typename==="Typeahead_LocationItem"&&t.details?.placeType!=null&&null!=t.details.localizedName&&t.details.locationV2?.names?.longOnlyHierarchyTypeaheadV2!=null&&null!=t.locationId){var{locationId:a}=t,{localizedName:l,placeType:n}=t.details,r=t.details.locationV2.names.longOnlyHierarchyTypeaheadV2;if(null!=r){var i=l+r+n;if(!Object.keys(e).includes(i)){var u={};u[i]=[],Object.assign(e,u)}e[i].push(a)}}return e},{})).filter(e=>Array.isArray(e)&&e.length>1).flatMap(e=>e),o=e=>{if(null!=e.locationId&&e.details?.locationV2?.names!=null){var t=null!=e.details.placeType&&P.includes(e.details.placeType)&&null!=e.details.streetAddress&&null!=e.details.streetAddress.street1&&u.includes(e.locationId)?e.details.streetAddress.street1:null,a=e.details.locationV2.names.longOnlyHierarchyTypeaheadV2;if(null!=a)return null==t?a:`${t}, ${a}`}return null},s=e=>{var{highlightingInfo:t}=e;if(!t||!t.length)return null;for(var a=[],l=0;l<t.length;l++){var n=t[l];if(!n)return console.error("Typeahead highlighting info is not expected to have null elements"),null;a.push(n)}return a},d=e=>({naturalParentId:e?.details?.locationV2?.hierarchy?.naturalParentId??void 0,naturalParentPlaceType:e?.details?.locationV2?.hierarchy?.naturalParent?.placeType??void 0,naturalParentName:e?.details?.locationV2?.hierarchy?.naturalParent?.names?.name??void 0,parentId:e?.details?.locationV2?.hierarchy?.parentId??void 0,parentLongName:e?.details?.locationV2?.hierarchy?.parent?.names?.longOnlyHierarchyTypeaheadV2??void 0}),T=e=>{if(null!=e.locationId&&e.details&&null!=e.details.localizedName&&null!=e.details.url){var t=!e.details.isGeo,l=b(a,e);return{searchText:e.details.localizedName,title:e.details.localizedName,highlightingInfo:s(e),url:null!=l?l:e.details.url,image:t?e.details.thumbnail?.photoSizeDynamic:null,key:`LOCATION_${e.documentId}`,subtitle:o(e),hierarchy:d(e),trackingType:"LOCATION",trackingPlaceType:e.details?.placeType,locationId:e.locationId,recent:e.recent}}return null},y=e=>{if(null!=e.text){var n="article"===e.suggestionType,r=e.parentGeoDetails?.names?.longOnlyHierarchyTypeaheadV2,i=n?S:null!=e.buCategory&&L.get(e.buCategory)||m;return{searchText:e.text,title:e.text,highlightingInfo:s(e),subtitle:n?O(c,{id:"typeahead_articles_read_more"}):r,image:null,url:e.route&&e.route.url||k(e.text,t,a,l),icon:i,trackingType:"QUERY_SUGGESTION",suggestionType:e.suggestionType,buCategory:e.buCategory,routeParameters:e.route?{page:e.route.page,params:{...e.route.params}}:null,key:e.documentId,recent:e.recent}}return null},p=e=>null!=e.text?{searchText:e.text,title:O(c,{id:"see_all_results_for",args:{query:e.text}}),url:k(e.text,t,a,l),icon:m,trackingType:"SEARCH",key:`SEARCH_${e.documentId}`,recent:e.recent}:null,h=e=>{if(null!=e.locationId&&null!=e.documentId&&null!=e.listResultType&&null!=e.details&&null!=e.details.localizedName){var t=e.listResultType,a="";if("/ShowForum"===(a="FORUM"===t?e[`${t}ListURL`]?.url||"":e.details[`${t}ListURL`]||"")||""===a)return null;var l=(()=>{switch(t){case"HOTEL":return O(c,{id:"common_Hotels"});case"RESTAURANT":return O(c,{id:"common_Restaurants"});case"ATTRACTION":return O(c,{id:"common_Thingstodo"});case"FORUM":return O(c,{id:"common_Forums"});default:return""}})();n.push({searchText:e.details?.localizedName||"",title:O(c,{id:"m2_trips_detail_date_display",args:{0:l,1:e.details?.localizedName||""}}),subtitle:null!=e.locationId&&e.details?.locationV2?.names!=null?e.details.locationV2.names.longOnlyHierarchyTypeaheadV2:null,url:a,icon:m,image:e.details?.thumbnail?.photoSizeDynamic,trackingType:"LIST_RESULT",locationId:e.locationId,key:`LIST_RESULT_${t}_${e.documentId}`,recent:e.recent})}return null};return r.forEach(e=>{if(null!=e){var t=null;switch(e.__typename){case"Typeahead_LocationItem":t=T(e);break;case"Typeahead_QuerySuggestionItem":t=y(e);break;case"Typeahead_RescueResultItem":t=p(e);break;case"Typeahead_ListResultItem":t=h(e)}t&&(t.label=e.sponsored?O(c,{id:"social_mobile_reason_for_sponsored"}):void 0,n.push(t))}}),n.push({searchText:"",title:O(c,{id:"add_a_missing_place_cta"}),url:"/CreateListing.html",icon:N,trackingType:"AddAPlace",key:"AddAPlace"}),{results:n,resultsId:null==i?"unknown":i}},H=e=>e&&e.length>=1,G={results:[],resultsId:""},V={batch:!1},x=["articles"],w=(e,t)=>{var[l,i]=a(e),u=n(Date.now());return r(()=>{var a=Date.now(),l=t-(a-u.current);if(l<=0){u.current=a,i(e);return}var n=setTimeout(()=>{u.current=Date.now(),i(e)},l);return()=>clearTimeout(n)},[e,t]),l},Q=({query:e,source:t,scope:l,searchMode:o,maxItems:c=10,locationTypes:p,providedSearchSessionId:h,showArticles:O=!1,showRecentResults:I=!1,scopeSRPToLinkType:g=!1,runQueryOnConfigChange:R=!1})=>{var[m,S]=a(G),E=_(h),{logTypeaheadOpened:N,logResultSelection:L,logQuickLinkSelection:C,logSearchAction:v,typeaheadId:k}=A(E,m.resultsId,t,e,l,m.results.length),b=w(e,100),P=T(),D=d(),Q=s(),$=null!=l.latitude&&null!=l.longitude?{latitude:l.latitude,longitude:l.longitude}:null,q=null!=l.geoId?l.geoId:0,M="WORLDWIDE";q>1&&"LocationTypeahead"!==o?M="IN_GEO_EXTEND_WORLDWIDE":q>1&&"LocationTypeahead"===o?M="IN_GEO":null!=$&&(M="NEAR_POSITION_EXTEND_WORLDWIDE");var z=l.pageType,F={listResultType:z,searchSessionId:E,typeaheadId:k,uiOrigin:t,routeUid:Q,userLocation:l.userLocation},Y={query:b,limit:c,scope:M,locale:D,scopeGeoId:q,searchCenter:$,types:["LOCATION","QUERY_SUGGESTION","RESCUE_RESULT",...null!=z?["LIST_RESULT"]:[]],locationTypes:["GEO","AIRPORT","ACCOMMODATION","ATTRACTION","ATTRACTION_PRODUCT","EATERY","NEIGHBORHOOD","AIRLINE","SHOPPING","UNIVERSITY","GENERAL_HOSPITAL","PORT","FERRY","CORPORATION","VACATION_RENTAL","SHIP","CRUISE_LINE","CAR_RENTAL_OFFICE"],userId:P,context:F,enabledFeatures:O?x:void 0,includeRecent:I};"GeoPicker"===o&&t.includes("RESTAURANTS")||"LinkTypeSearch"===o&&"RESTAURANTS"===l.linkType?(Y.types=["LOCATION","RESCUE_RESULT"],Y.locationTypes=["GEO","NEIGHBORHOOD","EATERY"]):"GeoPicker"===o&&t.includes("HOTELS")||"LinkTypeSearch"===o&&"HOTELS"===l.linkType?(Y.types=["LOCATION","RESCUE_RESULT"],Y.locationTypes=["GEO","NEIGHBORHOOD","ACCOMMODATION"]):"GeoPicker"===o&&t.includes("ATTRACTIONS")||"LinkTypeSearch"===o&&"ATTRACTIONS"===l.linkType?(Y.types=["LOCATION","RESCUE_RESULT"],Y.locationTypes=["GEO","ATTRACTION","ATTRACTION_PRODUCT","NEIGHBORHOOD"]):"GeoPicker"===o?(Y.types=["LOCATION","RESCUE_RESULT"],Y.locationTypes=["GEO","NEIGHBORHOOD"]):"LocationTypeahead"===o&&(Y.types=["LOCATION"],p&&(Y.locationTypes=p));var[{data:W,error:j,fetching:B},K]=y({query:U,variables:{request:Y},context:V,pause:!0}),J=n(K);r(()=>{J.current=K}),r(()=>{j||S(f(W,E,l,g))},[W,j,E,l,g]);var X=!i(u(Y),Y);return r(()=>{R||(H(b)?J.current():S(G))},[R,b]),r(()=>{R&&X&&(H(b)?J.current():S(G))},[R,X,b]),{results:m,logTypeaheadOpened:N,logResultSelection:L,logQuickLinkSelection:C,logSearchAction:v,searchSessionId:E,fetching:B}};return[()=>{_=C,A=v,L=new Map([["SEARCH",m],["ATTRACTIONS",I],["HOTELS",g],["RESTAURANTS",R]]),f=D,e({MIN_QUERY_LENGTH:1,default:Q})},[e=>(a=e.useState,l=e.useCallback,n=e.useRef,r=e.useEffect),e=>i=e.default,e=>u=e.default,e=>(o=e.useRoute,s=e.usePageviewUid),e=>(c=e.default,d=e.useLocale),e=>T=e.useUserId,e=>y=e.useQuery,e=>p=e.useStableRandom,e=>h=e.default,e=>O=e.jsx,e=>I=e.default,e=>g=e.default,e=>R=e.default,e=>m=e.default,e=>S=e.default,e=>E=e.getSRPCategory,e=>N=e.default]]},["o4yt4q","b5nukb","dlu2yg","fgwvq1","7thqz4","52far5","mqwhqn","uc42ar","r73jw8","21h32l","s1ymgp","c5q3iu","o3mm96","qx89h8","j1i9fl","hwdnu5","flcs8h"]]);
