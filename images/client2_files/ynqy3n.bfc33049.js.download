(this.$WP=this.$WP||[]).push(["ynqy3n",(e,i)=>{var a,r,l,o,t,_,d,n,s,p,c,E,I,O,R,T,m,u,N,b,h,v,P,A,f,L,S,y,C,g,w,M,F,V={selected:"gvZqe d Vm H4",children:"dOyLZ",iap_radio_container:"NKzRn",label:"IQFst d Vm H4"},W=({value:e,selected:i,labelText:l,onSelect:t,children:_})=>a("div",{className:V.iap_radio_container,children:[r(o,{value:e,selected:i,onSelect:t,label:r("span",{className:i?V.selected:V.label,children:l})}),r("div",{className:V.children,children:i&&_})]}),D=({required:e,minLength:i,maxLength:a=250,label:l=!0===e?r(d,{id:"social_report_level2_6b"}):r(n,{id:"social_report_level2_5"}),value:o,onChange:t})=>r(_,{label:l,value:o,state:o.length>a?"count-error":void 0,characterCountType:"max",onChange:t,minLength:i,maxLength:a}),G=()=>{throw Error("This reason does not have a label")},H=e=>h[e],U=e=>h[e].id<0,B=()=>a("div",{className:"RaHea c",children:[a("p",{className:"gPfWI b",style:{textAlign:"center"},children:[r(d,{id:"social_report_ty2"})," "]}),a("p",{className:"YgaYw",children:[r(d,{id:"social_report_ty2b"})," "]})]}),k=()=>a("div",{className:c("wXeMr c M-","OlYQi S4"),children:[r(d,{id:"social_report_prof_err"})," "]}),Y={iapTitle:"f u",spacer:"PI",iapModalContent:"VBgvf"},x=({stage:e,onClose:i,children:l})=>a(p,{title:a("div",{id:"ReportIAP",className:Y.iapTitle,children:[r(s,{}),r("span",{className:Y.spacer,children:r(d,{id:"report_problem_ffffff85"})})]}),onClose:i,children:["thankyou"===e&&r(P,{}),"error"===e&&r(A,{}),"panel"===e&&r("div",{className:Y.iapModalContent,children:r(t,{name:"ReportIAP",ariaLabelledBy:"ReportIAP",children:l})})]}),q={ForumPost:"FORUMPOST",Review:"USERREVIEW",ManagementResponse:"USERREVIEW",Photo:"MEDIA",Video:"MEDIA",Trip:"2",LinkPost:"1",Repost:"3",Profile:"4",LocationTopic:"LOCATION_TOPIC",LocationPosting:"LOCATION_POSTING"},z=(e,i)=>fetch(e,{cache:"no-cache",credentials:"same-origin",method:"POST",redirect:"follow",headers:{"X-Requested-By":i}}),$=({contentType:e,contentId:i,submission:a})=>{var r=T();return E(()=>{if(!a)return Promise.reject(Error("No submission data!"));var l=q[e],o=new URLSearchParams([["action","reportIAP"],["step","SAVE"],["contentId",i],["voteContentType",l],["comment",a.comment],["reasonId",`${v(a.reason).id}`]]);if(a.suggestedLocationId&&o.set("suggestedLocationId",`${a.suggestedLocationId}`),L.has(l))return z(`/ReportIAP?${o.toString()}`,r);throw Error("Only legacy inputs are supported through the Lithium-ported iat-reporting! Feel free to add the remaining ones from public.iat-reporting")},[e,i,r,a])},j=e=>{var[i,a]=I("panel"),r=S(e);return O(()=>[i,()=>r().then(()=>{a("thankyou")}).catch(()=>{a("error")})],[i,r])},K=(e,i)=>{if("changeReason"===i.type)return{selected:i.payload.reason,validator:i.payload.validator,form:e.form};if("modifyBody"===i.type&&e.selected)return{selected:e.selected,validator:e.validator,form:{...e.form,[e.selected]:i.payload}};throw Error(`Tried to dispatch action type ${i.type} that does not exist`)},X=e=>{var[i,a]=R(K,{selected:e?e.reason:null,validator:e&&e.validator,form:{}});return O(()=>{var e=i.selected&&i.form[i.selected]||{comment:void 0};return[{selected:i.selected,disabled:!i.selected||i.validator&&!i.validator(e),form:e},a]},[i])},Q=(e,i)=>O(()=>e?{reason:e,comment:i.comment||""}:null,[e,i]),Z=({onBack:e})=>a(u,{legacyStyled:!0,variant:"secondary",onClick:e,fullWidth:!0,children:[r(d,{id:"com_fyf_p2_011"})," "]}),J={wrapper:"bFVRe z F",stickySpacer:"vYpOs",sticky:"Qkpzt",button:"mzGqo Nd NE"},ee=({disabled:e,onBack:i,onSubmit:o})=>{var t="MOBILE"===m();return a(l,{children:[t&&r("div",{className:J.stickySpacer,children:r(u,{legacyStyled:!0,disabled:!0,children:null})}),a("div",{className:c(J.wrapper,t&&J.sticky),children:[i&&r("div",{className:J.button,children:r(w,{onBack:i})}),r("div",{className:J.button,children:r(u,{legacyStyled:!0,variant:"primary",disabled:e,onClick:o,fullWidth:!0,children:r(d,{id:"common_Submit"})})})]})]})},ei=(e,i)=>E(a=>{var r=(a.comment||"").trim();return!(r.length>i)&&!(r.length<e)},[e,i]),ea=({selected:e,reason:i,comment:a="",dispatch:l,minLength:o=0,maxLength:t=250})=>{var _=ei(o,t);return r(N,{value:i,selected:e===i,labelText:v(i).label,onSelect:()=>{l({type:"changeReason",payload:{reason:i,validator:_}})},children:r(b,{value:a,onChange:e=>{l({type:"modifyBody",payload:{comment:e.currentTarget.value}})},minLength:o,maxLength:t,required:!!o})})},er=({selected:e,reason:i,dispatch:a,children:l})=>r(N,{value:i,selected:e===i,labelText:v(i).label,onSelect:()=>{a({type:"changeReason",payload:{reason:i,validator:()=>!1}})},children:l});return[()=>{N=W,b=D,h={DUPLICATE_CONTENT:{id:5,label:r(n,{id:"social_report_reason_photos2"})},WRONG_LOCATION:{id:6,label:r(d,{id:"report_review_radio_8"})},CLOSED:{id:8,label:r(d,{id:"report_review_radio_21"})},OTHER:{id:9,label:r(d,{id:"report_review_radio_19"})},WRITTEN_BY_COMPETITOR:{id:19,label:r(d,{id:"report_review_radio_10"})},OWNER_RESPONSE:{id:21,label:r(G,{})},INAPPROPRIATE:{id:22,label:r(d,{id:"report_review_radio_9"})},NOT_ORIGINAL_REVIEW:{id:24,label:r(d,{id:"report_review_radio_16"})},NOT_TRAVELERS_OWN:{id:25,label:r(d,{id:"report_review_radio_13"})},PROMOTIONAL:{id:27,label:r(d,{id:"report_review_radio_24"})},REVIEW_NOT_CONSISTENT_WITH_RATING:{id:30,label:r(d,{id:"report_review_radio_12_ver_2"})},LOW_QUALITY:{id:31,label:r(d,{id:"iap_low_quality_ffffe4e2"})},COPYRIGHT_VIOLATION:{id:32,label:r(n,{id:"social_content_report_copyright_violation"})},BIASED:{id:37,label:r(d,{id:"report_review_radio_20"})},MORE_THAN_1_YEAR_AGO:{id:38,label:r(d,{id:"report_review_radio_11"})},CONTAINS_PRIVATE_INFO:{id:41,label:r(d,{id:"report_review_radio_18"})},PROFANE_EXPLICIT_HATE_SPEECH:{id:42,label:r(d,{id:"iap_profane_explicit_or_hate_speech"})},LINK_INCORRECT_OUTDATED_BROKEN:{id:43,label:r(d,{id:"iap_link_incorrect_outdated_broken"})},NOT_PERSONAL_EXPERIENCE:{id:45,label:r(d,{id:"iap_not_personal_experience"})},FALSE_MISLEADING_INFO:{id:46,label:r(d,{id:"iap_false_misleading_info"})},PROMOTES_ILLEGAL_ACTIVITY:{id:47,label:r(d,{id:"iap_promote_illegal_activity"})},PARTICIPATION_ILLEGAL_ACTIVITY:{id:48,label:r(d,{id:"iap_participate_illegal_activity"})},LINK_ILLEGAL_ACTIVITY:{id:50,label:r(d,{id:"iap_link_illegal_activity"})},SELF_PROMOTION_ADVERTISEMENT_SOLICITATION:{id:51,label:r(d,{id:"iap_forums_self_promotion"})},OFF_TOPIC:{id:52,label:r(d,{id:"iap_forums_off_topic"})},SPAM:{id:53,label:r(d,{id:"iap_forums_spam"})},DUPLICATE_FORUM:{id:54,label:r(d,{id:"iap_forums_duplicate"})},HARASSMENT:{id:55,label:r(d,{id:"iap_forums_harassment"})},PROFANITY_SEX_VIOLENCE_CRIME_HATE:{id:56,label:r(d,{id:"iap_forums_profanity_sex_violence_crime_hate"})},MULTIPLE_ACCOUNTS_OR_IMPERSONATION:{id:57,label:r(d,{id:"iap_forums_multiple_accounts_or_impersonation"})},PERSONAL_INFO:{id:58,label:r(d,{id:"iap_forums_personal_info"})},COPYRIGHTED:{id:59,label:r(d,{id:"iap_forums_copyrighted"})},TRIP_COPYRIGHT:{id:60,label:r(d,{id:"iap_trips_copyrighted"})},TRIP_NOT_TRAVEL_RELATED:{id:61,label:r(d,{id:"iap_trips_not_travel_related"})},TRIP_ERROR_OR_DISAGREE:{id:62,label:r(d,{id:"iap_trips_error_or_disagree"})},PROFILE_PROBLEM_WITH_PHOTO:{id:63,label:r(d,{id:"iap_profile_problem_with_pic"})},PROFILE_PROBLEM_WITH_LINK:{id:64,label:r(d,{id:"iap_profile_problem_with_link"})},PROFILE_IAP_USERNAME:{id:65,label:r(d,{id:"iap_profile_username"})},PROFILE_IAP_CONTRIBUTION:{id:66,label:r(d,{id:"iap_profile_contribution"})},PROFILE_PROBLEM_MY_ACCOUNT:{id:67,label:r(d,{id:"iap_profile_problem_my_account"})},PROFILE_UNWANTED_MESSAGE:{id:68,label:r(d,{id:"iap_profile_unwanted_messages"})},REPORT_THIS_REVIEW:{id:-1,label:r(d,{id:"report_review_radio_1"})},UPDATE_BUSINESS_DETAILS:{id:-2,label:r(d,{id:"report_review_radio_2"})},REPORT_BUSINESS_CLOSED:{id:-3,label:r(d,{id:"report_review_radio_3"})},EDIT_REMOVE_RESPONSE:{id:-4,label:r(d,{id:"report_review_radio_4"})},REPORT_OWNER_CHANGED:{id:-5,label:r(d,{id:"report_review_radio_5"})},REPORT_PHOTO:{id:-6,label:r(d,{id:"report_review_radio_6"})},REMOVE_LISTING:{id:-7,label:r(d,{id:"report_review_radio_7"})},DISAGREE_WITH_INFO:{id:-8,label:r(d,{id:"report_review_radio_17"})}},v=H,P=B,A=k,f=x,L=new Set(["USERREVIEW","MEDIA","LOCATION_TOPIC","LOCATION_POSTING"]),S=$,y=j,C=X,g=Q,w=Z,M=ee,F=ea,e({CommentBox:b,CommentOption:F,RedirectOption:er,ReportIAPRadio:N,ReportModal:f,SubmitVoteButton:M,forLabel:v,isOwnerReason:U,useFormToSubmission:g,useLengthValidator:ei,useReportFlow:y,useReportForm:C})},[e=>(a=e.jsxs,r=e.jsx,l=e.Fragment),e=>(o=e.RadioButton,t=e.RadioGroup),e=>_=e.TextArea,e=>(d=e.default,n=e.UnsafeLocalize),e=>s=e.default,e=>p=e.Modal,e=>c=e.default,e=>(E=e.useCallback,I=e.useState,O=e.useMemo,R=e.useReducer),e=>T=e.useSecurityToken,e=>m=e.useViewportCategory,e=>u=e.default]]},["21h32l","frf6ac","u3aiot","7thqz4","s9vc2i","i3sz5h","fkji80","o4yt4q","ahlu9q","ys6v1o","jppfwt"]]);
