(this.$WP=this.$WP||[]).push(["gugp1d",(e,r)=>{var a,t,u,l,n,s,i,v,o,p,m,b,V,d,y,c,g,h,x={__key:37187068813868,id:"21d24a06e22ceef2",loc:{},definitions:[]},_=(e,r)=>{var[{data:t,fetching:u,error:l}]=a({query:x,variables:e,pause:0===e.experimentKeys.length||r});return{experimentBuckets:u?null:Object.fromEntries((t?.AbTesting_evaluateTests?.[0]?.testResults??[]).filter(e=>null!==e&&null!==e.experimentKey&&null!==e.bucket).map(({experimentKey:e,bucket:r})=>[e,r])),fetching:u,error:null!=l}},f=(e,r)=>_(e,r).experimentBuckets,T=e=>l.memo(r=>{var a=b(e),u=l.useContext(V),n=l.useMemo(()=>null!==a?{...u,...a}:u,[a,u]);return t(V.Provider,{value:n,children:r.children})}),A=({userId:e,experimentKeys:r,children:a})=>{var u=b({experimentKeys:r,userId:e}),n=l.useContext(V),s=l.useMemo(()=>null!==u?{...n,...u}:n,[u,n]);return t(V.Provider,{value:s,children:a})},k=e=>{var r=l.useContext(V);return l.useMemo(()=>e.reduce((e,a)=>({...e,[a]:r[a]}),{}),[e,r])},K=e=>{var{page:r}=m();return n(()=>Object.keys(e).map(e=>e).filter(a=>{var{routes:t}=e[a];return"object"==typeof t?t.some(e=>e.page===r):"*"===t}),[r,e])},C=e=>{var[r,a]=l.useState(!0),t=l.useContext(y);b({experimentKeys:[e]},r);var u=t[e],n=l.useCallback(()=>{null!=u&&a(!1)},[a,u]);return l.useMemo(()=>[u||null,n],[u,n])},S=({children:e,deferredImpressionExperiments:r})=>{var a=b({experimentKeys:d(r),skipImpression:!0}),u=l.useMemo(()=>null!=a?a:{},[a]);return t(y.Provider,{value:u,children:e})},W=({children:e,experiments:r,deferredImpressionExperiments:a,enableDebug:l=!1})=>{var s=d(r),v=p(),m=n(()=>({...a,...r}),[a,r]);return t(A,{experimentKeys:s,children:u(c,{deferredImpressionExperiments:a,children:[e,t(o,{children:t(i,{children:v&&l&&t(g,{experiments:m})})})]})})},P={__key:91818014602018,id:"53820c24f3229857",loc:{},definitions:[]},j=(e,r)=>{var[{data:t,fetching:u}]=a({query:P,variables:e,pause:0===e.experimentKeys.length||r});return u?null:t?.AbTesting_evaluateTests?.[0]?.testResults?.reduce((e,r)=>r&&r.experimentKey&&r.bucket?{...e,[r.experimentKey]:r.bucket}:e,{})||{}},q=(e,r)=>{var[{data:t,fetching:u}]=a({query:x,variables:{...e,fetchVariables:!0},pause:0===e.experimentKeys.length||r});return u?null:t?.AbTesting_evaluateTests?.[0]?.testResults?.reduce((e,r)=>r&&r.experimentKey&&r.bucket?{...e,[r.experimentKey]:{bucket:r.bucket,variables:void 0!==r.variables?I(r.variables):{}}}:e,{})||{}},I=e=>e?.reduce((e,r)=>r?.varValue?.__typename&&r?.varName?{...e,[r.varName]:B(r)}:e,{})||{},B=e=>{var r={type:"null",value:null};if(e?.varValue?.__typename==="AbTesting_BooleanVarValue")return null!==e.varValue.varValueBool?{type:"boolean",value:e.varValue.varValueBool}:r;if(e?.varValue?.__typename==="AbTesting_DoubleVarValue")return null!==e.varValue.varValueDouble?{type:"double",value:e.varValue.varValueDouble}:r;if(e?.varValue?.__typename==="AbTesting_IntegerVarValue")return null!==e.varValue.varValueInteger?{type:"integer",value:e.varValue.varValueInteger}:r;if(e?.varValue?.__typename==="AbTesting_JsonVarValue"){if(null===e.varValue.varValueJson)return r;try{return{type:"json",value:JSON.parse(e.varValue.varValueJson)}}catch(a){return console.error(`useAbTestWithVariables received variable ${e.varName} with invalid JSON string: ${e.varValue.varValueJson}`),r}}else if(e?.varValue?.__typename==="AbTesting_StringVarValue")return null!==e.varValue.varValueStr?{type:"string",value:e.varValue.varValueStr}:r;else return console.error(`useAbTestWithVariables hook got an unsupported variable type for variable ${e.varName}. \
Please update ab-testing version in services.js and add support for new types`),{type:"unsupported"}};return[()=>{b=f,V=l.createContext({}),d=K,y=l.createContext({}),c=l.memo(S),g=v(()=>r("729i57")),h=s(W),e({AbTestContext:V,AbTestProvider:A,AbTestingWithDeferredImpressionsProvider:h,createAbTestContext:T,default:b,u:d,useAbTestContext:k,useAbTestWithQueryStatus:_,useAbTestWithSegments:j,useAbTestWithVariables:q,useExperimentWithDeferredImpression:C})},[e=>a=e.useQuery,e=>(t=e.jsx,u=e.jsxs),e=>(l=e,n=e.useMemo,s=e.memo,i=e.Suspense,v=e.lazy),e=>o=e.ErrorBoundary,e=>p=e.useDebugTool,e=>m=e.useRoute]]},["mqwhqn","21h32l","o4yt4q","83pm0d","p5p2yo","fgwvq1"]]);
