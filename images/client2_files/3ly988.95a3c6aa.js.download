(this.$WP=this.$WP||[]).push(["3ly988",(e,l)=>{var o,n,t,i,a,s,r,c,d,u,f,w,p,m,g,_,b,h,F,y,x,C,N,v,I,O,T,M=({profile:e,onClick:l})=>{var{localize:n}=i(),{isFollowing:t}=a(e);return o("span",{onClick:l,children:n(t?"social_unfollow":"social_Follow")})},j={followee_display_name:"YdNLo b",verified:"ceGTc"},k={__key:0xf869d451a5a,id:"0f869d451a5aac33",loc:{},definitions:[]},z={__key:0x9cecd9bab00b,id:"9cecd9bab00b6270",loc:{},definitions:[]},L=e=>({node:e("social_no_permission")}),q=({profile:e,disableToast:l,children:t})=>{var a=c(x),d=c(C),u=c(N),{localize:f}=i(),[,w]=y(k),[,p]=y(z);return e?o(v,{children:n=>o(b,{children:(i,c)=>o(h,{children:g=>{var _=(e,l)=>{var o={followeeId:l};d&&Object.assign(o,d),a&&Object.assign(o,a),u&&Object.assign(o,u),n(null,e,o)};return t(()=>{var n=s(e).isFollowing?"unfollow":"follow";return(_(n,c),"unfollow"===n)?i(40473).then(()=>p({objectType:"MEMBER",objectId:e.userId}).then(o=>{o.error||l||(o?.data?.deleteFollow?.statusType==="NO_PERMISSION"?g(L(f)):(r(e.userId,e=>({isFollowing:!1,followerCount:(e.followerCount||0)-1})),r(c,e=>({followeeCount:(e.followeeCount||0)-1}))))})):i(40473).then(()=>w({objectType:"MEMBER",objectId:e.userId}).then(n=>{n.error||l||(n?.data?.addFollow?.statusType==="NO_PERMISSION"?g(L(f)):(g({iconName:"add-friend-fill",node:o("span",{dangerouslySetInnerHTML:{__html:f.string("social_follow_toast_message",{sDisplayNameClass:m(j.followee_display_name,{[j.verified]:e.isVerified}),sDisplayName:F(e.displayName)})}})}),r(e.userId,e=>({isFollowing:!0,followerCount:(e.followerCount||0)+1})),r(c,e=>({followeeCount:(e.followeeCount||0)+1}))))}))})}})})}):(console.error("Expected non-null profile in FollowAction"),o(n,{children:t(()=>Promise.resolve())}))},E={icon:"pdwzO q",text:"BNWyO Vm",text_section:"KWUUU Zb o W",greenless:"pcMgz",isFollowing:"CUXFI",icon_text:"NRacq _T u _S _m",active:"OfFsz"},P=e=>{var{displayType:l,profile:n,gatedAction:s,onToggleFollow:r,preventClickPropagation:c,greenless:b,...h}=e,{localize:F}=i(),[y,x]=d(null),C=u(s),N=u(r);f(()=>{C.current=s},[s]),f(()=>{N.current=r},[r]);var v=a(n).isFollowing;f(()=>{x(null)},[v]);var I=null===y?v:y,O=w(p(e=>{N.current&&N.current(e),C.current()},2e3,{leading:!0,trailing:!0}),[]),T=w(e=>{e&&e.detail>0&&e.currentTarget&&e.currentTarget.blur(),x(!I),O(I?"UNFOLLOW":"FOLLOW"),c&&(e.stopPropagation(),e.preventDefault())},[c,I,O]);if("icon+text"===l)return t("span",{className:m(E.icon_text,{[E.active]:I,[E.greenless]:b}),onClick:T,children:[o(g,{name:"add-friend-fill",className:E.icon}),o("span",{className:m("ui_link",E.text),children:F(I?"social_nowFollowing":"social_Follow")})]});var M=t("span",{className:E.text_section,children:["button+icon"===l&&o(g,{className:E.icon,name:"add-friend-fill"}),o("span",{className:"button+icon"===l?E.text:null,children:F(I?"social_nowFollowing":"social_Follow")})]});return b?o("button",{className:m("ui_button",E.greenless,{[E.isFollowing]:I,fullwidth:"fullwidth"===h.size}),onClick:T,...h,children:M}):o(_,{...h,type:I?"primary":"secondary",onClick:T,children:M})},S=e=>{var{disableToast:l,...n}=e;return o(O,{disableToast:l,profile:n.profile,children:e=>o(P,{...n,gatedAction:e})})};return[()=>{I=M,O=q,S.defaultProps={greenless:!1},T=S,e({FollowAction:O,FollowText:I,default:T})},[e=>(o=e.jsx,n=e.Fragment,t=e.jsxs),e=>i=e.useLocalize,e=>(a=e.useUpdatedMember,s=e.getUpdatedMember,r=e.updateMemberData),e=>(c=e.useContext,d=e.useState,u=e.useRef,f=e.useEffect,w=e.useCallback),e=>p=e.debounce,e=>m=e.default,e=>g=e.Icon,e=>_=e.default,e=>b=e.SocialLoginGate,e=>h=e.Toaster,e=>F=e.escapeHtml,e=>y=e.useMutation,e=>(x=e.FollowTabTypeContext,C=e.FollowPlacementContext,N=e.RecommendedFolloweesImpressionIdContext,v=e.InteractionLogger)]]},["21h32l","7thqz4","132xgv","o4yt4q","dsbyen","fkji80","ybxsmg","4nzso8","0506zk","iw69pc","irfizf","mqwhqn","yc8qq2"]]);
