(this.$WP=this.$WP||[]).push(["4x6ber",(e,t)=>{var a,r,n,s,o,i,u,d,g,c,l,p,h,m,v,I,f,w,y,C,M,A,b=()=>{var[e,t]=u("");return d(()=>{t(window.location.origin)},[]),e},$={enabled:!0,gaMeasurementId:"G-J2L8MY40SZ",scriptSrcPath:"/static/ga/ga.html",monitoringEnabled:!0,isDebug:!0},D={},G=(e,t,a)=>`${t}${e.scriptSrcPath}?gaMeasurementId=${e.gaMeasurementId}${a?`&userId=${a}`:""}&parentDomain=${encodeURIComponent(t)}${e.isDebug?"&debug=true":""}`,S=e=>e.startsWith("hare")||e.match("\\.qa.tripadvisor-preview")?y:C,E=(e,t)=>e.enabled&&!D[t],P=[],L=e=>{Array.isArray(P)&&(P.forEach(t=>{e(t)}),P={push(t){e(t)}})},N=e=>{P.push(e)},R=()=>{P=[]},_=null,q=e=>{_=e},T=e=>{var t;if(!_)return e;if("string"!=typeof e.customData)t={};else try{t=JSON.parse(e.customData)}catch(t){return console.error("failed to parse event customData, will not enrich."),e}return t.google_analytics=_,{...e,customData:JSON.stringify(t)}},W=e=>_?{...e,googleAnalyticsIds:_}:e,J=(e,t)=>{var a=new MessageChannel;return a.port1.onmessage=e=>{"GAIdResp"===e.data.message&&q(e.data.response)},e.postMessage("initGAMessagePort",t,[a.port2]),a.port1.postMessage("GAIdReq"),e=>{a.port1.postMessage(e)}},U=({gaConfig:e,origin:t})=>{var[r,n]=u(!1),s=v(),o=g(null),i=G(e,t,s);return d(()=>r&&t&&o.current&&o.current.contentWindow?(L(J(o.current.contentWindow,t)),()=>{R()}):()=>{},[r,t]),a(m,{src:i,title:"ga",ref:o,style:{display:"none",width:"100%",height:"100%"},sandbox:"allow-scripts allow-same-origin",onLoad:c(()=>{n(!0)},[])})},x=()=>{var e=o(),t=r(),a=f(),n=I(),s=i(),{page:u,params:d,path:g}=e,l="detailId"in d?d.detailId:void 0,p="geoId"in d?d.geoId:void 0,h=l||p||void 0;return c(()=>({page_title:u,page_location:`https://${t}${g}`,pageview_id:s,location_id:h,geo_id:p,device_platform:n,locale:a,page_referrer:document.referrer}),[n,p,a,h,t,u,g,s])},O=(e,t)=>({event:e.event,data:{...t,...e.data}}),Y=()=>{var e=i(),t=x(),a=g(t);d(()=>{a.current=t},[t]),d(()=>{N(O({event:"page_view",data:{pageview_id:e}},a.current()))},[e])},Z=()=>{var e=S(r()),t=w(),{page:i}=o(),u=l(),d=u.isPending||"string"!=typeof u.country||A.has(u.country),g=p(h.TARGETING),c=p(h.ANALYTICS),m=p(h.FUNCTIONAL);return(M(),!d&&g&&c&&m&&t&&E(e,i))?a(n,{component:s.ga,children:a(U,{gaConfig:e,origin:t})}):null};return[()=>{w=b,y={...$,gaMeasurementId:"G-J2L8MY40SZ"},C={...$,gaMeasurementId:"G-QX0Q50ZC9P",isDebug:!1},M=Y,A=new Set(["AT","DK","FR","IT"]),e({GoogleAnalyticsLoader:Z,enrichEvent:T,enrichV2Event:W})},[e=>a=e.jsx,e=>r=e.useDomainName,e=>(n=e.default,s=e.Component),e=>(o=e.useRoute,i=e.usePageviewUid),e=>(u=e.useState,d=e.useEffect,g=e.useRef,c=e.useCallback),e=>(l=e.useConsentModel,p=e.useConsent,h=e.CategoriesEnum),e=>m=e.EmbeddedContent,e=>v=e.useUserId,e=>I=e.useViewportCategory,e=>f=e.useLocale]]},["21h32l","qlcuu5","6nmgrj","fgwvq1","o4yt4q","973cci","dyfdn5","52far5","ys6v1o","7thqz4"]]);
