(this.$WP=this.$WP||[]).push(["aj74qn",(e,t)=>{var o,a,r,i,l,n,s,c,u,d=({children:e})=>{var[t,i]=a(!1),[l,n]=a(null),[s,c]=a(!1),d=r(()=>({showPlacesToStay:t,setShowPlacesToStay:i,savePlacesToStay:s,setSavePlacesToStay:c,placesToStay:l||[],setPlacesToStay:n}),[l,t,s,c]);return o(u.Provider,{value:d,children:e})},p=()=>{var e=i(u);if(void 0===e)throw Error("usePlacesToStay must be used within a PlacesToStayProvider");return e},h={__key:0x876ff9ef6a96,id:"876ff9ef6a96578e",loc:{},definitions:[]},f={__key:0xe30d25a64d28,id:"e30d25a64d2854f3",loc:{},definitions:[]},g="trips_gai_introducing_hotels_1693521641",y=({tripId:e})=>{var t,o=s(),{enabled:a,fetching:i}=null===(t=c({experimentKeys:[g],skipImpression:!0}))?{fetching:!0,enabled:!1}:{fetching:!1,enabled:"test"===t[g]},[{data:l,fetching:u,error:d}]=n({query:h,variables:{tripId:e??0,currency:o},pause:!e||!a||i}),p=r(()=>l?.Trips_tripGeoHotels?.geoHotels?.[0]?.hotelLocations?.map(e=>e?.location?.locationId??null).filter(Boolean)??[],[l]),[{data:y,fetching:v,error:_}]=n({query:f,variables:{locationIds:p},pause:!p.length}),S=r(()=>y?.SeoMetaData_getLocationListSeoContent?.reduce((e,t)=>{var o=t?.items?.[0];return t?.locationId&&o&&(o.text=o?.text?.replaceAll("￹","").replaceAll("￻",""),e.set(t.locationId,o)),e},new Map)??new Map,[y]);return{placesToStay:r(()=>l?.Trips_tripGeoHotels?.geoHotels?.[0]?.hotelLocations?.map(e=>({...e?.location,reviewSnippet:S.get(e?.location?.locationId??0)})).filter(e=>!!e),[l?.Trips_tripGeoHotels?.geoHotels,S]),fetching:u||v,error:d||_}};return[()=>{u=l(void 0),e({PlacesToStayProvider:d,useFetchPlacesToStay:y,usePlacesToStayContext:p})},[e=>o=e.jsx,e=>(a=e.useState,r=e.useMemo,i=e.useContext,l=e.createContext),e=>n=e.useQuery,e=>s=e.useCurrency,e=>c=e.default]]},["21h32l","o4yt4q","mqwhqn","7thqz4","gugp1d"]]);
