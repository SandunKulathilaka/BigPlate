(this.$WP=this.$WP||[]).push(["8621lr",(e,t)=>{var o,i,n,a,r,s,l,d,c,h,p,u,m,g,f,v,b,_,C,S,y,N,I,w,z,O,j,k,P,x,M,A,L,D,R,B,F,$,T,U,W,q={section_modal:"LGdPZ",modal_image:"gPVGx",modal_info:"ejORo",member_name:"somdj b S4 H3",section:"chQDU Z",caption:"fpXQD",member_wrap:"vskSF",member_block:"DrjNy k",member_block_left:"dxXEr",member_block_right:"ANBki",event_date:"pghep",divider:"jBgVd"};function H(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var E=({children:e})=>o("div",{className:`ui_column
      is-12-mobile is-offset-0-mobile
      is-12-tablet is-offset-0-tablet
      is-4-desktop is-offset-8-desktop
      is-3-widescreen is-offset-9-widescreen
      _Q Z1 y`,children:e}),G=(e,t,o)=>{var i;return e?.name!=null&&e?.isGeo!=null&&t?.displayName!=null&&(!1===e.isGeo&&null!=e.parent.additionalNames.long?i=o.string("social_opengraph_photo_title",{locationName:e.name,additionalLocationName:e.parent.additionalNames.long,userName:t.displayName}):null==e.placetype||null==e.parent.placetype?i=o.string("social_opengraph_photo_title_short",{locationName:e.additionalNames.long,userName:t.displayName}):e?.name!=null&&e?.parent?.name!=null&&(i=o.string("social_opengraph_photo_title_short",{locationName:`${e.name}, ${e.parent.name}`,userName:t.displayName}))),i},Z=(e,t)=>{var o=e.photoSizes.length-1;return{type:"image.gallery",title:G(e.location,e.userProfile,t)||"",description:null!=e.caption?`${e.caption}`:"",url:e.route.url,image:{url:`${e.photoSizes[o].url}`,width:e.photoSizes[o].width,height:e.photoSizes[o].height}}},V=e=>{if(e?.photoSizes==null||e?.photoSizes.length===0)return!1;var t=e.photoSizes.length-1,o=e.photoSizes[t];return o.width/o.height>=1.1},X=e=>{if(e?.photoSizes==null||e?.photoSizes.length===0)return!1;var t=e.photoSizes.length-1,o=e.photoSizes[t];return .1>=Math.abs(1-o.width/o.height)},Q=e=>!X(e)&&!V(e),J=e=>e.every(V),K=e=>e.every(Q),Y=e=>e.every(X),ee=(e,t)=>{if(Y(e));else if(J(e))return t/4*3;else if(K(e))return t/3*4;return t},et=e=>{var{localize:t}=u(),n=`${e.metadata.__typename}_${e.metadata.id}`,{matches:a,to:r,close:c}=g({modal:n}),[C,S]=s(a),[y,N]=s("MOBILE"===e.viewportCategory?411:600),I=l(null);d(()=>{I.current&&"function"==typeof I.current.getBoundingClientRect?N(I.current.getBoundingClientRect().width):console.error("Container ref is not properly set in FeedSectionPhotoCarousel")},[]);var w=()=>{c(),S(!1)},z=e.photos?.filter(Boolean);return z&&0!==z.length?o(f,{children:({route:s})=>i("div",{ref:I,className:"MD",children:[s?.modal===n?o(v,{openGraphInfo:Z(z[0],t)}):null,e.includeRoutedModal&&a&&C&&o(p,{children:o(b,{header:o($,{children:o(_,{})}),onClose:w,isFullBleed:!0,bodyScroll:!1,fullscreenAlways:!0,children:o(F,{images:z,actor:e.actor,deleteObject:e.deleteObject,untagObject:e.untagObject,showPOISavesIcon:!0,currentIndex:e.currentlyDisplayedIndex,onPhotoChange:e.onPhotoChange,additionalContent:e.additionalModalContent,socialStatisticsBar:e.socialStatisticsBar,socialActionBar:e.socialActionBar,overflowMenuObject:e.overflowMenuObject,overflowMenuObjectForType:e.overflowMenuObjectForType})})}),o(m,{to:{...r,username:e?.actorForUrl?.username||e?.actor?.username},href:null,onClick:t=>{S(!0),e.onCarouselClick&&e.onCarouselClick(t)},activeClassName:"",className:"FgAFs",children:o(h,{photos:z.map(e=>({id:e.id,photoSizes:e.photoSizes})),width:"100%",height:`${ee(z,y)}px`,displayIndex:e.currentlyDisplayedIndex,totalCount:z.length,showIndicatorDots:z.length>1,showProgress:z.length>1,hideArrows:!0,noCta:!0,onPhotoChange:e.onPhotoChange,maxIndicatorDots:10,lazyLoadImages:!0})})]})}):null},eo=({className:e,pois:t,limit:i=20})=>{var[n,a]=s(!1),r=O(t),l={left:0,top:0,bottom:0,right:100};return o("div",{className:`_T ${e}`,children:o(w,{children:e=>o(A.Consumer,{children:s=>o(L,{top:!1,bottom:!1,left:t.length>0,right:t.length>0,threshold:0,minDistance:0,snapToEdge:l,className:"_T KXMch f J _e _h",isActive:!s||s.isActive,onScroll:n?void 0:t=>{a(!0),e(t,"linkedPoiScroll")},children:e=>o(M,{staggerDurationBy:"30",duration:400,maintainContainerHeight:!0,typeName:null,enterAnimation:"fade",leaveAnimation:"fade",children:r.slice(0,i).map((i,n)=>o("div",{children:o("div",{ref:e(i.objectId),className:S("tzfHg",{UpXbh:0===n,tDLZF:n===t.length-1}),children:o("div",{children:o(j,{poi:i,size:"large",borderRadius:"0",showSavesIcon:!0})})})},i.objectId))})})})})})},ei={sponsored_crust:"kYDLf S2 H2 Z",member:"IjcoD"},en=({sponsorship:e,showUserProfile:t})=>{var{localize:i}=u();if(!e)return null;var{userProfile:n}=e;if(n&&t){var a={0:S("ui_link",ei.member,{verified:n.isVerified}),1:n?.route?.url,2:D(R(i,n))};return o("div",{className:ei.sponsored_crust,children:o("span",{dangerouslySetInnerHTML:{__html:i.string("provided_by_username",a)}})})}return o("div",{className:ei.sponsored_crust,children:i("discovery_sponsored_label")})},ea={card_section:"trTZI",cluster_card:"Cuygk",background:"JnUAZ",top_note:"kuOIl Z",content:"wnqnF",fullWidth:"zOSRo",carousel:"aFNPn",padding:"moBaj",non_section:"NHyaO",sponsorship_wrap:"AqEqS"},er=({topNote:e,header:t,content:n,socialStatisticsBar:a,socialActionBar:r,isSingleObject:s,pois:l,contentClass:d,clusterId:c,sponsorship:h})=>{var p=c?`${ea.cluster_card} section`:"ui_card section",u=Array.isArray(l)&&l[0]?l:[];return i("div",{className:S(ea.card_section,s?p:ea.non_section),children:[h&&o("div",{className:ea.sponsorship_wrap,children:o(W,{sponsorship:h})}),e&&o("div",{className:ea.top_note,children:e}),o("div",{className:ea.padding,children:t}),i("div",{className:S(ea.background,d),children:[n,u.length?o(er.Content,{fullWidth:!0,children:o(U,{pois:u,className:ea.carousel})}):null]}),a&&o("div",{className:ea.padding,children:a}),r&&o("div",{className:ea.padding,children:r})]})};return[()=>{e("SectionModal$1",B=class extends a{componentDidMount(){this.imageContainerRef?.current&&this.setState({imageContainerWidth:this.imageContainerRef.current.getBoundingClientRect().width})}render(){var{actor:e,images:t,deleteObject:n,untagObject:a,viewportCategory:r,showPOISavesIcon:s,additionalContent:l,socialStatisticsBar:d,socialActionBar:c}=this.props,p=t[this.props.currentIndex],u=p?.publishedDate||p?.uploadDate,g=e&&!e.isMe?{FOLLOW:!0,UNTAG:!!I(p,this.props.loggedInUserId)}:{FOLLOW:!1,UNTAG:!!I(p,this.props.loggedInUserId)},f="MOBILE"===r,v="TABLET"===r,b=p?.photoSizes?.length&&Math.round(p.photoSizes[p.photoSizes.length-1].height/(p.photoSizes[p.photoSizes.length-1].width/100)),_=t.length>1,C=_&&o(h,{photos:t.map(e=>({id:e.id,photoSizes:e.photoSizes})),displayIndex:this.props.currentIndex,height:(()=>{var e=p.photoSizes.length-1;return(f||v)&&this.state.imageContainerWidth?`${this.state.imageContainerWidth*(p.photoSizes[e].height/p.photoSizes[e].width)}px`:f?"500px":v?"550px":"100%"})(),width:"100%",onPhotoChange:this.props.onPhotoChange,noCta:!0,totalCount:t.length,fitStrategy:"contain",showIndicatorDots:!0,maxIndicatorDots:10,showProgress:!0,hideArrows:!0}),O=!_&&(f||v?o(N,{sources:p.photoSizes,width:"100%",height:"auto",padding:`0 0 ${b}%`,notLazy:!0}):o(N,{sources:p.photoSizes,width:"100%",height:"100%",fitStrategy:"contain",notLazy:!0}));return i("div",{className:`ui_columns ${q.section_modal}`,children:[o("div",{className:`ui_column is-8 is-9-widescreen  is-8-desktop is-12-tablet is-12-mobile ${q.modal_image}`,ref:this.imageContainerRef,children:_?C:O}),i("div",{className:`ui_column is-4 is-3-widescreen is-4-desktop is-12-tablet is-12-mobile ${q.modal_info}`,children:[i("div",{className:q.section,children:[i("div",{className:q.member_block,children:[i("div",{className:q.member_block_left,children:[o(y,{photo:e.avatar,display:"inline",withBorder:!0}),i("span",{className:q.member_wrap,children:[o(w,{children:t=>o(m,{to:{page:"Profile",username:e.username},className:S(q.member_name,{verified:e.isVerified}),onClick:o=>t(o,"userClick",{userId:e.userId}),children:e.displayName})}),o("span",{className:q.event_date,children:o(k,{dateStr:u})})]})]}),o("div",{className:q.member_block_right,children:o(x,{sectionObject:this.props.overflowMenuObject,sectionObjectForType:this.props.overflowMenuObjectForType,sectionActor:this.props.actor,deleteObject:n,untagObject:a,overrideItems:g})})]}),o("div",{className:q.caption,children:o(w,{children:t=>o(P,{text:p.caption,socialReferences:p.socialReferences,useSpan:!0,onLinkReferenceClick:(o,i)=>{t(o,"linkReferenceClick",{authorUserId:e.userId,url:i})}})})}),p.caption&&this.props.additionalContent&&o("div",{className:q.divider}),l,d,c]}),p?.location&&o(z,{pois:[p.location],showSavesIcon:s})]})]})}constructor(e){super(e),H(this,"imageContainerRef",r()),this.state={imageContainerWidth:"MOBILE"===this.props.viewportCategory?411:600}}}),H(B,"defaultProps",{deleteObject:null,untagObject:null,loggedInUserId:"",showPOISavesIcon:!1,currentIndex:0,additionalContent:null}),F=C(e=>({viewportCategory:e.meta.device.viewportCategory,loggedInUserId:e.auth.loggedInUserId}))(B),$=E,T=et,U=eo,W=en,er.Content=function({children:e,fullWidth:t=!1}){return o(n,{children:c.map(e,e=>o("div",{className:S(ea.content,{[ea.fullWidth]:t}),children:e}))})},er.defaultProps={topNote:void 0,isSingleObject:!1,fullWidth:!1,classNames:"",pois:[],contentClass:"",clusterId:void 0},e({CardSection:er,FeedSectionPhotoCarousel:T,SectionModal:F,SectionModalHeader:$,SponsoredCrust:W,getOpenGraphInfoFromPhoto:Z})},[e=>(o=e.jsx,i=e.jsxs,n=e.Fragment),e=>(a=e.Component,r=e.createRef,s=e.useState,l=e.useRef,d=e.useEffect,c=e.Children),e=>h=e.PhotoCarousel,e=>p=e.MountedClientOnly,e=>u=e.useLocalize,e=>(m=e.Link,g=e.useRouteState,f=e.RouteConsumer,v=e.HeadProperties),e=>b=e.ModalView,e=>_=e.BrandedHeader,e=>C=e.connect,e=>S=e.default,e=>y=e.Avatar,e=>N=e.ResponsiveImage,e=>I=e.displayUntagIcon,e=>w=e.InteractionLogger,e=>(z=e.POIObjectList,O=e.useViewModelForObjects,j=e.POIObject),e=>k=e.ContentDisplayDate,e=>P=e.Linkify,e=>x=e.SectionOverflowMenu,e=>M=e.default,e=>A=e.TabActiveContext,e=>L=e.ScrollAffordance,e=>D=e.escapeHtml,e=>R=e.getDisplayName]]},["21h32l","o4yt4q","9pmixz","mb2nze","7thqz4","bvvaww","8m6oju","cnyhjq","2mj4nv","fkji80","dl4tf4","76j3t0","zx93be","yc8qq2","mqxvgj","tqlciu","noxsm3","shzb6i","dcu1wf","cv3feq","maf3t4","irfizf","z0kge0"]]);
