(this.$WP=this.$WP||[]).push(["467088",(e,t)=>{var o,n,r,i,a,s,c,l,d,p,m,h,u,I,_,R,T,E,C,O,f,S,P,N,L,v,g,A,b,W,y,w,M,k,x,H,F,V,B,U,D,Y,G,q,z,$,K,j,X,J,Q,Z,ee,et,eo,en,er,ei=e=>"string"==typeof e?e:void 0,ea=e=>"number"==typeof e?e:Number(e)||void 0,es=e=>({csrfToken:e.auth.csrfToken,userId:e.auth.loggedInUserId,locale:e.i18n.locale}),ec={__key:0x9d470ddfe77d,id:"9d470ddfe77d0e90",loc:{},definitions:[]},el={__key:0xd008e2f7c326,id:"d008e2f7c326274b",loc:{},definitions:[]},ed={wrapper:"SOhfD z F",stickySpacer:"PpECq",sticky:"aeYJJ"},ep=e=>fetch(e,{cache:"no-cache",credentials:"same-origin",method:"POST",redirect:"follow"}),em=e=>{var t=new URLSearchParams;return t.set("token",e.csrfToken),t.set("contentId",`${ea(e.contentId)||""}`),t.set("voteContentType",e.contentType),t.set("comment",e.submissionState.comment),t.set("reasonId",e.submissionState.iapReason),e.submissionState.suggestedLocationId&&t.set("suggestedLocationId",e.submissionState.suggestedLocationId),ep(`/ReportIAP?action=reportIAP&step=SAVE&${t.toString()}`)},eh=e=>{var{forumId:t=-1,forumTopicId:o=-1}=e.forumInfo||{},n=ea(e.contentId)||"",r=new URLSearchParams({token:e.csrfToken.toString(),fp:n.toString(),ff:t.toString(),ft:o.toString(),reason:e.submissionState.iapReason.toString()});return fetch("/ForumVote",{cache:"no-cache",credentials:"same-origin",method:"POST",redirect:"follow",accept:"*/*",body:r,headers:{Accept:"text/html, application/xml, text/xml, */*","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8","X-Requested-With":"XMLHttpRequest"}})},eu=(e,t,o)=>{if(e.submissionState){var n,r,{originalId:i}=e.repostInfo||{};i&&-1!==ea(i)?(n=i,r=ea(e.contentId)):n=e.contentId;var a={...e,contentId:n};if(r&&t({contentId:r,contentType:x.REPOST,userId:a.userId,iapReasonId:a.submissionState.iapReason,comments:a.submissionState.comment}),H.has(a.contentType))em(a).then(()=>{a.onComplete()}).catch(()=>{a.onError()});else if(F.has(a.contentType))eh(a).then(()=>{a.onComplete()}).catch(()=>{a.onError()});else if(V.has(a.contentType))t({contentId:ea(a.contentId),contentType:a.contentType,userId:a.userId,iapReasonId:a.submissionState.iapReason,comments:a.submissionState.comment});else if(B.has(a.contentType)){var s=ei(a.contentId);s&&o({reportedUserId:s,userId:a.userId,iapReasonId:a.submissionState.iapReason,comments:a.submissionState.comment})}}},eI=e=>{var{localize:t}=_(),i=ed.wrapper;e.sticky&&(i+=` ${ed.sticky}`);var a=e.sticky?o("div",{className:ed.stickySpacer,children:o(u,{disabled:!0})}):null,[,s]=m(el),[,c]=m(ec);return n(r,{children:[a,n("div",{className:i,children:[e.showBackButton?o(u,{type:"secondary",onClick:e.onBack,children:t("com_fyf_p2_011")}):null,o(u,{type:"primary",disabled:!1===e.submissionState,onClick:()=>eu(e,t=>c(t).then(({error:t})=>t?e.onError():e.onComplete()).catch(e.onError),t=>s(t).then(({error:t})=>t?e.onError():e.onComplete()).catch(e.onError)),children:t("common_Submit")})]})]})},e_={doYouKnow:"VnjVM H3",enterName:"Xuxgs H3",commentSpace:"aidfv",selectorWrap:"IHtTl _T",results:"wOvNx _V"};function eR(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var eT={default:"default",yes:"yes",no:"no"},eE=e=>{var{localize:t}=_();return o(y,{...e,localize:t})};function eC(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var eO=e=>!1,ef=e=>!0,eS=e=>t=>t.comment.trim().length>e,eP=e=>e.suggestedLocation&&e.suggestedLocation.id>0,eN={id:0,label:""},eL=e=>o(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.LINK,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>n(r,{children:[e.createRadio("PROFANE_EXPLICIT_HATE_SPEECH"),e.createRadio("LINK_ILLEGAL_ACTIVITY"),e.createRadio("LINK_INCORRECT_OUTDATED_BROKEN")]})}),ev={__key:0xb99255d2b416,id:"b99255d2b416ef6b",loc:{},definitions:[]},eg=(e,t,i,a,s)=>{var{ownerManagementUrl:c,ownerResponseUrl:l}=t,d=`/OwnerSupport?locationid=${i}&category=4&topic=44`,p=o("span",{dangerouslySetInnerHTML:{__html:s.string("report_review_redirect_2_part_2",{sUrl:`/UpdateListing-d${i}`})}}),m=o("span",{dangerouslySetInnerHTML:{__html:s.string("report_review_redirect_2_part_1",{sUrl:c||""})}}),h=a?p:m,u=o("span",{dangerouslySetInnerHTML:{__html:s.string("report_review_redirect_3",{sUrl:c||""})}}),I=o("span",{dangerouslySetInnerHTML:{__html:s.string("report_review_redirect_4_ver_2",{sUrl:l||""})}}),_=o("span",{dangerouslySetInnerHTML:{__html:s.string("report_review_redirect_5",{sUrl:d})}}),R=s("report_review_redirect_6"),T=o("span",{dangerouslySetInnerHTML:{__html:s.string("report_review_redirect_7",{sUrl:"https://www.tripadvisorsupport.com/hc/en-us/articles/200614617-As-a-business-owner-or-representative-how-do-I-remove-my-listing-",sEmphClass:"b"})}});return o(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.USERREVIEW,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>{var t="ownerReportReview";return e.isSubPanel(t)?n("div",{children:[e.createRadioWithSuggestionBox("WRONG_LOCATION",s("report_review_radio_desc_19")),e.createRadioWithOptionalComment("INAPPROPRIATE",s("report_review_radio_desc_9")),e.createRadioWithRequiredComment("WRITTEN_BY_COMPETITOR",s("report_review_radio_desc_10")),e.createRadioWithOptionalComment("MORE_THAN_1_YEAR_AGO",s("report_review_radio_desc_11_ver_1")),e.createRadioWithOptionalComment("REVIEW_NOT_CONSISTENT_WITH_RATING",`${s.string("report_review_radio_desc_12_part_1")} ${s.string("report_review_radio_desc_12_part_2")}`),e.createRadioWithOptionalComment("NOT_TRAVELERS_OWN",s("report_review_radio_desc_13_ver_2")),e.createRadioWithOptionalComment("DUPLICATE_CONTENT",`${s.string("report_review_radio_desc_14_part_1")} ${s.string("report_review_radio_desc_14_part_2")}`),e.createRadioWithOptionalComment("PROMOTIONAL",s("report_review_radio_desc_15_ver_1")),e.createRadioWithOptionalComment("NOT_ORIGINAL_REVIEW",s("report_review_radio_desc_16")),e.createRadioWithContentNoSubmit("DISAGREE_WITH_INFO",o("span",{dangerouslySetInnerHTML:{__html:s.string("report_review_radio_desc_17",{sUrl:l||""})}})),e.createRadioWithOptionalComment("CONTAINS_PRIVATE_INFO",s("report_review_radio_desc_18")),e.createRadioWithRequiredComment("OTHER")]},t):n(r,{children:[e.createRadioButtonWithSubPanel("REPORT_THIS_REVIEW",eO,t),e.createRadioWithContentNoSubmit("UPDATE_BUSINESS_DETAILS",h),e.createRadioWithContentNoSubmit("REPORT_BUSINESS_CLOSED",u),e.createRadioWithContentNoSubmit("EDIT_REMOVE_RESPONSE",I),e.createRadioWithContentNoSubmit("REPORT_OWNER_CHANGED",_),e.createRadioWithContentNoSubmit("REPORT_PHOTO",R),e.createRadioWithContentNoSubmit("REMOVE_LISTING",T)]})}})},eA=(e,t,i,a)=>{var s=t&&o("span",{dangerouslySetInnerHTML:{__html:a.string("social_report_level2_redirect",{sUrl:`/UpdateListing-d${t}`})}}),c=t&&o("span",{dangerouslySetInnerHTML:{__html:a.string("social_report_level2_1",{sUrl:`/Owners-d${t}`})}});return o(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.USERREVIEW,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>n(r,{children:[e.createRadioWithOptionalComment("PROFANE_EXPLICIT_HATE_SPEECH"),e.createRadioWithOptionalComment("PROMOTES_ILLEGAL_ACTIVITY"),e.createRadioWithRequiredComment("BIASED"),i?e.createRadioWithContentNoSubmit("CLOSED",o("span",{children:s})):e.createRadioWithRequiredComment("CLOSED"),e.createRadioWithSuggestionBox("WRONG_LOCATION",a("report_review_radio_desc_19")),e.createRadioWithOptionalComment("DUPLICATE_CONTENT"),e.createRadioWithOptionalComment("NOT_PERSONAL_EXPERIENCE"),e.createRadioWithContentNoSubmit("FALSE_MISLEADING_INFO",o("span",{children:c})),e.createRadioWithRequiredComment("OTHER")]})})},eb=e=>{var{localize:t}=_(),{placeType:n="",locationId:r=1}=e.location||{},i="ATTRACTION"===n||"EATERY"===n;return o(h,{query:ev,variables:{locationId:r},children:({fetching:o,data:n})=>{if(o)return null;var a=n?.locations&&n.locations[0];return a&&a.currentUserOwnerStatus?.isValid?eg(e,a,r,i,t):eA(e,r,i,t)}})},eW=e=>{var{localize:t}=_();return o(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.MEDIA,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>n(r,{children:[e.createRadioWithOptionalComment("PROFANE_EXPLICIT_HATE_SPEECH"),e.createRadioWithOptionalComment("PARTICIPATION_ILLEGAL_ACTIVITY"),e.createRadioWithOptionalComment("LOW_QUALITY"),e.createRadioWithSuggestionBox("WRONG_LOCATION",t.string("social_report_level2_3")),e.createRadioWithOptionalComment("DUPLICATE_CONTENT"),e.createRadioWithOptionalComment("COPYRIGHT_VIOLATION"),e.createRadioWithRequiredComment("OTHER")]})})},ey=e=>{var{localize:t}=_();return o(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.MEDIA,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>n(r,{children:[e.createRadioWithOptionalComment("PROFANE_EXPLICIT_HATE_SPEECH"),e.createRadioWithOptionalComment("PARTICIPATION_ILLEGAL_ACTIVITY"),e.createRadioWithSuggestionBox("WRONG_LOCATION",t.string("social_report_level2_4")),e.createRadioWithOptionalComment("DUPLICATE_CONTENT"),e.createRadioWithOptionalComment("COPYRIGHT_VIOLATION"),e.createRadioWithRequiredComment("OTHER")]})})},ew=({forumInfo:e,...t})=>o(q,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:x.FORUM,onError:t.onError,onComplete:t.onComplete,forumInfo:e,repostInfo:t.repostInfo,children:e=>n(r,{children:[e.createRadioWithOptionalComment("SELF_PROMOTION_ADVERTISEMENT_SOLICITATION"),e.createRadioWithOptionalComment("OFF_TOPIC"),e.createRadioWithOptionalComment("SPAM"),e.createRadioWithOptionalComment("DUPLICATE_FORUM"),e.createRadioWithOptionalComment("HARASSMENT"),e.createRadioWithOptionalComment("PROFANITY_SEX_VIOLENCE_CRIME_HATE"),e.createRadioWithOptionalComment("MULTIPLE_ACCOUNTS_OR_IMPERSONATION"),e.createRadioWithOptionalComment("PERSONAL_INFO"),e.createRadioWithOptionalComment("COPYRIGHTED")]})}),eM=e=>{var{localize:t}=_(),i=S().getState().i18n.ietfLocale.replace("_","-").toLocaleLowerCase(),a=o("span",{dangerouslySetInnerHTML:{__html:t.string("trip_level_2_disagree_or_error",{sUrl:`https://www.tripadvisorsupport.com/hc/${i}/articles/360008024254`})}});return o(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.TRIP,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>n(r,{children:[e.createRadioWithOptionalComment("PROFANE_EXPLICIT_HATE_SPEECH"),e.createRadioWithOptionalComment("PROMOTES_ILLEGAL_ACTIVITY"),e.createRadioWithOptionalComment("TRIP_COPYRIGHT"),e.createRadioWithOptionalComment("TRIP_NOT_TRAVEL_RELATED"),e.createRadioWithContentNoSubmit("TRIP_ERROR_OR_DISAGREE",o("span",{children:a})),e.createRadioWithRequiredComment("OTHER")]})})},ek=e=>{var{localize:t}=_();return o(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.LOCATION_TOPIC,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>n(r,{children:[o("div",{children:t("qa_iap_label")}),e.createDefaultReasonWithRequiredComment("INAPPROPRIATE")]})})},ex=e=>{var{localize:t}=_();return o(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.LOCATION_POSTING,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>n(r,{children:[o("div",{children:t("qa_iap_label")}),e.createDefaultReasonWithRequiredComment("INAPPROPRIATE")]})})},eH=e=>{var{localize:t}=_(),i=e.locale.replace("_","-").toLocaleLowerCase(),a=o("span",{dangerouslySetInnerHTML:{__html:t.string("iap_profile_report_from_post_lev2",{sUrl:`https://www.tripadvisorsupport.com/hc/${i}/articles/360008133913-TripAdvisor-s-Content-Policy`})}}),s=o("span",{dangerouslySetInnerHTML:{__html:t.string("iap_profile_general_support_lev2")}}),c=o("span",{dangerouslySetInnerHTML:{__html:t.string("iap_profile_report_from_inbox_lev2")}});return o(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.PROFILE,onError:e.onError,onComplete:e.onComplete,children:e=>n(r,{children:[e.createRadioWithText("PROFILE_PROBLEM_WITH_PHOTO",t("iap_profile_problem_with_pic_lev2")),e.createRadio("PROFILE_PROBLEM_WITH_LINK"),e.createRadio("PROFILE_IAP_USERNAME"),e.createRadioWithContentNoSubmit("PROFILE_IAP_CONTRIBUTION",o("span",{children:a})),e.createRadioWithContentNoSubmit("PROFILE_PROBLEM_MY_ACCOUNT",o("span",{children:s})),e.createRadioWithContentNoSubmit("PROFILE_UNWANTED_MESSAGE",o("span",{children:c}))]})})},eF=e=>o(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.USERREVIEW,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>o(r,{children:e.createDefaultReasonWithRequiredComment("OWNER_RESPONSE",10,200,o(R,{id:"explain_why_management_response_violates_guidelines",args:{link:"/help/management_response_guidelines"}}))})}),eV={iapTYH1:"dWgAo b",iapTYText:"xSABF",iapTYContent:"kWfsu c",iapModalContent:"SiAkd"};function eB(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var eU=e=>o(L,{children:t=>o(u,{size:"fullwidth",type:"primary",onClick:t,children:e("common_OK")})}),eD=()=>{var{localize:e}=_();return n("div",{className:eV.iapTYContent,children:[o("p",{className:eV.iapTYH1,style:{textAlign:"center"},children:e("social_report_ty2")}),o("p",{className:eV.iapTYText,children:e("social_report_ty2b")}),eU(e)]})},eY=()=>{var{localize:e}=_();return n("div",{className:`${eV.iapTYContent} ${eV.iapTYText}`,children:[e("social_report_prof_err"),eU(e)]})},eG=({name:e,children:t,pid:n})=>{var r=A({pid:n});return o(N,{name:e,children:e=>t(()=>{r().then(e)})})},eq=e=>o(w,{modalName:e.modalName,children:(t,n)=>o(z,{onError:t,onComplete:n,contentId:e.contentId,repostInfo:e.repostInfo})}),ez=e=>o(w,{modalName:e.modalName,children:(t,n)=>o($,{onError:t,onComplete:n,contentId:e.contentId,location:e.location,repostInfo:e.repostInfo})}),e$=e=>o(w,{modalName:e.modalName,children:(t,n)=>o(K,{onError:t,onComplete:n,contentId:e.contentId,repostInfo:e.repostInfo})}),eK=e=>o(w,{modalName:e.modalName,children:(t,n)=>o(j,{onError:t,onComplete:n,contentId:e.contentId,repostInfo:e.repostInfo})}),ej=e=>o(w,{modalName:e.modalName,children:(t,n)=>o(X,{onError:t,onComplete:n,contentId:e.contentId,forumInfo:e.forumInfo,repostInfo:e.repostInfo})}),eX=e=>o(w,{modalName:e.modalName,children:(t,n)=>o(J,{onError:t,onComplete:n,contentId:e.contentId,repostInfo:e.repostInfo})}),eJ=e=>o(w,{modalName:e.modalName,children:(t,n)=>o(Q,{onError:t,onComplete:n,contentId:e.contentId,repostInfo:e.repostInfo})}),eQ=e=>o(w,{modalName:e.modalName,children:(t,n)=>o(Z,{onError:t,onComplete:n,contentId:e.contentId,repostInfo:e.repostInfo})}),eZ=e=>o(w,{modalName:e.modalName,children:(t,n)=>o(ee,{onError:t,onComplete:n,contentId:e.contentId})}),e0=e=>{var{originalType:t}=e.repostInfo||{};switch(t){case"Review":return o(ez,{...e});case"Photo":return o(e$,{...e});case"Video":return o(eK,{...e});case"LinkPost":return o(eq,{...e});case"ForumPost":return o(ej,{...e});case"Trip":return o(eX,{...e});case"ApiLocationTopic":return o(eJ,{...e});case"ApiTopicPosting":return o(eQ,{...e});default:return null}},e1={modalContainer:"BVszW",header:"CumiX S2 H2",commentBox:"bHkEc Md",numberLabels:"bXaqO Wi Pb S2"};function e2(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var e4=e=>{var{localize:t}=_();return o(M,{...e,localize:t})},e3=e=>{var t={contentId:W(e),location:e.location,forumInfo:{forumId:e.forumId,forumTopicId:e.topicId}},{repostedObject:o}=e;if(!o)return t;var n=W(o);return{...t,location:o.location,forumInfo:{forumId:o.forumId,forumTopicId:o.topicId},repostInfo:{originalId:n,originalType:o.__typename}}};return[()=>{k={repostInfo:void 0},x=Object.freeze({FORUM:"FORUMPOST",USERREVIEW:"USERREVIEW",MEDIA:"MEDIA",TRIP:"2",LINK:"1",REPOST:"3",PROFILE:"4",LOCATION_TOPIC:"LOCATION_TOPIC",LOCATION_POSTING:"LOCATION_POSTING",SAFETY_MESSAGE:"SAFETY_MESSAGE"}),H=new Set([x.USERREVIEW,x.MEDIA,x.LOCATION_TOPIC,x.LOCATION_POSTING]),F=new Set([x.FORUM]),V=new Set([x.LINK,x.TRIP,x.SAFETY_MESSAGE]),B=new Set([x.PROFILE]),U=i(e=>({sticky:"MOBILE"===e.meta.device.viewportCategory}))(eI),y=class extends a{constructor(e){super(e),eR(this,"onYesClick",()=>{this.setState({locationKnown:eT.yes}),this.props.onYes()}),eR(this,"onNoClick",()=>{this.setState({locationKnown:eT.no}),this.props.onNo()}),eR(this,"onResultSelected",e=>{var t=e.displayValue||"";this.props.onLocationChange(parseInt(e.value,10),t),this.setState({textInputValue:t})}),eR(this,"textInputChanged",e=>{this.setState({textInputValue:e})}),eR(this,"typeaheadJsonFetcher",new E({interleaved:!0,types:["hotel","attr","eat","act"],filter:["nobroad"],name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:20})),eR(this,"defaultResult",{type:"location_id",value:"0"}),eR(this,"render",()=>{var e=this.state.locationKnown===eT.yes?"primary":"secondary",t=this.state.locationKnown===eT.no?"primary":"secondary";return n("div",{children:[o("div",{className:e_.doYouKnow,children:this.props.hintText}),n(f,{children:[o(u,{type:e,onClick:this.onYesClick,children:this.props.localize("common_Yes")}),o(u,{type:t,onClick:this.onNoClick,children:this.props.localize("common_No")})]}),n("div",{style:{display:this.state.locationKnown===eT.yes?"block":"none"},children:[o("div",{className:e_.enterName,children:this.props.localize("social_report_level3_1")}),o("div",{className:e_.selectorWrap,children:o(C,{typeaheadTextInputValue:this.state.textInputValue,selectionChanged:this.onResultSelected,fetchers:[this.typeaheadJsonFetcher],textInputChanged:this.textInputChanged,placeHolder:this.props.localize.string("common_25f1"),closeDropdownOnClickOutside:!1,children:(e,t,n)=>o("div",{className:e_.results,children:o(T,{children:[...e.worldwide||[],...e.typeaheadjson||[]].map(e=>(r,i)=>o(O,{result:e,tracker:t,onMouseMove:i,onSelection:n,active:r,includeIcon:!0},`result=${e.value}`))})})},this.props.location.id)}),o("div",{className:e_.commentSpace,children:o(c,{value:this.props.comment,onChange:this.props.onCommentChange,minLength:10,maxLength:250})})]}),o("div",{className:e_.commentSpace,style:{display:this.state.locationKnown===eT.no?"block":"none"},children:o(c,{value:this.props.comment,onChange:this.props.onCommentChange,minLength:10,maxLength:250,required:!0,label:this.props.localize("social_report_level3_2")})})]})}),this.state={locationKnown:eT.default,textInputValue:e.location.label}}},D=eE,Y=class extends a{componentDidMount(){this.props.onMountMethod()}render(){return this.props.children}},G=eS(10),q=class extends a{isSubPanel(e){return this.state.subPanelId===e}constructor(...e){super(...e),eC(this,"state",{selectedIAPReason:void 0,comment:"",suggestedLocation:eN,isStateValid:e=>!1,subPanelId:""}),eC(this,"getSubmissionState",()=>!(!this.state.isStateValid||!this.state.selectedIAPReason||l(this.state.selectedIAPReason))&&!!this.state.isStateValid(this.state)&&!!this.state.selectedIAPReason&&{iapReason:d(this.state.selectedIAPReason).id,comment:this.state.comment,suggestedLocationId:this.state.suggestedLocation.id}),eC(this,"setNewReason",(e,t)=>{this.setState({selectedIAPReason:e,isStateValid:t,comment:"",suggestedLocation:eN})}),eC(this,"setValidation",e=>{this.setState({isStateValid:e})}),eC(this,"setSubPanel",e=>{this.setState({subPanelId:e})}),eC(this,"setCommentFromCommentBoxEvent",e=>{this.setState({comment:e.target.value})}),eC(this,"setLocation",(e,t)=>{this.setState({suggestedLocation:{id:e,label:t}})}),eC(this,"resetSubmissionState",()=>{this.setState({comment:"",suggestedLocation:eN})}),eC(this,"createSubmitButton",()=>o(U,{contentId:this.props.contentId,contentType:this.props.contentType,userId:this.props.userId,csrfToken:this.props.csrfToken,submissionState:this.getSubmissionState(),onComplete:()=>{this.props.onComplete(this.state.selectedIAPReason)},onError:this.props.onError,onBack:()=>{this.setSubPanel(""),this.resetSubmissionState()},showBackButton:!!this.state.subPanelId,forumInfo:this.props.forumInfo,repostInfo:this.props.repostInfo})),eC(this,"createRadioWithSuggestionBox",(e,t)=>this.createRadioButtonWithChildren(e,eO,o(D,{hintText:t,comment:this.state.comment,onCommentChange:this.setCommentFromCommentBoxEvent,location:this.state.suggestedLocation,onLocationChange:this.setLocation,onYes:()=>{this.setValidation(eP),this.resetSubmissionState()},onNo:()=>{this.setValidation(G),this.resetSubmissionState()}}))),eC(this,"createRadioWithText",(e,t)=>this.createRadioButtonWithChildren(e,ef,t)),eC(this,"createRadio",e=>this.createRadioButtonWithChildren(e,ef,null)),eC(this,"createRadioWithOptionalComment",(e,t)=>this.createRadioButtonWithChildren(e,ef,n(r,{children:[t,o(c,{value:this.state.comment,onChange:this.setCommentFromCommentBoxEvent,maxLength:250})]}))),eC(this,"createRadioWithRequiredComment",(e,t)=>this.createRadioButtonWithChildren(e,eS(10),n(r,{children:[t,o(c,{value:this.state.comment,onChange:this.setCommentFromCommentBoxEvent,required:!0,minLength:10,maxLength:500})]}))),eC(this,"createRadioWithContentNoSubmit",(e,t)=>this.createRadioButtonWithChildren(e,eO,t)),eC(this,"createRadioButtonWithChildren",(e,t,n)=>{var r=`${e}`;return o(p,{selected:e===this.state.selectedIAPReason,value:r,labelText:d(e).label,onSelect:()=>{this.setNewReason(e,t)},children:n})}),eC(this,"createDefaultReasonWithRequiredComment",(e,t=50,n=500,r)=>this.createDefaultReasonWithChildren(e,eS(t),o(c,{value:this.state.comment,onChange:this.setCommentFromCommentBoxEvent,required:!0,minLength:t,maxLength:n,label:r}))),eC(this,"createDefaultReasonWithChildren",(e,t,n)=>o(Y,{onMountMethod:()=>{this.setNewReason(e,t)},children:n})),eC(this,"createRadioButtonWithSubPanel",(e,t,n)=>o(p,{selected:!1,value:`${e}`,labelText:d(e).label,onSelect:()=>{this.setSubPanel(n),this.setNewReason(e,t)},children:null})),eC(this,"render",()=>n(r,{children:[o(s,{name:"ReportIAP",ariaLabelledBy:"ReportIAP",children:this.props.children(this)}),this.createSubmitButton()]}))}},eL.defaultProps=k,z=i(e=>es(e))(eL),eb.defaultProps=k,$=i(e=>es(e))(eb),eW.defaultProps=k,K=i(e=>es(e))(eW),ey.defaultProps=k,j=i(e=>es(e))(ey),ew.defaultProps=k,X=i(e=>es(e))(ew),eM.defaultProps=k,J=i(e=>es(e))(eM),ek.defaultProps=k,Q=i(e=>es(e))(ek),ex.defaultProps=k,Z=i(e=>es(e))(ex),eH.defaultProps=k,ee=i(e=>es(e))(eH),eF.defaultProps=k,et=i(e=>es(e))(eF),w=class extends a{constructor(...e){super(...e),eB(this,"state",{status:"panel"}),eB(this,"onError",()=>{this.setState({status:"error"})}),eB(this,"onComplete",()=>{this.setState({status:"thankyou"})}),eB(this,"render",()=>{e="thankyou"===this.state.status?o(eD,{}):"error"===this.state.status?o(eY,{}):o("div",{className:eV.iapModalContent,children:this.props.children(this.onError,this.onComplete)});var e,t=o(v,{icon:g,displayType:"LEFT_ALIGN_GRAY",children:o("div",{id:"ReportIAP",children:o(I,{id:"report_problem_ffffff85"})})});return o(P,{name:this.props.modalName,header:t,children:e})})}},eo={repostInfo:void 0,forumInfo:void 0,location:void 0},eq.defaultProps=eo,ez.defaultProps=eo,e$.defaultProps=eo,eK.defaultProps=eo,ej.defaultProps=eo,eX.defaultProps=eo,eJ.defaultProps=eo,eQ.defaultProps=eo,eZ.defaultProps=eo,e0.defaultProps=eo,en=Object.freeze({USERREVIEW:"USERREVIEW"}),er=Object.freeze({OWNER_RESPONSE_REASON_ID:21}),M=class extends a{render(){var e,{modalName:t,userId:r,locationId:i,responseId:a}=this.props;return t&&r&&a&&i&&!(i<=0)?(e="thankyou"===this.state.status?o(eD,{}):"error"===this.state.status?o(eY,{}):n("div",{className:e1.modalContainer,children:[o("div",{className:e1.header,dangerouslySetInnerHTML:{__html:this.props.localize.string("explain_why_management_response_violates_guidelines",{link:"/help/management_response_guidelines"})}}),o(b,{className:e1.commentBox,value:this.state.comment,onChange:this.setCommentFromCommentBoxEvent,maxLength:200}),this.numberLabels,this.createSubmitButton()]}),o(P,{name:t,header:this.header,children:e})):null}constructor(...e){super(...e),e2(this,"state",{status:"panel",comment:""}),e2(this,"onError",()=>{this.setState({status:"error"})}),e2(this,"onComplete",()=>{this.setState({status:"thankyou"})}),e2(this,"getSubmissionState",()=>!(this.state.comment.length<10)&&{iapReason:er.OWNER_RESPONSE_REASON_ID,comment:this.state.comment}),e2(this,"setCommentFromCommentBoxEvent",e=>{this.setState({comment:e.target.value})}),e2(this,"header",o(v,{icon:g,displayType:"LEFT_ALIGN_GRAY",children:this.props.localize("report_problem_ffffff85")})),e2(this,"numberLabels",n("div",{className:e1.numberLabels,children:[this.props.localize("ur_rd_0characterminimum",{0:10}),"\xa0/\xa0",this.props.localize("ur_rd_0charactermaximum",{0:200})]})),e2(this,"createSubmitButton",()=>o(U,{contentId:this.props.responseId,contentType:en.USERREVIEW,userId:this.props.userId,csrfToken:this.props.csrfToken,submissionState:this.getSubmissionState(),showBackButton:!1,onComplete:this.onComplete,onError:this.onError}))}},e({ReportForumModal:ej,ReportForumPanel:X,ReportLinkModal:eq,ReportLinkPanel:z,ReportLocationTopicModal:eJ,ReportLocationTopicPanel:Q,ReportLocationTopicPostModal:eQ,ReportLocationTopicPostPanel:Z,ReportMemberModal:eZ,ReportMemberPanel:ee,ReportModalOpener:eG,ReportOwnerResponseModal:i(e=>({csrfToken:e.auth.csrfToken,locationId:e.page.detailId}))(e4),ReportOwnerResponsePanel:et,ReportPhotoModal:e$,ReportPhotoPanel:K,ReportRepostModal:e0,ReportReviewModal:ez,ReportReviewPanel:$,ReportTripModal:eX,ReportTripPanel:J,ReportVideoModal:eK,ReportVideoPanel:j,ReportVoteError:eY,ReportVoteThankYou:eD,reportPropsFromObject:e3})},[e=>(o=e.jsx,n=e.jsxs,r=e.Fragment),e=>i=e.connect,e=>a=e.Component,e=>s=e.RadioGroup,e=>(c=e.CommentBox,l=e.isOwnerReason,d=e.forLabel,p=e.ReportIAPRadio),e=>(m=e.useMutation,h=e.Query),e=>u=e.default,e=>(I=e.default,_=e.useLocalize,R=e.UnsafeLocalize),e=>T=e.NavigableList,e=>(E=e.TypeaheadJsonFetcher,C=e.Selector,O=e.TypeaheadJsonResult),e=>f=e.default,e=>S=e.getStore,e=>P=e.Modal,e=>(N=e.Opener,L=e.Closer),e=>v=e.TitleBar,e=>g=e.default,e=>A=e.useSocialLoginGate,e=>b=e.TextArea,e=>W=e.getObjectId]]},["21h32l","2mj4nv","o4yt4q","frf6ac","ynqy3n","mqwhqn","4nzso8","7thqz4","qhneqr","1uaudg","p6p3ta","45ddp0","8m6oju","80hn7v","cnyhjq","s9vc2i","0506zk","afpmup","8cxlqi"]]);
