(this.$WP=this.$WP||[]).push(["g05qlv",(e,t)=>{var n,r,o,u,a,i,c,s,l,h,d,v,f,m,g,T,y,p,S,b,w=()=>g?.matches?"DARK":"LIGHT",L=e=>{"addEventListener"in g?g.addEventListener("change",e):"addListener"in g&&g.addListener(e)},P=e=>{"removeEventListener"in g?g.removeEventListener("change",e):"removeListener"in g&&g.removeListener(e)},x={__key:0x685b7ad6643c,id:"685b7ad6643ca655",loc:{},definitions:[]},I=()=>T,k=(e=!0)=>{var t=v(x);return[T,o(e=>t({themeStore:e}),[t])]},C={};function O(e){return new Promise(function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}})}function B(e,t){var n=indexedDB.open(e);n.onupgradeneeded=function(){return n.result.createObjectStore(t)};var r=O(n);return function(e,n){return r.then(function(r){return n(r.transaction(t,e).objectStore(t))})}}function D(){return y||(y=B("keyval-store","keyval")),y}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D();return t("readonly",function(t){return O(t.get(e))})}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D();return n("readwrite",function(n){return n.put(t,e),O(n.transaction)})}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D();return t("readwrite",function(t){return e.forEach(function(e){return t.put(e[1],e[0])}),O(t.transaction)})}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D();return t("readonly",function(t){return Promise.all(e.map(function(e){return O(t.get(e))}))})}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D();return n("readwrite",function(n){return new Promise(function(r,o){n.get(e).onsuccess=function(){try{n.put(t(this.result),e),r(O(n.transaction))}catch(e){o(e)}}})})}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D();return t("readwrite",function(t){return t.delete(e),O(t.transaction)})}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return e("readwrite",function(e){return e.clear(),O(e.transaction)})}function _(e,t){return e("readonly",function(e){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},O(e.transaction)})}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D(),t=[];return _(e,function(e){return t.push(e.key)}).then(function(){return t})}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D(),t=[];return _(e,function(e){return t.push(e.value)}).then(function(){return t})}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D(),t=[];return _(e,function(e){return t.push([e.key,e.value])}).then(function(){return t})}var U="theme",V=()=>p(U).then(e=>{if(null!=e&&"object"==typeof e&&"theme"in e&&"themePreferenceOrAuto"in e){var{theme:t,themePreferenceOrAuto:n}=e;return{theme:t,themePreferenceOrAuto:n}}}).catch(e=>{console.error("Error getting theme from IndexedDB",e)}),$=e=>S(U,e).catch(e=>console.error("Error saving theme to IndexedDB",e)),G=()=>{var{isWebview:e}=f();return(m(),e)?{enableTheming:!0,canChangeThemes:!0}:{enableTheming:!1,canChangeThemes:!1}},H="themeChanged",J=({initialThemeStore:e,children:t})=>{var{canChangeThemes:o,enableTheming:v}=b(),[f,m]=k(v),[g,T]=r.useState((e??f)?.theme??l),[y,p]=r.useState((e??f)?.themePreferenceOrAuto??h),S=r.useRef(()=>{});r.useEffect(()=>()=>P(S.current),[]);var x=r.useCallback((e,t)=>{var n=v?e:l;p(n);var r=document.body;if(null!=r){var o=u(n);r.classList.remove(...Object.values(a).map(String)),null!=o&&r.classList.add(o)}if(t?.syncToTabs!==!1)try{window.localStorage.setItem(H,n),window.localStorage.removeItem(H)}catch(e){}var i=e=>{T(e);var r={theme:e,themePreferenceOrAuto:n};t?.saveToService!==!1&&m(r),t?.saveToIndexedDB!==!1&&$(r)};"AUTO"===n?(i(w()),P(S.current),S.current=()=>{i(w())},L(S.current)):(i(n),P(S.current))},[m,v]),I=r.useCallback(e=>{x(e,{saveToService:!1,saveToIndexedDB:!1,syncToTabs:!1})},[x]),{serviceWorker:C}=r.useContext(i);r.useEffect(()=>{null!=e?x(e.themePreferenceOrAuto,C?{saveToIndexedDB:!1}:{saveToService:!1}):C?x(h,{saveToIndexedDB:!1,saveToService:!1}):V().then(e=>{null!=e?x(e.themePreferenceOrAuto,{saveToIndexedDB:!1}):x(h,{saveToIndexedDB:!1,saveToService:!1})})},[x,C,e]),s("storage",e=>{e.key===H&&null!=e.newValue&&I(e.newValue)});var O=c();return r.useEffect(()=>{v&&O({itemType:"theme",customData:JSON.stringify({theme:g})})},[v,O,g]),n(d,{value:r.useMemo(()=>v?{theme:g,themePreferenceOrAuto:y,canChangeThemes:o,setTheme:x,setThemeLocal:I}:{theme:l,themePreferenceOrAuto:l,canChangeThemes:!1,setTheme:()=>{},setThemeLocal:()=>{}},[g,y,v,o,x,I]),children:t})};return[()=>{g=globalThis.matchMedia?.("(prefers-color-scheme: dark)"),Object.defineProperty(C,"__esModule",{value:!0}),C.clear=W,C.createStore=B,C.del=q,C.entries=F,p=C.get=E,C.getMany=M,C.keys=z,C.promisifyRequest=O,S=C.set=A,C.setMany=j,C.update=R,C.values=N,b=G,e({LithiumThemeProvider:J,getInitialThemeStoreForServerSideRenderer:I,getInitialThemeStoreForServiceWorkerRenderer:V})},[e=>n=e.jsx,e=>(r=e,o=e.useCallback),e=>(u=e.getBodyElementClassName,a=e.themeClassNames),e=>i=e.LithiumBootstrapContext,e=>c=e.default,e=>s=e.useWindow,e=>(l=e.defaultTheme,h=e.defaultThemePreferenceOrAuto,d=e.ThemeProvider),e=>v=e.useStatelessMutation,e=>f=e.useUserAgent,e=>m=e.useLanguage]]},["21h32l","o4yt4q","vpo3wt","p5p2yo","xg719z","ltllz9","u9jlwp","fbuhsy","nnprhg","7thqz4"]]);
