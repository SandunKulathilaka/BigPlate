(this.$WP=this.$WP||[]).push(["n6iz1t",(e,a)=>{var i,n,t,o,s,r,l,d,u,c,v,h,g,m,f,p,N,b,S,E,k,w,T,y,A,R,_,x,H,F,D,j,C,O=e=>{var{isOptimusEnabled:a,isOptimusSubscribed:i,fetching:n}=E(),o=b(),s=k(!a||i||!e.includes("Nova")||"en-US"!==o);return t(()=>i||!a?{fetching:n||s.fetching,targeting:"false"}:{fetching:n||s.fetching,targeting:s.cashbackEnabled?"Cashback":"Discount"},[i,a,n,s])},z=["Hotels","HotelsList","HotelsNear","HotelHighlight","SmartDeals","Hotel_Review","ShowUserReviews","Home","ShowForum","ShowTopic"],B=e=>{var{page:a}=p(),i=w({experimentKeys:["nova_house_ads_holdback_1645552353"]},!z.includes(a)||!e.endsWith("Nova"));return null===i?{isNovaHoldbackEnabled:!1,fetching:!0}:{isNovaHoldbackEnabled:"test"===i?.nova_house_ads_holdback_1645552353&&e.endsWith("Nova"),fetching:!1}},L={novaAd:"VnzpY",square:"ZzXVA",ad:"RnYjA j u",empty:"ZWKar Xd y o",fixMarginBottom:"DLdTM",withMargin:"giWkJ",hide:"XqoXi"},M=["Home"],P=({position:e,children:a,viewportOverride:o,disableFallback:s=!1,marginVariant:r,isAttractionsCoverPage:l=!1})=>{var d=p(),c=b(),v=N(),{ref:h,id:f,isEmpty:S,isRendered:E,isDisabled:k}=g({size:(M.includes(d.page)?"3x3":({MOBILE:"300x250|8x8|3x3",TABLET:"728x90|3x3",DESKTOP:"728x90|3x3"})[o||v])||"",position:e,refreshType:"NO_REFRESH",isAttractionsCoverPage:l}),w=e=>{switch(e){case"AttractionsFusion":return"fixMarginBottom";case"Hotels":return"withMargin";default:return""}},T=t(()=>r??w(d.page),[r,d.page]),y=E&&S;return k?null:n("div",{className:u(L.novaAd,{[L[T]]:(!S||y)&&T,[L.hide]:y&&s}),children:[y&&!a&&i(m,{position:e,locale:c,page:d.page,viewportOverride:o}),y&&a,i("div",{id:f,ref:h,className:u(L.ad,{[L.empty]:S})})]})},U=e=>i("div",{className:u(L.square,L.novaAd),children:i(f,{position:"RailNova",size:"300x250|3x3",isSticky:e.isSticky})}),q=e=>{var{position:a}=e;return n("div",{"data-automation":`nova-ad-${a}`,children:["InlineNova"===a&&i(P,{...e}),"RailNova"===a&&i(U,{...e})]})},V=e=>{var a=c(),n=O(e.position),t=H(e.position),o=e.additionalTargeting?{...e.additionalTargeting,PlusEligible:n.targeting,NovaTest:String(t.isNovaHoldbackEnabled)}:{PlusEligible:n.targeting,NovaTest:String(t.isNovaHoldbackEnabled)};return!a||n.fetching||t.fetching?null:i(h,{value:o,children:i(q,{...e})})},I=({position:e,...a})=>i(v,{position:e,children:i(V,{position:e,...a})}),W=({theme:e,onClose:a})=>{var{localize:n}=S();return i("button",{className:u("VtDrB B- _S G-",{EkNQV:"sand"===e,LYjLi:"mint"===e,gopkK:"juniper"===e}),onClick:a,"aria-label":n.string("common_Close"),type:"button",children:i(x,{})})},K=({maxViews:e,storageKey:a,theme:t="mint",onClose:o,onVisible:s,children:u})=>{var{isWebview:c}=_(),[v,h]=r(!1),g=R(()=>{s&&s()}),m=l(()=>{h(!1),A.set(a,e),o&&o()},[e,o,a]);return(d(()=>{var i=A.has(a)?parseInt(A.get(a),10):0;i<e&&(h(!0),A.set(a,i+1))},[e,a]),!v||c)?null:n(D,{theme:t,ref:g,children:[i("div",{className:"GqDUn _U t",children:i(j,{theme:t,onClose:m})}),i("div",{className:"GNxwY w",children:u})]})},Y="SUNova",G=({onDismiss:e})=>{var{page:a}=p(),n=T(),t=e=>{n({module:"Nova_Forum",context:a,action:e})},{ref:o,id:s,isEmpty:r,isLoaded:l,isDisabled:c}=g({size:"3x3",position:Y,aboveTheFold:!0,refreshType:"NO_REFRESH"});return(d(()=>{c&&e&&e()}),c)?null:i("div",{className:u({fdTDu:!l||r}),children:i(C,{storageKey:"novaForumViewCount",maxViews:2,theme:"nova",onVisible:()=>{t("Nova_Forum_seen")},onClose:()=>{t("Nova_Forum_closed")},children:i("div",{ref:o,id:s,className:u("WanOy")})})})},X=({onDismiss:e})=>{var a=O(Y),n=H(Y);if(a.fetching||n.fetching)return null;var t={fluidType:"nova",PlusEligible:a.targeting,NovaTest:String(n.isNovaHoldbackEnabled)};return i(v,{position:Y,children:i(h,{value:t,children:i(G,{onDismiss:e})})})},J=()=>{var e=e=>i(X,{onDismiss:e}),a="nova-ads";return y({factory:({dismiss:a})=>e(a),eventTypes:[a],key:a,tier:700}),null},Z=["MOBILE"],Q=["Tourism","Hotel_Review","Restaurants","Restaurants_Review","ShowForum","ShowTopic"],$=["en-US","fr-FR","en-AU","en-GB","en-CA","fr-CA","es-MX","it-IT","es-ES","ja-JP","ko-KR","zh-Hant-TW","en-IN","de-DE","nl-NL","pt-BR"],ee=()=>{var e=p(),a=b(),{page:i,params:n}=e,{userAgentCategory:t}=_(),o=N();return 14281!==(("ShowTopic"===i||"ShowForum"===i)&&n.forumId||0)&&!!("en-US"===a||Z.includes(t)&&Z.includes(o)&&$.includes(a)&&Q.includes(i))};return[()=>{H=B,F=o(I),D=s(function({theme:e,children:a},n){return i("div",{ref:n,className:u("QYpDj f o D s Za",{ZJOYm:"mint"===e,tgbJQ:"sand"===e,ATqso:"juniper"===e,APNAO:"nova"===e}),role:"dialog",children:a})}),j=W,C=K,e({NovaStickyAd:J,default:F,useNovaAd:ee})},[e=>(i=e.jsx,n=e.jsxs),e=>(t=e.useMemo,o=e.memo,s=e.forwardRef,r=e.useState,l=e.useCallback,d=e.useEffect),e=>u=e.default,e=>c=e.useIsMounted,e=>(v=e.AdErrorBoundary,h=e.AdTargetingProvider,g=e.useAd,m=e.FallbackSelector,f=e.RailAd),e=>p=e.useRoute,e=>N=e.useViewportCategory,e=>(b=e.useLocale,S=e.useLocalize),e=>E=e.useOptimusEnabledForUser,e=>k=e.useCashbackEnabled,e=>w=e.default,e=>T=e.useGARecorder,e=>y=e.usePopupHierarchyRender,e=>A=e.default,e=>R=e.useOnVisible,e=>_=e.useUserAgent,e=>x=e.default]]},["21h32l","o4yt4q","fkji80","mb2nze","9m9122","fgwvq1","ys6v1o","7thqz4","4tv4as","7g0c7c","gugp1d","32pwc7","xo1is3","9b9b10","3btuy0","nnprhg","qkjm8h"]]);
