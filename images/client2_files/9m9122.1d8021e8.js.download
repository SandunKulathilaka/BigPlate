(this.$WP=this.$WP||[]).push(["9m9122",(e,r)=>{var i,t,n,a,s,o,l,u,d,c,p,h,v,f,R,g,E,w,m,T,_,S,A,I,O,M,b,y,L,C,F,x,B,N,P,H,D,k,z,W,V,j,U,q,Q,Y,G,Z,$,K,J,X,ee,er,ei,et,en,ea,es=({children:e})=>i(a,{onError:()=>{},children:e}),eo=(e,r)=>{var i=o([]);return S(i.current,r)||(i.current=r),u(e,[i.current])},el=({children:e,value:r})=>{var t=Z(()=>r,[r]);return i($.Provider,{value:t,children:e})},eu=e=>e&&["premium","sufficient","insufficient"].includes(e)?e:null,ed=(e,r)=>{if(!e||!Array.isArray(e)||0===e.length||"string"!=typeof e[0])return null;var i=r.toLowerCase(),t=e[0].toLowerCase().split("/").find(e=>e.startsWith(`${i}:`));return t?eu(t.split(":")[1]):null},ec={__key:0x9edb1d1f1c63,id:"9edb1d1f1c637e5a",loc:{},definitions:[]},ep="MOBILE",eh=["ShowTopic","ShowForum","NewTopic","ListForums"],ev=[13845128,13845130,13845131],ef=[33165],eR="Tourism",eg=["1poX3FsJ3oo","SMFdF2aepQY","FslQHYXme2Y","aWluTyoZVBM","WSwhGCBBpuU","etawZOpSJdQ","kne2nOaevcI","QGZSYNRQQZM","sabFBBFbRJs","esLnKuTnYiw","u7HylHLQavY","foA3X7tjREA","MRRqFzcmVf0","UKxtduAGfdI","ceFfj6DhNVs"],eE=["112873177","112873040","112873592","112873181","112872705","112872888","112873578","112872970","112873367","112872705","112873036","112873190","112873046","112872707","112873605","112872964","112873050"];function ew(e){var r=I(),{page:i,params:t}=T(),n=M(),a="args"in t&&"Restaurants"===t.args,s="geoId"in t&&t.geoId||0,o="ShowTopic"===i&&t.topicId||0,l="ShowTopic"===i&&t.forumId||0,u="Articles"===i&&t.forumPostId||"",d="Trips"===i&&t.tripId||"",[{data:c}]=A({query:ec,variables:{geoId:s},pause:s<=0}),p=c?.locations?.[0]?.parents||[],h=e=>e.includes(s)||p.filter(r=>r?.locationId&&e.includes(r?.locationId)).length>0,v=h([294473]),f=h([294459,294447]);if("ru-RU"===r||eh.includes(i)&&v||f||"ShowTopic"===i&&4===s&&11===l&&ev.includes(o)||"Articles"===i&&eg.includes(u)||"Trips"===i&&eE.includes(d)||i===eR&&n===ep&&ef.includes(s)||i===eR&&n===ep&&60922===s&&"horizon"===e||"TravelersChoice"===i&&a)return!0;var R="TravelersChoice"===i&&"args"in t&&null!=t.args&&""!==t.args,g=R&&"Hotels"===t.args,E=new Date,w=new Date("2023-06-20"),m=R&&"ThingsToDo"===t.args&&E>=w;return!!g||!!m}var em={__key:0xc3a4e867e97f,id:"c3a4e867e97f60a9",loc:{},definitions:[]},eT=(e,r)=>{var{campaignId:i,lineItemId:t}=r?.responseInformation||{};return 3===e&&i?{itemId:i.toString(),itemIdType:"ORDER_ID"}:4===e&&t?{itemId:t.toString(),itemIdType:"LINE_ITEM_ID"}:null},e_=(e,r)=>{var i=eT(e,r),[{data:t}]=A({query:em,variables:i||{itemId:"",itemIdType:"LINE_ITEM_ID"},pause:!i});return t?.AdContext_getCampaignAdRefresh?.[0]?.isAggressiveRefreshAllowed||!1};function eS({size:e,...r},{size:i,...t}){return L(r,t)&&L(e,i)}function eA(e){var r;try{r=new URL(e)}catch(e){return!1}return"http:"===r.protocol||"https:"===r.protocol}var eI=(e,r)=>"InlineNova"===e&&"HotelsFusion"===r,eO=e=>e&&parseInt(e,10)||null,eM=e=>null!==e&&+e&&+e>=0&&1>=+e?+e:null,eb=(e,r)=>{var{pageAdSlotSettings:i}=s(R),t=i?.[e];return u(()=>{var e=t?.settings||new Map,i=!!e.get("SLOTS_DISABLED"),n="30_SECOND_PER_SLOT_TIMER_REFRESH"===r&&eO(e.get("REFRESH_TIMER"))||null,a=eO(e.get("REFRESH_FREQUENCY_CAP"))||null,s=e.get("REFRESH_TYPE")||null,o=e.get("AD_SIZE")||null,l=eM(e.get("DELAY_AD_CALL")||null),u={},d=e.get("CUSTOM_TARGETING");return d&&d.split(",").forEach(e=>{var[r,i]=e.split("=");u[r]=i}),{adSize:o,delayAdCall:l,refreshTimer:n,isSlotDisabled:i,customTargeting:u,refreshFrequencyCap:a,refreshTypeSettingsOverride:s}},[r,t])},ey={isRendered:!1,isVisible:!1,isLoaded:!1,isEmpty:!0},eL=[4817820165],eC=[2921629106,4927614172],eF=[74843771,444901451,4794168889,4892835024,4794593028,4858660766,439564931,4795944709,4817820165,4898205962],ex=["30_SECOND_PER_SLOT_TIMER_REFRESH","MANUAL_REFRESH_PROGRAMMATIC_ONLY"],eB=["disableAdRefresh"];function eN({size:e,position:r,aboveTheFold:i=!1,refreshType:t,manualRefreshTrigger:n,isAttractionsCoverPage:a=!1}){var c=o(0),[h,R]=l(null),g=o(null),S=p(e=>{R(e)},[]),A=o(0),{adSize:I,delayAdCall:O,refreshTimer:M,isSlotDisabled:y,customTargeting:L,refreshFrequencyCap:x,refreshTypeSettingsOverride:B}=X(r,t),N=`slot:${(I||e).replace(/\|/g,"-")}:${r}`,P=p(()=>{c.current+=1},[]),H=E(),D=s(v),k=u(()=>D?.getEnhancedSlot(N),[D,N]),z=function(e,r,i,t){var{page:n}=T(),a=f(),o=s($),l=function(e,r){var{userAgentCategory:i,isWebview:t}=_();if("MOBILE"===i){if(e.includes("8x8"))return t?"app_external":"web_external";if("adhesion"===r)return"adhesion"}return null}(e,r),d=e.includes("5x1")&&r.startsWith("inline")?"inlineHorizon":e.includes("5x1")||"horizon"===r?"horizon":e.includes("728x90")||e.includes("970x250")?"banner":"300x250"===e&&r.startsWith("rail")?"shortRail":r.startsWith("rail")?"rail":e.includes("10x1")?"inlineVideoPlayer":null;return u(()=>{if(!a)return null;var{adBase:e,ppid:s,premium_category:u,cover:c,...p}=a,h=K(u,r);return{...p,...l&&{mob_adslot:l},pos:r,...o,...d&&{fluidType:d},...i&&c&&{cover:c},adBase:e,ppid:s,ta_page_name:n,...h&&{inventory_type:h},...t}},[a,r,l,o,d,i,n,t])}(e,r,a,L),W=null!==z,[V,j]=l(ey),{isRendered:U,isVisible:q}=V,[Q,Y]=l(!1),G=ew(r)||y,Z=o(!1),ee=w(),er=m(),{isAggressiveAdRefreshTest:ei,aggressiveAdRefreshVariant:et}=b(),en=2===et,ea=5===et,es=J(et,k),eo=ei||es,el=p(e=>{Z.current=e},[]);!function({id:e,refreshType:r,refreshTimer:i,isReady:t=!1,isRendered:n=!1,isVisible:a=!1,disableRefresh:c=!1,manualRefreshTrigger:p="",isDelayedRefreshTest:h=!1,isImpressionViewableRefreshTest:f,isImpressionViewable:R,setIsImpressionViewable:g,incrementRefreshCounter:E,refreshFrequencyCap:w}){!function({id:e,refreshTimer:r,isReady:i=!1,isRendered:t=!1,isVisible:n=!1,disableRefresh:a=!1,isDelayedRefreshTest:c=!1,isImpressionViewableRefreshTest:p=!1,isImpressionViewable:h=!1,setIsImpressionViewable:f=()=>null,incrementRefreshCounter:R,refreshFrequencyCap:g}){var E,w,m=s(v),T=o(!1);T.current=i&&t&&n;var[_,S]=l(!1),A=!a&&i&&t,I=(w=F(r||3e4,E=e,A),A&&(E=`timer:${w}`),E),O=u(()=>C(()=>{m&&!a&&(m.refreshSlot(e),g&&R(),p&&f&&f(!1))},3e4),[m,a,e,g,p,f,R]);d(()=>{I!==e&&I!==`timer:${e}`&&S(!0)},[e,I]),d(()=>{if(!a&&T.current&&_&&n){if(c){var e=setTimeout(()=>{O(),S(!1)},3e3);return()=>{clearTimeout(e)}}if(p){h&&(O(),S(!1));return}O(),S(!1)}},[O,a,n,T,_,e,c,p,h])}({id:e,isReady:t,isRendered:n,isVisible:a,refreshTimer:i,disableRefresh:c||"30_SECOND_PER_SLOT_TIMER_REFRESH"!==r,isDelayedRefreshTest:h,isImpressionViewableRefreshTest:f,isImpressionViewable:R,setIsImpressionViewable:g,incrementRefreshCounter:E,refreshFrequencyCap:w}),function({id:e,isReady:r=!1,isRendered:i=!1,isVisible:t=!1,disableRefresh:n=!1,manualRefreshTrigger:a=""}){var l=s(v),u=o(!1);u.current=r&&i&&t,d(()=>{!n&&u.current&&l&&l.refreshSlot(e)},[l,n,a,u,e])}({id:e,isReady:t,isRendered:n,isVisible:a,disableRefresh:c||"MANUAL_REFRESH_PROGRAMMATIC_ONLY"!==r,manualRefreshTrigger:p})}({id:N,isReady:W,isRendered:U,isVisible:q,disableRefresh:Q,refreshType:t,refreshTimer:M,incrementRefreshCounter:P,refreshFrequencyCap:x,manualRefreshTrigger:n,isDelayedRefreshTest:en,isImpressionViewableRefreshTest:ea,isImpressionViewable:Z.current,setIsImpressionViewable:el});var eu=p(e=>!!k&&!!k.responseInformation&&!!k.responseInformation.advertiserId&&e.includes(k?.responseInformation?.advertiserId),[k]),ed=p(e=>{g.current&&g.current.contentWindow&&g.current.contentWindow.postMessage(e,H)},[H]),ec=p(()=>null!=x&&c.current>=x||"both"!==B&&("programmatic_inventory"===B?!eu(eF):"direct_inventory"===B?eu(eF):"no_inventory"===B||!eu(eF)),[eu,x,B]);return d(()=>{if(h){g.current=h.querySelector("iframe");var e=e=>{e.data&&"object"==typeof e.data&&eB.includes(e.data.cpmMessageType)&&(e.source===g.current?.contentWindow||e.data.adPos===r)&&"disableAdRefresh"===e.data.cpmMessageType&&Y(!0)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}},[U,h,r]),d(()=>{if(!G&&h&&W&&D&&z){var n=O?`${window.innerHeight*O}px`:null,{addEventListener:a}=D.createSlot({id:N,elem:h,size:e,position:r,targeting:z,overrideRenderMargin:n,aboveTheFold:i});ee("CREATED",r);var s=a((e,i)=>{switch(i){case"slotRefreshStart":A.current=Date.now(),er("REFRESHED",r);break;case"slotRenderEnded":case"forcedEmpty":er("POPULATED",r,e.isEmpty,0!==A.current?Date.now()-A.current:null),A.current=0;break;case"impressionViewable":el(!0)}j(r=>({...r,...e})),"slotRenderEnded"===i&&Y(ex.includes(t)&&!eo&&ec())});return()=>{D.destroySlot(N),j(ey),s()}}},[N,D,h,e,r,t,z,i,W,G,er,ee,eu,eo,el,c,ec,O]),{ref:S,id:N,postMessage:ed,isTeadsVideo:(r.startsWith("inline1")||r.startsWith("inline2"))&&eu(eL),isNovaPlacement:r.endsWith("Nova")&&eu(eC),isDisabled:G,...V}}function eP(e){var{setTargeting:r}=s(g),i=Z(()=>e,[e]);d(()=>(r(i),()=>r({})),[i,r])}var eH={wrapper:"sIMCQ s l Z1",empty:"ZnRZB",adhesion:"KTfgb M0 j",closeButton:"LRBWu B0 Q Rb c H0"},eD="adhesion",ek="WP.adhesionDismissed",ez=({children:e=null})=>{var{localize:r}=O(),a=M(),{ref:s,id:o,isEmpty:u,isDisabled:c}=eN({size:"320x50",position:eD,aboveTheFold:!0,refreshType:"NO_REFRESH"}),[h,v]=l(!1);d(()=>{v(!B.get(ek))},[]);var f=p(()=>{B.set(ek,!0),v(!1)},[]);return c||"MOBILE"!==a?null:t(n,{children:[h&&t("div",{className:x(eH.wrapper,{[eH.empty]:u}),children:[i("div",{className:eH.closeButton,children:i(N,{size:"small",onClick:f,icon:P,"aria-label":r.string("common_Close")})}),i("div",{id:o,ref:s,className:eH.adhesion})]}),(!h||u)&&e]})},eW=e=>i(G,{position:eD,children:i(ez,{...e})}),eV={ad:"Eufjb j u",empty:"ChFsW Xd o S",centeredSlotOnSafari:"vkMGA",withTopBorder:"haLff",withTopBorderAndReducedMargin:"uxZln",backgroundedAd:"iTxsl _T o",footerAdContainer:"oTksw",withPadding:"ybMcV",withMargin:"hGMmw",withMargin4:"EFdEd",withMargin5:"QNkll",withMargin6:"FBsgp",withMarginBottom:"jMoTU",withMarginBottom4:"ETrfw",withMarginTop4:"hjTZt",withPaddingBottom:"AWyOK",hide:"RbzPP"},ej=({size:e="300x250|300x600|160x600",position:r="rail1",isSticky:t=!0,margin:n=!1,isAttractionsCoverPage:a=!1})=>{var s=M(),{isStickyHorizonAdEnabled:o}=y(),[u,c]=l(!1);d(()=>{c(D())},[]);var{ref:p,id:h,isEmpty:v,isDisabled:f}=eN({size:e,position:r,refreshType:"30_SECOND_PER_SLOT_TIMER_REFRESH",isAttractionsCoverPage:a});return f||"MOBILE"===s?null:i("div",{id:h,className:x(eV.ad,"YcOBw",{[eV.empty]:v,mFLzV:n,E:t,gGJkl:o&&u}),ref:p})},eU=({position:e="rail1",...r})=>i(G,{position:e,children:i(H,{position:e,children:i(ej,{position:e,...r})})}),eq=(e,r,t,n)=>{switch(e){case"header":case"inline1":case"inline3":case"inline5":return t?i(z,{data:t,viewportOverride:n}):i(W,{viewportOverride:n});case"inline2":return i(W,{viewportOverride:n});case"inline4":return r?i(j,{viewportOverride:n}):i(q,{viewportOverride:n});case"inline6":return i(U,{viewportOverride:n});case"InlineNova":return i(j,{viewportOverride:n});case"footer":return i(V,{});default:return i(W,{})}},eQ=(e,r,t,n)=>{switch(e){case"header":case"inline1":case"inline3":return t?i(z,{data:t,viewportOverride:n}):i(Q,{viewportOverride:n});case"inline2":return r?i(j,{viewportOverride:n}):i(q,{viewportOverride:n});case"inline4":return i(U,{viewportOverride:n});case"inline5":return i(j,{viewportOverride:n});case"inline6":return i(Q,{viewportOverride:n});case"InlineNova":return i(V,{viewportOverride:n});case"footer":return i(Y,{});default:return i(Q,{})}},eY=["VacationRentals","VRACSearch","Search"],eG=({position:e,locale:r,page:i,viewportOverride:t})=>{var n=eI(e,i),a="header"!==e&&"inline1"!==e&&"inline3"!==e&&"inline5"!==e||n,s=eY.includes(i),{randomSponsorshipCampaign:o,fetching:l}=k(a);if(n||l||void 0===o)return null;var u=o?.photo?o:null;return"en-US"===r?eq(e,s,u,t):eQ(e,s,u,t)},eZ={mobile:"300x250|8x8",tablet:"728x90",desktop:"728x90"},e$=["Trips","ShowTopic","ShowForum"],eK=(e,r)=>{if(r)return"withMargin";switch(e){case"Cruises":case"AttractionsNear":case"Restaurant_Review":case"Hotel_Review":return"withMarginBottom";case"Hotels":case"Restaurants":case"ShowUserReviews":return"withMargin";case"AttractionsFusion":case"Attraction_Review":return"withMargin5";case"Collections":return"withMargin6";default:return null}},eJ=({size:{mobile:e=eZ.mobile,tablet:r=eZ.tablet,desktop:n=eZ.desktop}=eZ,position:a="inline1",topDivider:s=null,bottomDivider:o=null,marginFromPage:l=!0,disableFallback:d=!1,viewportOverride:c,isAttractionsCoverPage:p=!1,isExpandedCommerceHR:h=!1})=>{var v=M(),f=T(),R=I(),g={MOBILE:e,TABLET:r,DESKTOP:n}[v],{ref:E,id:w,isEmpty:m,isRendered:_,isDisabled:S}=eN({size:g||"",position:a,refreshType:"30_SECOND_PER_SLOT_TIMER_REFRESH",isAttractionsCoverPage:p}),A=u(()=>l?eK(f.page,h):"",[f.page,l,h]),O=_&&m&&!e$.includes(f.page);return S||!g?null:t("div",{className:x({[eV[A]]:(!m||O)&&A,[eV.hide]:O&&d}),children:[O&&i(ei,{viewportOverride:c,position:a,locale:R,page:f.page}),!m&&s,i("div",{id:w,ref:E,className:x(eV.ad,{[eV.empty]:m})}),!m&&o]})},eX=({position:e="inline1",...r})=>i(G,{position:e,children:i(H,{position:e,children:i(eJ,{position:e,...r})})}),e1="footer",e0=["Hotels","Tourism","Restaurants","HotelsNear","HotelsList","LastMinute","SmartDeals","Restaurant_Review","HotelsFusion"],e2=["ForumHome","Hotel_Review","ShowUserReviews","CheapFlightsHome","Attraction_Review","AttractionsFusion","VacationRentalReview","AttractionProductReview","AttractionProductsFusion"],e8={mobile:"300x250|8x8",tablet:"728x90",desktop:"970x250|728x90"},e3=e=>{switch(e){case"VRACSearch":case"AttractionsNear":return"withMarginTop4";case"Cruises":case"RentalCars":case"RentalCarsGeo":case"VacationRentals":case"RentalCarsAirport":return"withPadding";default:return""}},e7=({size:{mobile:e=e8.mobile,tablet:r=e8.tablet,desktop:n=e8.desktop}=e8,topDivider:a=null,bottomDivider:s=null,additionalWrapperClass:o,isAttractionsCoverPage:l=!1})=>{var d=M(),{page:c,params:p}=T(),h={MOBILE:e,TABLET:r,DESKTOP:n}[d],v=I(),{ref:f,id:R,isEmpty:g,isRendered:E,isDisabled:w}=eN({size:h||"",position:e1,refreshType:"30_SECOND_PER_SLOT_TIMER_REFRESH",isAttractionsCoverPage:l}),m="TravelersChoice"===c&&"args"in p&&p.args,_=u(()=>e3(c),[c]);return w||!h?null:t("div",{className:x(eV.footerAdContainer,{[eV[_]]:_,[eV.withMargin4]:e0.includes(c),[eV.withMarginBottom4]:e2.includes(c)||m}),children:[!g&&a,E&&g&&i(ei,{position:e1,locale:v,page:c}),i("div",{id:R,ref:f,className:x(eV.ad,{[eV.empty]:g,[eV[o]]:o,[eV.centeredSlotOnSafari]:!g&&"AttractionsFusion"===c})}),!g&&s]})},e4=e=>i(G,{position:e1,children:i(e7,{...e})}),e9={fixWidth:"w",fixedHeight:"vJSwn f e u j"},e5="header",e6={mobile:null,tablet:"728x90",desktop:"728x90|970x66"},re=({reserveHeight:e=!0,size:{mobile:r=e6.mobile,tablet:n=e6.tablet,desktop:a=e6.desktop}=e6,additionalWrapperClass:s})=>{var o=M(),l=T(),u=I(),d={MOBILE:r,TABLET:n,DESKTOP:a}[o],{ref:c,id:p,isRendered:h,isEmpty:v,isDisabled:f}=eN({size:d||"",position:e5,refreshType:"30_SECOND_PER_SLOT_TIMER_REFRESH",aboveTheFold:!0}),R=h&&v;return f?null:d?t("div",{className:x({[e9.fixedHeight]:e&&!R},s&&eV[s]),children:[R&&i(ei,{position:e5,locale:u,page:l.page}),i("div",{id:p,ref:c,className:x(eV.ad,e9.fixWidth,{[eV.empty]:h&&v})})]}):null},rr=e=>i(G,{position:e5,children:i(re,{...e})});return e({isUrlValid:eA,useAd:eN,useAdsDisabled:ew,usePageTargeting:eP}),[()=>{G=es,Z=eo,$=c({}),K=ed,J=e_,X=eb,ee=eW,er=h(eU),ei=eG,et=h(eX,eS),en=h(e4,eS),ea=h(rr,eS),e({AdErrorBoundary:G,AdTargetingProvider:el,Adhesion:ee,FallbackSelector:ei,FooterAd:en,HeaderAd:ea,InlineAd:et,RailAd:er,TRIP_CARD_INDEX_BEFORE_THE_AD:2,isUrlValid:eA,useAd:eN,useAdsDisabled:ew,usePageTargeting:eP})},[e=>(i=e.jsx,t=e.jsxs,n=e.Fragment),e=>a=e.ErrorBoundary,e=>(s=e.useContext,o=e.useRef,l=e.useState,u=e.useMemo,d=e.useEffect,c=e.createContext,p=e.useCallback,h=e.memo),e=>(v=e.AdServer,f=e.usePageTargeting,R=e.PageAdSlotSettings,g=e.PageTargeting),e=>E=e.useDomainName,e=>(w=e.useLogAdSlotEventOnlyOnce,m=e.useLogAdSlotEvent),e=>T=e.useRoute,e=>_=e.useUserAgent,e=>S=e.default,e=>A=e.useQuery,e=>(I=e.useLocale,O=e.useLocalize),e=>M=e.useViewportCategory,e=>(b=e.useAggressiveAdRefreshTest,y=e.useStickyHorizonAd),e=>L=e.shallowEquals,e=>C=e.default,e=>F=e.useInterval,e=>x=e.default,e=>B=e.default,e=>N=e.CircularButton,e=>P=e.default,e=>H=e.default,e=>D=e.allowStickingAgain,e=>(k=e.useRandomSponsorshipCampaign,z=e.ContentWidget),e=>(W=e.ArticlesLanderBackfill,V=e.ExperiencesBackfill,j=e.HotelsBackfill,U=e.DestinationsBackfill,q=e.TripsBackfill,Q=e.PhoenixBackfill,Y=e.HelpCenterBackfill)]]},["21h32l","83pm0d","o4yt4q","iog21h","qlcuu5","tbkd43","fgwvq1","nnprhg","b5nukb","mqwhqn","7thqz4","ys6v1o","nexzid","t05m6z","dsbyen","j8mzb2","fkji80","9b9b10","jppfwt","qkjm8h","8urr9n","60mj7v","ubyuk3","a3v7hk"]]);
