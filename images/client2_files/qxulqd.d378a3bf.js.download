(this.$WP=this.$WP||[]).push(["qxulqd",(e,i)=>{var a,r,t,l,s,n,o,c,d,h,_,u,p,m,f,v,N,S,g,C,k,I,b,T,y,O,w,P,R,L,A,E,D,M,x,F,U,$,j,H,z,q,V,K,W,B,X,Y,G,Q,Z,J,ee,ei,ea,er,et,el,es,en,eo,ec,ed,eh,e_,eu,ep,em,ef,ev,eN,eS,eg,eC,ek,eI,eb={header_wrap:"AEpDz f k O",subtitle:"aDocA",see_all:"Unenw",ui_continue_search_header_h2:"XHXbd"},eT=e=>{var i,{localize:t}=O(),{title:l,subtitle:s,url:n,onClick:o,geoShelfHeader:c,geoShelfSeeAll:d,clusterId:h}=e;return(i=h?"ui_cluster_shelf_header_h2":""!==c?eb.ui_continue_search_header_h2:"",n)?a("div",{className:""===c?eb.header_wrap:c,children:[a("div",{children:[r(R,{href:n,className:`ui_link ui_header h2 ${i}`,onClick:o,children:l}),s?r(R,{href:n,className:`ui_link ${eb.subtitle}`,onClick:o,children:s}):""]}),a(R,{href:n,className:`ui_link ${""===d?eb.see_all:d}`,onClick:o,children:[t("social_see_more")," "]})]}):r("div",{className:""===c?eb.header_wrap:c,children:r("span",{className:`ui_header h2 ${i}`,children:l})})},ey={section:"mmanJ z u",title:"yfAVz o b q W",icon:"fPIDh Ne Rc I j u",wrap:"o",text:"SBGMj"},eO=({title:e,result:i,shelfKey:l})=>{var s,{filterCount:n,fromDate:o,toDate:c,route:d}=i,{localize:h}=O(),_=w(),u=e=>{var i=e.split("-");return new Date(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2],10))};return c&&o&&(s=h("date_range_medium_month_to_day_of_month",{sDateStart:_.formatDate("date_medium_month",u(o)),nDayEnd:_.formatDate("date_medium_month",u(c))})),r(E,{useSpan:!0,module:"Search_Results",action:"Search_Results_Selection",context:`${l} | card`,children:r(f,{children:i=>a(R,{href:d?.url,className:m("ui_link",ey.section),onClick:e=>{i(e,"feedClick")},children:[r(A,{name:"search",className:ey.icon}),a("span",{className:ey.wrap,children:[r("span",{className:ey.title,children:e}),null!=s&&r("span",{className:ey.text,children:s}),!!n&&a(t,{children:[null!=s&&r("span",{className:ey.text,children:"\xa0\xb7\xa0"}),r("span",{className:ey.text,children:h("social_category_search_num_filters",{0:n})})]})]})]})})})},ew=({trip:e,className:i,children:a})=>r(f,{children:t=>r(F,{tripModalDescriptor:{isUser:x(e),href:e.route?.url,navigator:{id:e.id,title:e.title}},onClick:i=>{e.registerClick&&e.registerClick(),t(i,"feedClick"),i.stopPropagation()},className:i,children:a})}),eP={name_and_avatar:"JrLlC f J u",avatar_container:"DjKIb",text_wrap:"o",display_name_wrapper:"nRjAe S2 H2 q o W",display_name:"lYqBU b",verified:"BTXXx",sponsored:"NETMS S2 H2"},eR=({logInteraction:e,userProfile:i})=>r("div",{className:eP.avatar_container,children:r($,{photo:i?.avatar,display:"inline",target:"_self",href:i?.route?.url,withBorder:!0,onClick:a=>e(a,"userClick",{userId:i?.userId}),size:"default"})}),eL=({logInteraction:e,userProfile:i})=>{var{localize:t}=O();return a("div",{className:eP.display_name_wrapper,children:[t("ugc_by_username_v2")," ",r(R,{className:m("ui_link",eP.display_name,{[eP.verified]:i?.isVerified}),href:i?.route?.url,onClick:a=>e(a,"userClick",{userId:i?.userId}),children:i?.displayName})]})},eA=({userProfile:e,isSponsored:i})=>{var{localize:t}=O();return i?r(f,{children:i=>a("div",{className:eP.name_and_avatar,children:[r(eR,{logInteraction:i,userProfile:e}),a("div",{className:eP.text_wrap,children:[r(eL,{logInteraction:i,userProfile:e}),r("div",{className:eP.sponsored,children:r("span",{dangerouslySetInnerHTML:{__html:t.string("discovery_sponsored_label")}})})]})]})}):r(f,{children:i=>a("div",{className:eP.name_and_avatar,children:[r(eR,{logInteraction:i,userProfile:e}),a("div",{className:eP.text_wrap,children:[r(eL,{logInteraction:i,userProfile:e}),r(U,{profile:e,isSingleLine:!0,hideHometown:!0,noBold:!0})]})]})})},eE={trip_section:"rpghC e k",trip_photo_container:"RcVFt _T",placeholder:"UwgeF",trip_details_container:"zlkSl",trip_title_container:"aubeU b o _T",tagged_pois_container:"NeTqs o q W b",tagged_pois:"vOfaP",tagged_pois_featured:"cBEex"},eD=e=>({page:"Trips",tripId:e?.id,tripTitle:e?.status==="PUBLIC"?e?.title:void 0}),eM=e=>{var i=e?.photo?.photoSizes,a="100%";return i?r(D,{sources:i,width:a,height:"150px"}):r("div",{className:eE.placeholder,style:{width:a,height:150},children:r(A,{name:"suitcase"})})},ex=({trip:e,isSponsored:i})=>{var{localize:l}=O();return r("div",{className:`ui_card ${eE.trip_section}`,children:r(f,{children:s=>a(t,{children:[a("div",{children:[r("div",{className:eE.trip_photo_container,children:r(el,{trip:e,children:eM(e)})}),a("div",{className:eE.trip_details_container,children:[r(el,{trip:e,children:r("div",{className:eE.trip_title_container,children:r(M,{text:e?.title,max:50})})}),e?.orderedLocations?.length>2&&r(R,{to:eD(e),onClick:i=>{e.registerClick&&e.registerClick(),s(i,"feedClick")},className:m("ui_link",eE.tagged_pois_container),children:r("span",{className:eE.tagged_pois,children:r("span",{dangerouslySetInnerHTML:{__html:l.string("trips_home_featuring_count_v3",{0:eE.tagged_pois_featured,1:e?.orderedLocations?.length||""})}})})})]})]}),r(es,{userProfile:e.owner,isSponsored:i})]})})})},eF={photo:"MDrxw w _S",photo_wrap:"cMTLO"},eU=({location:e,geoShelfPhotoClassName:i})=>r("div",{className:eF.photo_wrap,children:r("div",{className:""!==i?i:eF.photo,children:r(D,{dynamicSource:e.thumbnail.photoSizeDynamic,sources:e.thumbnail.photoSizes,width:"100%",height:"100%",borderRadius:"2px"})})}),e$={shelfForPhoto:"IMbzr _S",section:"knQWr _T",subheader:"jdVCt",truncate:"VUkSo",name:"oXemb",save_to_trip_cta:"mpWSp",heart:"QRLHg"},ej=e=>{var{location:i}=e,t=i&&i.thumbnail&&i.thumbnail,l=i&&i.route&&i.route.url&&i.route.url,s=i&&i.displayPrice&&null!==i.displayPrice&&i.displayPrice;return r(f,{children:e=>a("div",{className:e$.section,children:[r("div",{className:m(e$.save_to_trip_cta,e$.heart),children:r(K,{object:i,children:(a,t)=>r(V,{active:t,bookmarkStyle:"stacked",onClick:r=>{e(r,"save",{locationId:i.id}),a()}})})}),r(H,{encodedUrl:l,className:"ui_poi_thumbnail",useSpan:!1,onClick:i=>e(i,"feedClick"),children:t?r(eo,{location:i,geoShelfPhotoClassName:e$.shelfForPhoto}):a("span",{className:e$.shelfForPhoto,children:[" ",r(z,{location:i})]})}),r(H,{encodedUrl:l,useSpan:!1,className:"item poi_name ui_link",onClick:i=>e(i,"feedClick"),children:r("span",{className:e$.name,children:i.name})}),i.reviewSummary&&0!==i.reviewSummary.count&&r(H,{encodedUrl:l,useSpan:!1,onClick:i=>e(i,"feedClick"),children:r("span",{className:"ui_shelf_poi_bubble_rating",children:r(j,{numReviews:i.reviewSummary.count,rating:i.reviewSummary.rating,fontSize:12})})}),s?r(S,{offer:s,locationUrl:l}):i.parent&&i.parent.name&&r("div",{className:`${e$.subheader} ${e$.truncate}`,children:i.parent.name})]})})},eH={shelfForPhoto:"xdpMv _S",section:"sfHVn _T",name:"NtOSV",photo_wrap:"unCiv",no_photo_available:"tkzlu _T",icon:"yyEor"},ez=e=>{var{cruiseSearchInfo:i}=e,t=i.thumbnail,l=i&&i.route&&i.route.url?i.route.url:"#";return r(f,{children:e=>a("div",{className:eH.section,children:[r(R,{href:l,className:"ui_poi_thumbnail",onClick:i=>e(i,"feedClick"),children:t?r("div",{className:eH.photo_wrap,children:r("div",{className:eH.shelfForPhoto,children:r(D,{sources:i.thumbnail.photoSizes,width:"100%",height:"100%",borderRadius:"2px"})})}):a("span",{className:eH.shelfForPhoto,children:[" ",r("div",{className:eH.no_photo_available,children:r(A,{name:"cruises",className:eH.icon})})]})}),r(R,{href:l,className:"item poi_name ui_link",onClick:i=>e(i,"feedClick"),children:r("span",{className:eH.name,children:i.locationName})}),r(R,{href:l,onClick:i=>e(i,"feedClick")})]})})},eq=e=>{var{filterItem:i}=e,{url:t,thumbnail:l,title:s,count:n}=i,{localize:o}=O(),c=w();return r(f,{children:e=>a("div",{children:[r(R,{href:t,onClick:i=>e(i,"feedClick"),className:"ui_poi_thumbnail",children:r("div",{className:"vmLOL",children:r(D,{sources:l.photoSizes,width:"100%",height:"100%"})})}),r(R,{href:t,className:"item poi_name ui_link pgTmz S4 H3 Pd b _R o W",onClick:i=>e(i,"feedClick"),children:r("span",{className:"aJigw",children:o("hotels.type_and_count",{0:s,1:c.formatNumber("integer",n)})})})]})})},eV={shelfForPhoto:"LZNuh _S",section:"NyGCs _T",name:"YVSJx",price:"gVUOl",photo_wrap:"BoFzX",no_photo_available:"mviMp _T",icon:"yxqrx"},eK={shelfForPhoto:"vLcEU _S",section:"cKoVz _T",name:"BEjXp",price:"pqpak",note:"wgZDK",photoWrap:"kFwtI"},eW=e=>r("div",{className:eK.photoWrap,children:r("div",{className:eK.shelfForPhoto,children:r(D,{sources:e,width:"100%",height:"100%",borderRadius:"2px"})})}),eB=(e,i,a)=>e?r(R,{href:e,className:"ui_poi_thumbnail",onClick:e=>a(e,"feedClick"),children:eW(i)}):r("div",{className:"ui_poi_thumbnail",children:eW(i)}),eX=(e,i)=>a(t,{children:[!i.scoped&&r("span",{className:`${eK.name}`,children:i.location.name}),i.rentalCarsShelfPrice&&r("span",{className:`${i.scoped?eK.name:eK.price}`,children:r(y,{id:"rental_car_rate_card_pricing",args:{currencyFare:e}})}),i.scoped&&r("span",{className:`${eK.note}`,children:i.rentalCarType})]}),eY=(e,i,a,t)=>e?r(R,{href:e,className:"item poi_name ui_link",onClick:e=>t(e,"feedClick"),children:eX(i,a)}):r("div",{className:"item poi_name ui_link",children:eX(i,a)}),eG=({post:e,isSponsored:i})=>{if(!e)return null;var l={id:e.preview.id,title:e.preview.title,description:e.preview.description,url:e.preview.canonicalUrl,urlDomain:e.preview.urlDomain,imgSource:e.preview.media&&e.preview.media[0]?e.preview.media[0].photoSizes:void 0};return r("div",{className:"ui_card UtvBo _Z f e k",children:r(f,{children:s=>a(t,{children:[r(W,{linkPreviewState:l,isClickable:!0,onClick:e=>s(e,"feedClick"),border:!1,matchingShelfItem:!0}),r(es,{userProfile:e.userProfile,isSponsored:i})]})})})},eQ={shelfForPhoto:"wwPFQ _S",section:"oAMsU _T",subheader:"ONUxU",snippet:"zmPvv",hit:"HAofv",name:"bvePL",save_to_trip_cta:"YtaMJ",heart:"YMvOJ"},eZ=e=>(e&&e.url,e?.route?.url||e?.url),eJ=e=>(e||"").replace(/[&<>"'\n\u0086\u0087]|&#?[0-9a-zA-Z]+;/g,e=>em[e]||e),e0=e=>{var{location:i,title:l,defaultSnippet:s,comparisonRate:n}=e,o=i.thumbnail,c=eZ(i);return i.isGeo?r(f,{children:e=>a("div",{className:`ui_shelf_item_container ui_geo_shelf_item ${eQ.section} `,children:[r(R,{href:c,onClick:i=>e(i,"feedClick"),className:"ui_poi_thumbnail",children:o?r(eo,{location:i,geoShelfPhotoClassName:eQ.shelfForPhoto}):r("span",{className:eQ.shelfForPhoto,children:r(z,{location:i})})}),r(R,{href:c,className:"item poi_name ui_link",onClick:i=>e(i,"feedClick"),children:r("span",{className:eQ.name,children:i.name})})]})}):r(f,{children:e=>a("div",{className:eQ.section,children:[r("div",{className:m(eQ.save_to_trip_cta,eQ.heart),children:r(K,{object:i,children:(a,t)=>r(V,{active:t,bookmarkStyle:"stacked",onClick:r=>{e(r,"save",{locationId:i.id}),a()}})})}),r(R,{href:c,className:"ui_poi_thumbnail",onClick:i=>e(i,"feedClick"),children:o?r(eo,{location:i,geoShelfPhotoClassName:eQ.shelfForPhoto}):a("span",{className:eQ.shelfForPhoto,children:[" ",r(z,{location:i})]})}),r(R,{href:c,className:"item poi_name ui_link",onClick:i=>e(i,"feedClick"),children:r("span",{className:eQ.name,children:i.name})}),i.reviewSummary&&0!==i.reviewSummary.count&&"NEIGHBORHOOD_TIER_1"!==i.placeType&&r(R,{href:c,onClick:i=>e(i,"feedClick"),children:r("span",{className:"ui_shelf_poi_bubble_rating",children:r(j,{numReviews:i.reviewSummary.count,rating:i.reviewSummary.rating,fontSize:14})})}),"ACCOMMODATION"===i.placeType&&n?r(g,{offer:n,locationUrl:c}):a(t,{children:[l&&r("div",{className:eQ.subheader,children:r("span",{dangerouslySetInnerHTML:{__html:l}})}),s&&a(R,{className:`${eQ.snippet} ui_link`,href:s.url,onClick:i=>e(i,"linkedSnippetClick"),children:["“",r("span",{dangerouslySetInnerHTML:{__html:eJ(s.text)}}),"”"]})]})]})})},e1={section:"csSww w _Z R4",inner:"cdfho e k _Z",title:"TyUmk b MB",parent:"cpmwq",ui_icon:"OnoFl _T Wi",search_date:"tXYIK MB"},e2=e=>{switch(e){case"HOTEL":return"ACCOMMODATION";case"ATTRACTION":return"ATTRACTION";case"RESTAURANT":return"EATERY";case"ATTRACTION_PRODUCT":return"ACTIVITY";case"AIRPORT":return"AIRLINE";case"GEO":return"CITY";default:return null}},e4=e=>{var i,t,{result:l,title:s,shelfKey:n}=e,{url:o,locationType:c,searchTrackingData:d,route:h,searchDate:_,toDate:u,fromDate:p,filterCount:f,parent:v}=l,{localize:N}=O(),S=w(),g=e=>{var i=e.split("-");return new Date(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2],10))};if(_){var C=new Date().getTimezoneOffset(),k=Math.round((new Date().setHours(0,-1*C,0,0)-new Date(_))/864e5);i=0===k?N("social_category_search_today"):1===k?N("social_category_search_yesterday"):k<7?N("social_category_search_days_ago",{nDays:k}):N("social_category_search_weeks_ago",{0:Math.round(k/7)})}u&&p&&(t=N("date_range_medium_month_to_day_of_month",{sDateStart:S.formatDate("date_medium_month",g(p)),nDayEnd:S.formatDate("date_medium_month",g(u))}));var I=e2(c);return r(E,{searchRecordData:d,children:r(B,{module:"Search_Results",action:"Search_Results_Selection",context:`${n} | card`,value:d?.ordinal,sectionNumber:d?.sectionNumber,once:!1,useSpan:!0,children:r(R,{href:o||h&&h.url,children:r("div",{className:m(e1.section,"search-result-section"),children:a("div",{className:e1.inner,children:[a("div",{children:[i?a("div",{className:e1.search_date,children:[" ",i]}):null,r("div",{className:m(e1.title,"title"),children:s}),v?r("div",{className:m(e1.parent,"parent"),children:v}):null,t?a("div",{className:e1.search_date,children:[" ",t," "]}):null,f?a("div",{className:e1.search_date,children:[" ",N("social_category_search_num_filters",{0:f})," "]}):null]}),I&&r(q,{placeType:I,className:e1.ui_icon})]})})})})})},e3={tagged_pois_container:"CrUQk MC S2 H2 o q W b",tagged_pois:"kqojA",name_likes_container:"lWiOP k",display_name_container:"LjGUl",display_name:"QLyrn Nf S2 H2 b o W q",verified:"lhvrO"},e8=e=>{var i,l,{localize:s}=O(),{member:n,locations:o,taggedPoisLinkTo:c,onClick:d,page:h}=e;switch(h){case"Restaurants":case"MobileRestaurants":i="_blank",l=r("span",{dangerouslySetInnerHTML:{__html:s.string("Featuring_n_eateries_plural",{0:"bold",1:o?.length||""})}});break;case"Attractions":case"MobileAttractions":i="_blank",l=r("span",{dangerouslySetInnerHTML:{__html:s.string("trips_home_featuring_count_v2",{0:o?.length||""})}});break;default:i="_self",l=r("span",{dangerouslySetInnerHTML:{__html:s.string("trips_home_featuring_count_v2",{0:o?.length||""})}})}return a(t,{children:[o?.length>2&&r(R,{to:c,onClick:d,className:m("ui_link",e3.tagged_pois_container),target:i,children:r("span",{className:e3.tagged_pois,children:l})}),r("div",{className:e3.name_likes_container,children:r(f,{children:e=>r(R,{href:n?.route?.url,onClick:i=>e(i,"userClick",{userId:n?.id}),target:i,children:r("span",{className:e3.display_name_container,children:r("span",{className:m(e3.display_name,{[`${e3.verified} verified`]:n?.isVerified}),children:n?.displayName})})})})})]})},e6={trip_section:"LrtWC e",trip_photo_container:"XQCbP _T Ps",avatar:"xgmNO",placeholder:"SKXNL",trip_details_container:"Tlwhd",trip_title_container:"nvosU b o _T"},e5=e=>({page:"Trips",tripId:e?.id,tripTitle:e?.status==="PUBLIC"?e?.title:void 0}),e7=e=>{var i=e?.photo?.photoSizes,a="100%";return i?r(D,{sources:i,width:a,height:"150px"}):r("div",{className:e6.placeholder,style:{width:a,height:150},children:r(A,{name:"suitcase"})})},e9=({trip:e})=>{var i=r(X,{trip:e,avatarSize:"medium"}),t=n(()=>({itemId:e?.id}),[e]);return r(v.Provider,{value:t,children:a("div",{className:`ui_card ${e6.trip_section}`,children:[a("div",{className:e6.trip_photo_container,children:[r(el,{trip:e,children:e7(e)}),r("div",{className:e6.avatar,children:i})]}),a("div",{className:e6.trip_details_container,children:[r(el,{trip:e,children:r("div",{className:e6.trip_title_container,children:e?.title})}),r(f,{children:i=>r(eN,{member:e?.owner,locations:e?.orderedLocations,taggedPoisLinkTo:e5(e),onClick:e=>{i(e,"feedClick")}})})]})]})})},ie={item_container:"vuynu e k",video_wrap:"HxUbc w _S",section_wrap:"afstu w",poi_text:"MDLnA o q W",poi_text_featured:"WqWXE",duration:"zEKvK R4",caption:"ShhdZ o _S",inlineView:"ELKdG",video:"goxVj",modalView:"OuABz",header:"ZdOXA",video_mask:"sJUHc t l w"};function ii(e,i,a){return i in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}var ia=e=>r(L,{children:({route:{modal:i,...a},navigate:t})=>e.video.object&&r("div",{className:`${ie.item_container} ui_card`,children:r(ea,{navigate:t,route:a,isOpen:i&&i===`VideoShelf_${e.uniqueKey}_${e.video.object.id}`,...e})})}),ir=e=>{var i,{item:a,updateModalState:t,shelfKey:l,matchOtherItems:s}=e,{object:n,sponsorship:o}=a,c=o&&void 0!==o.userProfile;if(!n||!n.__typename)return null;var d="shelfKey";l&&(d=l);var h=n&&"ACCOMMODATION"===n.placeType&&n.detail&&n.detail.hotelOffers&&n.detail.hotelOffers.comparisonRate?n.detail.hotelOffers.comparisonRate:0;switch(n.__typename){case"LocationInformation":i=r(ef,{location:n,title:a.title,defaultSnippet:a.defaultSnippet,comparisonRate:h});break;case"CruiseInfoCruiseSearchInfo":i=r(ed,{cruiseSearchInfo:n});break;case"Trip":i=s?r(en,{trip:n,isSponsored:c}):r(eS,{trip:n});break;case"LinkPost":i=r(ep,{post:n,isSponsored:c});break;case"LocationFilterShelf":i=r(eh,{filterItem:n});break;case"Video":i=r(eC,{video:a,updateModalState:t,uniqueKey:d,isSponsored:c});break;case"TopDestShelfInfo":i=r(e_,{topDestShelfInfo:n});break;case"RentalCarsLeadOffer":i=r(eu,{rentalCarsLeadOffer:n});break;case"CategorySearch":i=a.title?r(et,{result:n,title:a.title,shelfKey:l||"SearchResultsShelf"}):null;break;case"SearchResult":i=a.title?r(ev,{result:n,title:a.title,shelfKey:l||"SearchResultsShelf"}):null;break;case"AttractionProductInformation":i=r(ec,{location:n});break;default:return console.error(`Unknown Social component: ${n.__typename}`),null}return a.id?r(v.Provider,{value:{itemId:a.id},children:i}):i},it={shelf:"dFCFp",cluster_shelf:"Ibhxm",carousel:"hZIWi _e _h",modalIsOpen:"VSwTM",cluster:"vriiE",relative:"_T",shelf_items:"khGcx",shelf_item:"lQHwf",srp_shelf_container:"SgBwY",shelf_items_for_cluster:"jxyqF",shelf_items_for_geo:"xNcRL",shelf_items_for_ugc:"gXkcf",header_wrap_for_geo:"dmNdG k O",see_all_for_geo:"BMsMR",cluster_sub_header:"WMeiY",continue_search_shelf:"mmffr Pg PN Pq PA",header_wrap_for_continue_search:"ymoxT",separated_cluster:"pNzdc"},il=e=>"LOCATION_LIST"===e||"LOCATION_FILTERS"===e||"ATTRACTION_PRODUCT_LIST"===e||"RENTAL_CARS"===e,is=e=>{var{type:i,clusterId:a}=e;return"LOCATION_LIST"===i||"LOCATION_FILTERS"===i||"VIDEOS"===i||"TRIPS"===i||"CRUISE_SEARCH_ITEM_LIST"===i||"FLIGHTS_DESTINATION_ITEM_LIST"===i||"RENTAL_CARS"===i||"MIXED_CURATED"===i||"DMO_SPONSORED"===i||"ATTRACTION_PRODUCT_LIST"===i?a?`${it.header_wrap_for_geo} ${it.cluster_sub_header}`:it.header_wrap_for_geo:"PICK_UP_WHERE_YOU_LEFT_OFF"===i?it.header_wrap_for_continue_search:""},io=e=>"LOCATION_LIST"===e||"LOCATION_FILTERS"===e||"VIDEOS"===e||"TRIPS"===e||"DMO_SPONSORED"===e||"CRUISE_SEARCH_ITEM_LIST"===e||"RENTAL_CARS"===e||"ATTRACTION_PRODUCT_LIST"===e?it.see_all_for_geo:"",ic=e=>!e||0===e.length,id=e=>e&&e.map(e=>e&&e.detail&&e.detail.hotelOffers&&e.detail.hotelOffers.comparisonRate&&e.detail.hotelOffers.comparisonRate>0).some(e=>0!==e),ih=e=>{var i,[t,l]=_(!1),[s,n]=_(!1),[o,c]=u(C),[d,h]=_(!1),{shelf:S,locationOffers:g}=e,y=S&&S.id,O=y?Number(y.split("_")[1]):-1;p(()=>{"number"==typeof o&&O<=o&&id(g)?(c(O),h(!0)):h(!1)},[O,o,c,h,g]);var w=(i,a)=>{var{object:t}=i;if(!t)return null;var l=`${t.id}:${a}`;return r("div",{className:m("ui_column","is-3",it.shelf_item),children:r(ek,{item:i,updateModalState:n,shelfKey:e.shelfKey})},l)},P=(i,a,t,l)=>{var s,o,{object:c}=i;if(!c)return null;"Video"===c.__typename||"LinkPost"===c.__typename?(s=c.id,o="is-4 is-6-desktop is-8-mobile"):"SearchResult"===c.__typename?(s=c.id,o="is-3 is-3-desktop is-4-tablet"):"Trip"===c.__typename?(s=c.id,o="is-6-desktop"):"CategorySearch"===c.__typename?(s=c.id,o="is-6"):(s=c.locationId||c.route?.url||c.url||c.name,o="is-4");var d=i.id?i.id:s,h=`${s}:${l}`;return("MIXED_CURATED"===S.type||"DMO_SPONSORED"===S.type)&&i.object&&!("Trip"===i.object.__typename||"LinkPost"===i.object.__typename||"Video"===i.object.__typename)?null:r("div",{ref:a(h),className:m("ui_column",o,it.shelf_item),children:r(v.Provider,{value:{itemId:d},children:r(ek,{item:i,member:t,updateModalState:n,shelfKey:e.shelfKey,matchOtherItems:"MIXED_CURATED"===S.type||"DMO_SPONSORED"===S.type})})},h)},{member:R,sponsorship:L}=e,{items:A}=S,E=(A||[]).filter(e=>!!(e&&e.object)).slice(0,e.maxShelfItems),D=g?g.reduce((e,i)=>(e[i.detail.locationId]=i,e),{}):{};if(E&&g&&(E=E.map(e=>{if(e&&e.object&&e.object.locationId){var i=D[e.object.locationId];if(i){var{object:a,...r}=e;return{...r,object:{detail:i.detail,...a}}}}return e})).sort((e,i)=>{var a=e?.object?.detail?.hotelOffers?.comparisonRate===0,r=i?.object?.detail?.hotelOffers?.comparisonRate===0;if(a&&r);else if(a)return 1;else if(r)return -1;return 0}),il(S.type)&&ic(S.title))return console.error(`Shelf missing title, shelfId: ${S.id}, shelfType: ${S.type||""}`),null;i=S.clusterId?it.shelf_items_for_cluster:"LOCATION_LIST"===S.type||"LOCATION_FILTERS"===S.type||"CRUISE_SEARCH_ITEM_LIST"===S.type||"FLIGHTS_DESTINATION_ITEM_LIST"===S.type||"RENTAL_CARS"===S.type||"ATTRACTION_PRODUCT_LIST"===S.type?it.shelf_items_for_geo:"VIDEOS"===S.type||"TRIPS"===S.type?it.shelf_items_for_ugc:it.shelf_items;var M={right:{top:-24},left:{top:-24}},x={left:0,top:0,bottom:0,right:100};"SRP_QUERY_PARSER_SHELF"===S.type&&(M={right:{left:24},left:{left:-24}},x={left:100,top:0,bottom:0,right:100});var F=`${it.shelf} ui_card`;return S.clusterId&&(F=it.cluster_shelf),S&&S.uxHints&&S.uxHints.includes("SEPARATED_CLUSTER")&&(F=it.separated_cluster),"PICK_UP_WHERE_YOU_LEFT_OFF"===S.type&&(F=m("ui_card",it.continue_search_shelf,it.shelf)),r(f,{children:n=>a("div",{className:F,children:[r(T,{section:S}),L&&"DMO_SPONSORED"!==S.type&&r(b,{sponsorship:L}),r(er,{title:S.title,subtitle:S.subtitle,url:S.url,geoShelfHeader:is(S),geoShelfSeeAll:io(S.type),onClick:e=>n(e,"seeAll"),clusterId:S.clusterId}),"QueryParserShelf"===e.shelfKey?r("div",{className:m("ui_columns","is-multiline",it.srp_shelf_container),children:E.map((e,i)=>w(e,i))}):a("div",{className:m("ui_container",it.relative,i),children:[r(N.Consumer,{children:e=>r(I,{className:m("ui_columns",it.carousel,{[it.modalIsOpen]:s,[it.cluster]:S.clusterId}),top:!1,bottom:!1,onScroll:t?void 0:e=>{l(!0),n(e,"shelfScroll")},threshold:100,minDistance:50,snapToEdge:x,shift:M,isActive:!e||e.isActive,children:e=>E.map((i,a)=>P(i,e,R,a))})}),r(k,{showDisclaimer:d})]})]})})};return[()=>{eT.defaultProps={onClick:void 0,clusterId:void 0},er=eT,et=eO,el=ew,es=eA,en=ex,eU.defaultProps={geoShelfPhotoClassName:""},eo=eU,ec=ej,ed=ez,eh=eq,e_=class extends l{render(){var{topDestShelfInfo:e}=this.props,i=e.thumbnail,t=e&&e.route&&e.route.url?e.route.url:"#";return r(f,{children:l=>a("div",{className:eV.section,children:[r(R,{href:t,className:"ui_poi_thumbnail",onClick:e=>l(e,"feedClick"),children:i?r("div",{className:eV.photo_wrap,children:r("div",{className:eV.shelfForPhoto,children:r(D,{sources:e.thumbnail.photoSizes,width:"100%",height:"100%",borderRadius:"2px"})})}):a("span",{className:eV.shelfForPhoto,children:[" ",r("div",{className:eV.no_photo_available,children:r(A,{name:"flights",className:eV.icon})})]})}),a(R,{href:t,className:"item poi_name ui_link",onClick:e=>l(e,"feedClick"),children:[r("span",{className:eV.name,children:e.locationName}),this.props.topDestShelfInfo.displayPrice&&r("span",{className:`${eV.name} ${eV.price}`,children:r(y,{id:"from_price_fffff32b",args:{0:this.props.topDestShelfInfo.displayPrice}})})]}),r(R,{href:t,onClick:e=>l(e,"feedClick")})]})})}},eu=s(function(e){var i=w(),{rentalCarsLeadOffer:t}=e,l=t?.route?.url,s=i.formatCurrencyInteger(t.rentalCarsShelfPrice),n=[{url:t.carImage,height:150,width:225}];return r(f,{children:e=>a("div",{className:eK.section,children:[eB(l,n,e),eY(l,s,t,e),l&&r(R,{href:l,onClick:i=>e(i,"feedClick")})]})})}),ep=eG,em={"\x86":`<span class="${eQ.hit}">`,"\x87":"</span>","\n":"<br>","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},e0.defaultProps={title:void 0,defaultSnippet:void 0},ef=e0,ev=e4,e8.defaultProps={onClick:void 0},eN=Y(e=>({page:e.route.page}))(e8),eS=e9,eg=h(()=>i("qrifaa")),ea=class extends o{render(){var{video:e,isOpen:i,route:l}=this.props,{object:s}=e,n=s.sources[0].duration,o=Math.floor(n/6e4),d=Math.floor(n/1e3)-60*o,h=d<10?`${o}:0${d}`:`${o}:${d}`,_=G(l),u=r(P,{id:"videos_location_featuring_count_v2",args:{0:ie.poi_text_featured,1:s.orderedLocations?.length||""}});return r(f,{children:l=>a(t,{children:[a("div",{children:[a("div",{className:`${ie.video_wrap} ${i?ie.modalView:ie.inlineView}`,ref:this.contentNode,children:[a("div",{className:`${ie.video} ${i?"ui_columns":""}`,children:[i&&r("div",{className:`${ie.header} ui_column is-4 is-offset-8 is-3-widescreen is-offset-9-widescreen is-12-mobile`,children:r(Q,{})}),r("div",{className:i?`${ie.video_wrap} ui_column is-8 is-9-widescreen is-12-mobile`:"",children:r(ei,{children:r(c,{children:r("div",{className:ie.section_wrap,children:r(eg,{source:s.sources[0].url,width:"100%",height:i?"100%":"149px",preload:"auto",trackingModule:_,mediaId:s.id,autoplayWhenVisible:!1,ref:this.videoPlayer,poster:s.posterSizes[0].url,muted:!1},`player_${s.id}`)})})})}),i&&r(Z,{video:e,actor:s.userProfile,deleteObject:this.props.deleteObject,onClose:this.onCloseModal})]}),r("div",{className:ie.duration,children:h}),!i&&r("div",{className:ie.video_mask,onClick:e=>{l(e,"feedClick"),this.onOpenModal()}})]},`vw_${s.id}`),s.caption&&!i&&r("div",{className:ie.caption,onClick:e=>{l(e,"feedClick"),this.onOpenModal()},children:r(M,{text:s.caption,max:50})}),s.orderedLocations?.length?r("div",{className:ie.poi_text,children:u}):null]}),r(es,{userProfile:s.userProfile,isSponsored:this.props.isSponsored})]})})}constructor(e){super(e),ii(this,"onCloseModal",()=>{this.videoPlayer&&this.videoPlayer.current.pauseVideo(),this.props.navigate(this.props.route,{reset:!0}),this.props.updateModalState(!1)}),ii(this,"onOpenModal",()=>{this.videoPlayer&&(ee.set(J,Date.now()),this.props.navigate({...this.props.route,modal:`VideoShelf_${this.props.uniqueKey}_${this.props.video.object.id}`,username:this.props.video.object.userProfile.username}),this.videoPlayer.current.playVideo()),this.props.updateModalState(!0),this.props.video.object.registerClick&&this.props.video.object.registerClick()}),ii(this,"contentNode",void 0),ii(this,"videoPlayer",void 0),this.contentNode=d(),this.videoPlayer=d()}},ia.defaultProps={deleteObject:null},eC=ia,ir.defaultProps={member:void 0,shelfKey:void 0},ek=ir,ih.defaultProps={minShelfItems:3,maxShelfItems:8,member:void 0,shelfKey:"",reasonFor:void 0},eI=ih,e("Shelf",eI)},[e=>(a=e.jsxs,r=e.jsx,t=e.Fragment),e=>(l=e.PureComponent,s=e.memo,n=e.useMemo,o=e.Component,c=e.Suspense,d=e.createRef,h=e.lazy,_=e.useState,u=e.useContext,p=e.useEffect),e=>m=e.default,e=>(f=e.InteractionLogger,v=e.ItemIdContext),e=>N=e.TabActiveContext,e=>(S=e.AttractionOffers,g=e.AccommodationOffers,C=e.RateDisclaimerContext,k=e.RateDisclaimer),e=>I=e.ScrollAffordance,e=>b=e.SponsoredCrust,e=>T=e.ReasonForCrust,e=>(y=e.default,O=e.useLocalize,w=e.useIntlFormatter,P=e.UnsafeLocalize),e=>(R=e.Link,L=e.RouteConsumer),e=>A=e.Icon,e=>E=e.default,e=>D=e.ResponsiveImage,e=>M=e.Abbreviate,e=>x=e.isTripUser,e=>F=e.default,e=>U=e.MemberStatsBasic,e=>$=e.Avatar,e=>j=e.BubbleRatingWithReviewCount,e=>H=e.default,e=>(z=e.NoPhotoAvailableByPlaceType,q=e.PlaceTypeIcon),e=>V=e.BookmarkIcon,e=>K=e.QueriedTripFlowSelector,e=>W=e.LinkPreview,e=>B=e.ClickTracker,e=>X=e.default,e=>Y=e.connect,e=>G=e.getVideoTrackingModule,e=>Q=e.BrandedHeader,e=>(Z=e.VideoSidebar,J=e.FULLSCREEN_FROM_FEED_DATE_LOCAL_STORAGE_KEY),e=>ee=e.default,e=>ei=e.ErrorBoundary]]},["21h32l","o4yt4q","fkji80","yc8qq2","cv3feq","zs4vle","maf3t4","8621lr","obhljg","7thqz4","bvvaww","ybxsmg","bgkmqd","76j3t0","wgun1f","iyqcwg","wrdqv8","132xgv","dl4tf4","k3tmpy","ay1l3c","ygt7we","hfpjvp","9rb8bq","76zjdz","4axon3","i3vbpv","2mj4nv","7l6raj","cnyhjq","5vopce","tp1g68","83pm0d"]]);
