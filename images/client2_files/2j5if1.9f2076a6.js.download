(this.$WP=this.$WP||[]).push(["2j5if1",(e,t)=>{var i,n,a,r,o,l,s,d,c,u,m,h,p,f,g,_,I,y,v,T,N,A,D,R,S,w,O,E,b,C=e=>{var{description:t,photo:n,route:c,sponsorName:u,title:m,articleId:h,authors:p,locationType:f,sponsorshipContentType:D}=e.article,R=N(),S=T(),w=a(),{localize:O}=y(),{page:E}=r(),b=E===s||E===d,C=O.string("ad_related_stories_feature_in_content_widget"),q="BRANDED"===D?O.string("branded_call_out_in_partnership_with",{sponsorName:u}):O.string("sponsored_story_content_widget"),W=O.string("as_feature_in_content_widget"),x=p?.[0]?.author?.name?p?.[0]?.author?.name:void 0,z=u?"from":"by",U=u||void 0,L=v(()=>{S({itemType:o,itemGroup:"SingleArticle",itemName:u,itemId:`${h}`,customData:JSON.stringify({locationType:f,route:c}),team:"TAPS",page:E,pageUid:w})}),j=_(()=>{R({itemType:o,itemGroup:"SingleArticle",itemId:`${h}`,itemName:u,customData:JSON.stringify({locationType:f,route:c}),page:E,team:"TAPS",actionType:"click",pageUid:w})},[h,R,f,E,w,c,u]);if(null===n)return null;var k=i("div",{className:g({"zeMXO o":b}),children:t});return i("section",{ref:L,className:g("fyOpZ",{XIzLn:b}),children:i(I,{href:c,display:"block",theme:"none",target:l,onClick:()=>j(),children:i(A,{headerTitle:e.article.sponsorName?q:"as-featured-in"===e.titleOption?W:C,headerUrl:c,image:n,href:c,target:l,authorTarget:l,authorVariant:z,authorName:b?void 0:U||x,title:m,snippet:k})})})},q=e=>{var{articles:t}=e,{localize:l}=y(),{page:p}=r(),f=a(),_=T(),I=R(),N=p===d||p===s,A=p===u,S=p===m||p===h||N,w=p===h||N,O=p===u,E=t.map(e=>e.articleId);return n("section",{ref:v(()=>{_({itemType:o,itemGroup:"MultipleArticles",itemId:`${e.locationId}`,customData:JSON.stringify({articleCardIds:E}),page:p,team:"TAPS",pageUid:f})}),className:g("MIrqC Gi",{Emfdu:A,NxaVD:S,WlGzA:w,HFNjH:N}),children:[i("div",{className:g("eaQSM E",{KEiyD:w}),children:i(D,{variant:"title-02",color:"primaryText",elementType:I?"h2":void 0,children:l.string("ad_related_stories_feature_in_content_widget")})}),i("div",{className:g("NeZCO _h A",{vimTh:w,rMelW:O,qqaht:N}),children:t.map((e,t)=>i("div",{className:g("yVyfR",{YvpmX:0===t,lYDNx:1===t,ggzcD:2===t}),children:i(c,{article:e,widgetType:"as-featured-in"})},e.articleId))})]})},W={__key:0xe3fca2feb0f0,id:"e3fca2feb0f0fdf1",loc:{},definitions:[]},x=e=>{var t=[],i=e.filter(e=>e.sponsorName);return i.length>=3&&(t=i),i.length<3&&(t=[...i,...e.filter(e=>!e.sponsorName)]),t.length>3?t.slice(0,3):t},z=e=>{var t=[],i=(e,i)=>{e.forEach(e=>{if(e?.document&&e?.document?.content!=null){var{content:n,route:a,title:r,estimatedReadTime:o,lastUpdatedAt:l,space:s}=e.document,d={title:r,locationType:i,route:a?.url||"",readTime:o?`${o}`:null,lastUpdatedAt:l||null,sponsorshipContentType:e?.sponsoredArticle?.contentType,sponsorName:e?.sponsoredArticle?.sponsorName||"",authors:"authors"in n&&n?.authors||null,description:"seoInfo"in n&&n?.seoInfo?.metaDescription||"",photo:"thumbnail"in n&&n?.thumbnail?.photo?.photoSizeDynamic||null,articleId:s||"1"};d.photo&&t.push(d)}})};return e?.RichContent_getDocumentsByLocationId?.[0]?.documents&&i(e.RichContent_getDocumentsByLocationId[0].documents,p),e?.RichContent_getDocumentsByLocationId?.[1]?.documents&&i(e.RichContent_getDocumentsByLocationId[1].documents,f),t},U=(e,t,i)=>{var[{data:n,fetching:a}]=S({query:W,variables:{detailId:e,geoId:t},pause:!e&&!t||!i});return{fetching:a,articles:x(z(n))}},L=["Attraction_Review","Restaurant_Review","Tourism","ShowTopic","ShowForum"],j=[255060,189970,659488,298184,143028,147404],k=()=>{var{page:e,params:t}=r(),i="geoId"in t?t.geoId:null;return!("Tourism"===e&&i&&j.includes(i))&&L.includes(e)},G=()=>{var{params:e}=r(),t=b(),n=p in e&&e.detailId?e.detailId:0,a=f in e&&e.geoId?e.geoId:0,{fetching:o,articles:l}=E(n,a,t);return t&&!o&&l&&0!==l.length?l.length<=2?i(w,{titleOption:n?"as-featured-in":"related-stories",article:l[0]}):3===l.length?i(O,{articles:l,locationId:n||a}):null:null};return[()=>{w=C,O=q,E=U,b=k,e({AsFeaturedInWidget:G,default:G})},[e=>(i=e.jsx,n=e.jsxs),e=>(a=e.usePageviewUid,r=e.useRoute),e=>(o=e.AFI_WIDGET,l=e.BLANK,s=e.SHOW_TOPIC,d=e.SHOW_FORUM,c=e.ArticleCard,u=e.RESTAURANT_REVIEW,m=e.TOURISM,h=e.ATTRACTION_REVIEW,p=e.DETAIL_ID,f=e.GEO_ID),e=>g=e.default,e=>_=e.useCallback,e=>I=e.default,e=>y=e.useLocalize,e=>v=e.useOnVisible,e=>T=e.default,e=>N=e.default,e=>A=e.EditorialFeatureArticleShelf,e=>D=e.default,e=>R=e.useAttractionReviewTitleDivToH2,e=>S=e.useQuery]]},["21h32l","fgwvq1","eozxiw","fkji80","o4yt4q","lr6tb6","7thqz4","3btuy0","xg719z","r73jw8","asj0sy","essqvy","xk435v","mqwhqn"]]);
