(this.$WP=this.$WP||[]).push(["xo1is3",(e,r)=>{var p,i,u,s,t,n,o,a,c,T,d,v,l,m,g,E,f,h="REGISTER_POPUP",P="DISMISS_POPUP",S="RESET",M=(e,r)=>e?.get(r)||[],w=(e,r)=>M(e.popupTierDismissals,r).some(p=>!M(e.popupTierEvents,r).includes(p)),y=(e,r)=>!w(e,r)||!!e.popupSkipTiers?.get(r),k=(e,r)=>{switch(r){case 0:return k(e,50);case 50:if(y(e,r))return k(e,100);return 50;case 100:if(y(e,r))return k(e,200);return 100;case 200:if(y(e,r))return k(e,300);return 200;case 300:if(y(e,r))return k(e,400);return 300;case 400:if(y(e,r))return k(e,500);return 400;case 500:if(y(e,r))return k(e,600);return 500;case 600:if(y(e,r))return k(e,700);return 600;case 700:return 700;default:return 0}},x=(e,r,p,i)=>{var u=e.popupNodes,s=e.popupTier,t=new Map(e.popupSkipTiers),n=new Map(e.popupTierDismissals),o=r.tier,a=n.get(o),c=p.filter(e=>!a?.includes(e));return c.length>0&&(a&&a.length>0&&c.length>0?n.set(o,[...a,...c]):n.set(o,p)),i&&t.set(o,!0),e.popupNodes.some(e=>e.key===r.key)||(u=[...e.popupNodes,r],s=k({...e,popupTierDismissals:n,popupSkipTiers:t},0)),{...e,popupNodes:u,popupTierDismissals:n,popupTier:s,popupSkipTiers:t}},D=e=>{var r=Array.from(e.popupTierEvents.get(e.popupTier)||[]).sort().toString(),p=Array.from(e.popupTierDismissals?.get(e.popupTier||0)||[]).sort().toString(),i=r=>({...e,popupTier:r});if(r===p)switch(e.popupTier){case 0:return i(k(e,50));case 50:return i(k(e,100));case 100:return i(k(e,200));case 200:return i(k(e,300));case 300:return i(k(e,400));case 400:return i(k(e,500));case 500:return i(k(e,600));case 600:return i(k(e,700))}return e},R=(e,r)=>{var p=new Map(e.popupTierEvents),i=[...p.get(e.popupTier)||[]];if(r.forEach(r=>{!i.includes(r)&&e.popupNodes?.some(p=>p.key===r&&p.tier===e.popupTier)&&(i=[...i,r])}),i.toString()!==(e.popupTierEvents.get(e.popupTier)||[]).toString()){var u={popupTierEvents:e.popupTierEvents,popupTier:e.popupTier};(e.popupSkipTiers?.get(e.popupTier||0)||e.popupTierDismissals&&e.popupNodes.length>0&&void 0!==e.popupTier&&(i&&i?.length>0||0===e.popupTier))&&(p.set(e.popupTier,i),u=D({...e,popupTierEvents:p}));var s=e.popupMaxTier;return e.popupMaxTier<u.popupTier&&(s=u.popupTier),{...e,popupTierEvents:p,popupMaxTier:s,popupTier:u.popupTier}}return e},N=()=>({popupNodes:[],popupTierDismissals:new Map,popupTierEvents:new Map,popupTier:0,popupMaxTier:0,popupSkipTiers:new Map}),U=(e=N(),r)=>{switch(r.type){case h:if(void 0!==r.element)return x(e,r.element,r.dismissEvents,r.skip);return console.error("Missing element for action in the popup reducer."),e;case P:return R(e,r.dismissEvents);case S:return N();default:return e}},I=({children:e})=>e,O=()=>d(U,{popupNodes:[],popupTierDismissals:new Map,popupTierEvents:new Map,popupTier:0,popupMaxTier:0,popupSkipTiers:new Map});function _({nodes:e,tier:r,tierEvents:u}){return p(i,{children:e.filter(e=>e.tier===r&&!(u?.get(r)||[]).includes(e.key)).map(({node:e,key:r})=>p(E,{children:p(l,{children:e})},r))})}function C({registerPopupTier:e,dismissEvents:r,children:i}){var u=s(()=>({registerPopupTier:e,dismissEvents:r}),[e,r]);return p(g.Provider,{value:u,children:p(E,{children:p(l,{children:i})})})}var j=({children:e})=>{var r=m(),[i,s]=O(),c=t(r),T=t([]),d=n((e,r,p)=>{e===r?o(()=>s(p)):T.current=[{pageviewUid:r,event:p},...T.current]},[s]),v=n((e,p,i)=>{d(c.current,r,{type:h,element:e,dismissEvents:p,skip:i})},[d,r,c]),l=n(e=>{d(c.current,r,{type:P,dismissEvents:e})},[d,r,c]);return a(()=>{r!==c.current&&(c.current=r,s({type:S,dismissEvents:[]}),T.current.filter(e=>e.pageviewUid===r).forEach(e=>s(e.event)),T.current=[])},[s,c,r,T]),u(C,{registerPopupTier:v,dismissEvents:l,children:[p(E,{children:e}),p(_,{nodes:i.popupNodes,tier:i.popupTier,tierEvents:i.popupTierEvents})]})},q=e=>{var{registerPopupTier:r,dismissEvents:p}=v(g),{factory:i,key:u,eventTypes:o,tier:c,skip:T}=e,d=t(null),l=t(u),m=t(i),E=t(o);a(()=>{l.current!==u&&(l.current=u,m.current=i,E.current=o)},[u,i,o]);var f=n(()=>{p(E.current)},[p]),h=s(()=>({dismiss:f}),[f]);return a(()=>{d.current=m.current(h),r({node:d.current,key:u,tier:c},E.current,T)},[u,r,h,c,T]),h};return e({Provider:C,Renderer:_}),[()=>{g=c({registerPopupTier:()=>{},dismissEvents:()=>{}}),E=T(I),f=j,e({DISMISS_POPUP:P,PopupHierarchyLithiumProvider:f,Provider:C,REGISTER_POPUP:h,Renderer:_,dismiss:R,register:x,usePopupHierarchyRender:q})},[e=>(p=e.jsx,i=e.Fragment,u=e.jsxs),e=>(s=e.useMemo,t=e.useRef,n=e.useCallback,o=e.startTransition,a=e.useEffect,c=e.createContext,T=e.memo,d=e.useReducer,v=e.useContext),e=>l=e.ErrorBoundary,e=>m=e.usePageviewUid]]},["21h32l","o4yt4q","83pm0d","fgwvq1"]]);
