(this.$WP=this.$WP||[]).push(["b49gxf",(e,t)=>{var r,i,n,a,s,o,l,u,c,d,h,f,g,m,b={__key:0x7032b49fb193,id:"7032b49fb19339f3",loc:{},definitions:[]},p={__key:0xcb88bfbd34a,id:"0cb88bfbd34a84f7",loc:{},definitions:[]},v={__key:0x89ecf5da3f36,id:"89ecf5da3f362ceb",loc:{},definitions:[]},L={__key:0x5c4bcbd1f950,id:"5c4bcbd1f95021cd",loc:{},definitions:[]};function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S({children:e,forceNew:t=!1}){var i=o(m),n=h(),a=s(()=>new g(n),[n]),l=!t&&i instanceof g?i:a;return r(m.Provider,{value:l,children:e})}function P(e){var t=o(m),[r,i]=u(t.get(e));return c(()=>{var r=t.subscribe(e,i),n=setTimeout(()=>{t.loadPending()},0);return()=>{clearTimeout(n),r()}},[t,e]),r}function x(...e){var[{data:t}]=d({query:v,variables:{ids:e},pause:0===e.length});return a.useMemo(()=>t&&t.labels?t.labels.map(e=>e?.tagNameLocalized||null):Array(e.length).fill(null),[t,e.length])}var z=["de"],A=e=>s(()=>z.includes(e),[e]);function I({id:e}){return P(e)}function N(e){var t=!e.request.shouldEscape,i=function(...e){var[{data:t,fetching:r}]=d({query:b,variables:{requests:e},pause:0===e.length});return s(()=>!r&&t?.text?t.text:Array(e.length).fill("..."),[e,r,t])}(e.request);return t?r("span",{dangerouslySetInnerHTML:{__html:i.join(" ")}}):null!=i?i:null}function T(e){return P(`location.${String(e)}`)}function q({id:e}){return T(e)}function _(e){return P(`tag.${String(e)}`)}function w(e){return P(`airport.${e}`)}function $({id:e}){return _(e)}function C(e){var t=i();if("id"in e)return r(I,{id:e.id});if("request"in e)return r(N,{...e});if("tagId"in e)return r($,{id:e.tagId});if("locationId"in e)return r(q,{id:e.locationId});if("price"in e)return!0===e.iso?!0===e.isIntegerPrice?t.formatCurrencyISOInteger(e.price):t.formatCurrencyISO(e.price):!0===e.isIntegerPrice?t.formatCurrencyInteger(e.price):t.formatCurrency(e.price);if(e.date){var a=e?.format&&n(e.format)?e.format:"week_date_short";return t.formatDate(a,e.date)}return null}return e({LocalizedFilledString:N,LocalizedString:C,LocalizedStringProvider:S,LocalizedText:I,LocationName:q,Tag:$,useLocationAirportLabel:w,useLocationName:T,useTagLabel:_,useTagLabels:x}),[()=>{f=class{tag(e){return this.get(`tag.${String(e)}`)??null}location(e){return this.get(`location.${String(e)}`)??null}get(e){return this.map.get(e)??null}set(e,t){return(!this.has(e)||t!==this.get(e))&&(this.map.set(e,t),this.notify(e),!0)}notify(e){var t=this.subscribers.get(e);if(t){var r=this.get(e);[...t].forEach(e=>e(r))}}notifyAll(e){e.forEach(e=>this.notify(e))}subscribersForId(e){var t=this.subscribers.get(e);return t||(t=new Set,this.subscribers.set(e,t)),t}has(e){return this.map.has(e)}subscribe(e,t){var r=this.subscribersForId(e);return r.has(t)||r.add(t),this.has(e)?t(this.get(e)):this.pending.add(e),()=>{r.delete(t)}}load(e){return console.error("Attempt to use default LocalizedStringStore"),Promise.reject(Error("You need to initialize a store"))}missing(e){return e.filter(e=>!this.map.has(e))}addAll(e){var t=new Set;e.forEach(([e,r])=>{this.set(e,r??null)&&t.add(e)}),this.notifyAll([...t])}loadPending(){if(this.pending.size>0){var e=[...this.pending];this.pending.clear(),this.load(e).then(e=>this.notifyAll(e)).catch(e=>{console.error(e)})}}constructor(){y(this,"map",new Map),y(this,"nonexistent",new Set),y(this,"subscribers",new Map),y(this,"pending",new Set)}},g=class extends f{load(e){var t=this.missing(e);if(0===t.length)return Promise.resolve([]);var r=t.filter(e=>/^tag\./.test(e)).map(e=>Number(String(e.substr(4)))).filter(e=>!isNaN(e)),i=t.filter(e=>/^location\./.test(e)).map(e=>Number(String(e.substr(9)))).filter(e=>!isNaN(e)),n=t.filter(e=>/^airport\./.test(e)).map(e=>String(e.substr(8))),a=t.filter(e=>!/^(location|tag|airport)\./.test(e));return Promise.all([this.loadLocations(i),this.loadTags(r),this.loadAirports(n),this.loadKeys(a)]).then(()=>t)}loadLocations(e){return 0===e.length?Promise.resolve():this.client.query(L,{ids:e}).toPromise().then(t=>{var{data:r}=t;r&&r.names&&this.addAll(r.names.map((t,r)=>[`location.${e[r]}`,t?.localizedName??null]))})}loadTags(e){return 0===e.length?Promise.resolve():this.client.query(v,{ids:e}).toPromise().then(t=>{var{data:r}=t;r&&r.labels&&this.addAll(r.labels.map((t,r)=>[`tag.${e[r]}`,t?.tagNameLocalized??null]))})}loadAirports(e){return 0===e.length?Promise.resolve():this.client.query(p,{airportCodes:e}).toPromise().then(t=>{var{data:r}=t;r&&r.labels&&this.addAll(r.labels.map((t,r)=>[`airport.${e[r]}`,t?.locationName??null]))})}loadKeys(e){return 0===e.length?Promise.resolve():this.client.query(b,{requests:e.map(e=>({key:e}))}).toPromise().then(t=>{var{data:r}=t;r&&r.text&&this.addAll(r.text.map((t,r)=>[e[r],t??null]))})}constructor(e){super(),y(this,"client",void 0),this.client=e}},m=l(new f),e({LocalizedFilledString:N,LocalizedString:C,LocalizedStringProvider:S,LocalizedText:I,LocationName:q,Tag:$,useIsLongLanguage:A,useLocationAirportLabel:w,useLocationName:T,useTagLabel:_,useTagLabels:x})},[e=>r=e.jsx,e=>(i=e.useIntlFormatter,n=e.isDateTimeFormat),e=>(a=e,s=e.useMemo,o=e.useContext,l=e.createContext,u=e.useState,c=e.useEffect),e=>(d=e.useQuery,h=e.useClient)]]},["21h32l","7thqz4","o4yt4q","mqwhqn"]]);
