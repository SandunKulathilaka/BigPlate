(this.$WP=this.$WP||[]).push(["shzb6i",(e,o)=>{var t,r,n,i,l,a,c,s,p,d,u,h,m,R,f,O,g,T,v,E,w,P,y,L,_,k,b,M,I,j,A,N={float:"_m"};function C(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var D=["Video","Photo","LinkPost"],F=["Review","ReviewMgmtResponse","Photo","Video","LinkPost","ForumPost","Trip","RoomTip","ApiLocationTopic","ApiTopicPosting"],U=e=>{var o={};return e.forEach(([e,t])=>{o[e]=t}),o},x=({sectionActor:e,deleteObject:o,onEdit:r,untagObject:n,closeOverflowOnScroll:l,sectionObject:a,sectionObjectForType:c,overrideItems:p})=>{var{current:d}=i(`ReportIAP:${Math.random()}`);return t(j,{children:t(g,{pid:40474,children:i=>t(s,{name:d,children:s=>t(O,{children:h=>t(u,{profile:e,children:u=>t(A,{sectionActor:e,reportModalName:d,onReport:s,logInteraction:h,loginGate:i,deleteObject:o,sectionObjectForType:c,onEdit:r,untagObject:n,sectionObject:a,overrideItems:p,gatedAction:u,closeOverflowOnScroll:l})})})})})})};return[()=>{e("WrappedSectionOverflowMenu$1",A=class extends l{renderList({reportEnabled:e,editEnabled:o,deleteEnabled:i,untagEnabled:l,followEnabled:a,onDelete:s,onUntag:p,mergedSectionObjectForType:d}){var{onEdit:u,onReport:O,loginGate:g,logInteraction:v,sectionActor:E,closeOverflowOnScroll:w}=this.props,P=[],y=T({module:"Reviews",action:"review_report_click",context:E?.userId||""}),L=T({module:"Reviews",action:"review_follow_click",context:E?.userId||""});return e&&P.push(t(f,{onClick:({event:e,close:o})=>{v(e,"report"),y();var t=()=>{O(),e.stopPropagation(),o()};g?g().then(()=>{t()}):t()},children:t(c,{id:"social_report_1"})},"report")),o&&P.push(t(f,{onClick:({event:e,close:o})=>{"function"==typeof u&&u(),e.stopPropagation(),o()},children:t("span",{children:t(c,{id:"trips_edit_CTA"})})},"edit")),i&&s&&P.push(t(f,{onClick:({event:e,close:o})=>{v(e,"delete"),"function"==typeof s&&s(),e.stopPropagation(),o()},children:t("span",{"data-test-target":"delete-item",children:t(c,{id:"inbox_swipe_delete"})})},"delete")),a&&E&&P.push(t(f,{onClick:({event:e,close:o})=>{this.props.gatedAction(),L(),e.stopPropagation(),o()},children:t(h,{profile:E})},"follow")),l&&p&&P.push(t(f,{onClick:({event:e,close:o})=>{v(e,"untag"),"function"==typeof p&&p(),e.stopPropagation(),o()},children:t("span",{children:t(c,{id:"social_untag_me"})})},"untag")),r(n,{children:[e?this.renderReportModal(d.REPORT):null,t(m,{closeOnScroll:w,onClick:e=>v(e,"overflowMenuClick"),iconColor:"BLACK",children:t(R,{children:P})})]})}render(){var{deleteObject:e,onEdit:o,untagObject:i,sectionActor:l,sectionObject:a,sectionObjectForType:c,overrideItems:s={}}=this.props;if(!a&&!c)return null;var u={...a?U(["REPORT","DELETE","EDIT","FOLLOW","UNTAG"].map(e=>[e,a])):{},...c},h=l&&l.isMe,m="Repost"===u.REPORT.__typename&&F.includes(u.REPORT.repostedObject?.__typename)||F.includes(u.REPORT.__typename)&&!1!==s.REPORT&&(s.REPORT||!h),R=D.includes(u.EDIT.__typename)&&o&&!1!==s.EDIT&&(!0===s.EDIT||h),f=e&&u.DELETE&&!1!==s.DELETE&&(s.DELETE||h),O=!1!==s.FOLLOW&&l&&(s.FOLLOW||!h),g=i&&u.UNTAG&&!1!==s.UNTAG;return m||R||f||O||g?f?t(p,{objectType:u.DELETE.__typename,deleteObject:e,shiftY:-5,below:!0,alignEdge:"right",children:(e,o)=>r(n,{children:[t(d,{untagObject:i,shiftY:-5,below:!0,alignEdge:"right",children:(e,i)=>r(n,{children:[this.renderList({reportEnabled:m,editEnabled:R,deleteEnabled:f,untagEnabled:g,followEnabled:O,mergedSectionObjectForType:u,onDelete:o,onUntag:i}),t("span",{className:N.float,ref:e})]})}),t("span",{className:N.float,ref:e})]})}):t(d,{untagObject:i,shiftY:-5,below:!0,alignEdge:"right",children:(e,o)=>r(n,{children:[this.renderList({reportEnabled:m,editEnabled:R,deleteEnabled:f,untagEnabled:g,followEnabled:O,mergedSectionObjectForType:u,onDelete:null,onUntag:o}),t("span",{className:N.float,ref:e})]})}):null}constructor(...e){super(...e),C(this,"renderReportModal",e=>{var{reportModalName:o}=this.props,r=this.props.sectionActor&&this.props.sectionActor.userId,n=v(e);switch(e.__typename){case"RoomTip":case"Review":return a(I,{...n,modalName:o,key:"report"});case"ReviewMgmtResponse":return t(M,{modalName:o,userId:r,responseId:n.contentId});case"Photo":return a(b,{...n,modalName:o,key:"report"});case"Video":return a(k,{...n,modalName:o,key:"report"});case"LinkPost":return a(_,{...n,modalName:o,key:"report"});case"ForumPost":return a(L,{...n,modalName:o,key:"report"});case"Trip":return a(y,{...n,modalName:o,key:"report"});case"Repost":return a(P,{...n,modalName:o,key:"report"});case"ApiLocationTopic":return a(w,{...n,modalName:o,key:"report"});case"ApiTopicPosting":return a(E,{...n,modalName:o,key:"report"});default:return console.error(`Tried to report unsupported report type ${e.__typename}:${n.contentId}`),null}})}}),C(A,"defaultProps",{onEdit:void 0,untagObject:void 0,deleteObject:void 0,sectionObjectForType:void 0,closeOverflowOnScroll:!1}),e("SectionOverflowMenu",x)},[e=>(t=e.jsx,r=e.jsxs,n=e.Fragment),e=>(i=e.useRef,l=e.Component,a=e.createElement),e=>c=e.default,e=>s=e.Opener,e=>(p=e.DeleteConfirmation,d=e.UntagConfirmation),e=>(u=e.FollowAction,h=e.FollowText),e=>(m=e.OverflowUI,R=e.OverflowUIList,f=e.OverflowUIListItem),e=>O=e.InteractionLogger,e=>g=e.SocialLoginGate,e=>T=e.useGARecordCallback,e=>(v=e.reportPropsFromObject,E=e.ReportLocationTopicPostModal,w=e.ReportLocationTopicModal,P=e.ReportRepostModal,y=e.ReportTripModal,L=e.ReportForumModal,_=e.ReportLinkModal,k=e.ReportVideoModal,b=e.ReportPhotoModal,M=e.ReportOwnerResponseModal,I=e.ReportReviewModal),e=>j=e.HideOnReadonly]]},["21h32l","o4yt4q","7thqz4","80hn7v","zx93be","3ly988","dlkpwl","yc8qq2","0506zk","32pwc7","467088","zjrz9w"]]);
